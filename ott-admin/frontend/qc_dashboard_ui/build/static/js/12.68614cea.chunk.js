(this.webpackJsonpqoe=this.webpackJsonpqoe||[]).push([[12],{1584:function(e,t,a){"use strict";var n=a(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(129)),c=a(0),l=(0,i.default)((0,c.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=l},1658:function(e,t,a){"use strict";var n=a(2),i=a(18),c=a(1),l=a(13),o=a(26),s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,s=e.component,r=void 0===s?"div":s,d=Object(i.a)(e,["classes","className","component"]);return c.createElement(r,Object(n.a)({ref:t,className:Object(l.default)(a.root,o)},d))}));t.a=Object(o.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(s)},1838:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Mt}));var n=a(1),i=a.n(n),c=a(6),l=a(18),o=a(1535),s=a(554),r=a(1540),d=a(1525),j=a(25),b=a(9),u=a(1547),O=a(1561),h=a(1562),m=a(1563),v=a(1564),f=a(1565),x=a(1840),p=a(207),g=a(503),A=a(1502),y=a(321),S=a(1554),D=a(499),C=a(1417),_=a(556),N=a(688),w=a(211),k=a(398),T=a(1559),M=a(257),I=a.n(M),E=a(1429),R=a(192),Y=a.n(R),B=a(150),P=a(10),z=a(22),F=a(35),L=a.n(F),Q=a(71),V=a(99),G=a(32),W=a(1512),U="data:image/gif;base64,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",H=(a(36),a(1544)),q=a(1513),J=a(1514),K=a(1515),Z=a(294),X=a(1497),$=a(1498),ee=a(0),te=["isOpen","onClose","title","children"],ae=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.onClose,i=void 0===n?function(){}:n,c=e.title,o=void 0===c?"":c,s=e.children;Object(l.a)(e,te);return Object(ee.jsx)("div",{className:"status-model",children:Object(ee.jsxs)(X.a,{className:"paperDialoge",onClose:function(e){i(e)},open:a,children:[Object(ee.jsx)($.a,{style:{padding:"16px 24px 0 21px"},children:o}),s]})})},ne=a(166),ie=a.n(ne),ce=a(19),le=function(){var e,t,a,l=Object(z.c)(),s=Object(z.d)((function(e){return e.qoeReducer})),r=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),d=Object(b.a)(r,2),_=d[0],N=d[1],M=Object(n.useState)(Math.floor((new Date).getTime()/1e3)),R=Object(b.a)(M,2),Y=R[0],B=R[1],F=Object(n.useState)("24hr"),X=Object(b.a)(F,2),$=X[0],te=X[1],ne=Object(n.useState)([null,null]),le=Object(b.a)(ne,2),se=(le[0],le[1],Object(n.useState)(!1)),re=Object(b.a)(se,2),de=re[0],je=re[1],be=Object(n.useState)(!1),ue=Object(b.a)(be,2),Oe=ue[0],he=ue[1],me=Object(n.useState)([]),ve=Object(b.a)(me,2),fe=ve[0],xe=ve[1],pe=Object(n.useState)(""),ge=Object(b.a)(pe,2),Ae=ge[0],ye=ge[1],Se=Object(n.useState)(-1),De=Object(b.a)(Se,2),Ce=De[0],_e=De[1],Ne=Object(n.useState)("None"),we=Object(b.a)(Ne,2),ke=(we[0],we[1],Object(n.useState)([])),Te=Object(b.a)(ke,2),Me=Te[0],Ie=Te[1],Ee=Object(n.useState)(!1),Re=Object(b.a)(Ee,2),Ye=Re[0],Be=Re[1],Pe=Object(n.useState)([]),ze=Object(b.a)(Pe,2),Fe=ze[0],Le=ze[1],Qe=Object(n.useState)([]),Ve=Object(b.a)(Qe,2),Ge=(Ve[0],Ve[1],Object(n.useState)(!1)),We=Object(b.a)(Ge,2),Ue=We[0],He=We[1],qe=Object(n.useState)(""),Je=Object(b.a)(qe,2),Ke=Je[0],Ze=Je[1],Xe=Object(n.useState)(""),$e=Object(b.a)(Xe,2),et=$e[0],tt=$e[1],at=Object(n.useState)(""),nt=Object(b.a)(at,2),it=nt[0],ct=nt[1],lt=Object(n.useState)(""),ot=Object(b.a)(lt,2),st=ot[0],rt=ot[1],dt=Object(n.useState)(""),jt=Object(b.a)(dt,2),bt=jt[0],ut=jt[1],Ot=Object(n.useState)(""),ht=Object(b.a)(Ot,2),mt=ht[0],vt=ht[1],ft=Object(n.useState)(""),xt=Object(b.a)(ft,2),pt=xt[0],gt=xt[1],At=Object(n.useState)(""),yt=Object(b.a)(At,2),St=yt[0],Dt=yt[1],Ct=Object(n.useState)(!1),_t=Object(b.a)(Ct,2),Nt=_t[0],wt=_t[1],kt=Object(n.useState)(""),Tt=Object(b.a)(kt,2),Mt=Tt[0],It=Tt[1],Et=Object(n.useState)(!1),Rt=Object(b.a)(Et,2),Yt=Rt[0],Bt=Rt[1],Pt=Object(n.useState)(!1),zt=Object(b.a)(Pt,2),Ft=zt[0],Lt=zt[1],Qt=Object(n.useState)(),Vt=Object(b.a)(Qt,2),Gt=Vt[0],Wt=(Vt[1],Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}])),Ut=Object(b.a)(Wt,2),Ht=Ut[0],qt=Ut[1],Jt=Object(n.useState)(!1),Kt=Object(b.a)(Jt,2),Zt=Kt[0],Xt=Kt[1],$t=Object(n.useState)(),ea=Object(b.a)($t,2),ta=ea[0],aa=ea[1],na=Object(n.useState)(),ia=Object(b.a)(na,2),ca=ia[0],la=ia[1],oa=i.a.useState(0),sa=Object(b.a)(oa,2),ra=sa[0],da=sa[1],ja=i.a.useState(10),ba=Object(b.a)(ja,2),ua=ba[0],Oa=ba[1],ha=Object(n.useState)(!1),ma=Object(b.a)(ha,2),va=ma[0],fa=ma[1],xa=Object(n.useState)([]),pa=Object(b.a)(xa,2),ga=pa[0],Aa=pa[1],ya=Object(n.useState)(!1),Sa=Object(b.a)(ya,2),Da=Sa[0],Ca=Sa[1],_a=Object(n.useState)(),Na=Object(b.a)(_a,2),wa=Na[0],ka=Na[1],Ta=new FileReader,Ma=i.a.useState(!1),Ia=Object(b.a)(Ma,2),Ea=Ia[0],Ra=Ia[1],Ya=Object(n.useState)(!1),Ba=Object(b.a)(Ya,2),Pa=Ba[0],za=Ba[1],Fa=Object(n.useState)(!1),La=Object(b.a)(Fa,2),Qa=La[0],Va=La[1];Object(n.useEffect)((function(){var e,t="labeled_data_ERC_"+L()(Math.floor(1e3*new Date(_).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(Y).getTime())).format("DD/MM/YYYY"),a=V.a.types.csv;if(null!==s&&void 0!==s&&s.labeledCSVRecord&&Qa)if(console.log("alabeled data--",s),(null===s||void 0===s||null===(e=s.labeledCSVRecord)||void 0===e?void 0:e.Items.length)>0){var n,i;(i=null===s||void 0===s||null===(n=s.labeledCSVRecord)||void 0===n?void 0:n.Items.map((function(e){var t=L()(Math.floor(new Date(e.batch_time))).format("DD/MM/YYYY hh:mm");return delete e.batch_time,e.Date_Time="  "+t.toString(),e.analysis_window_hrs="  "+e.analysis_window_hrs.toString(),null!==e&&void 0!==e&&e.rca_bucket?e.rca_bucket=e.rca_bucket:e.rca_bucket="",e.is_approved?e.is_approved=e.is_approved:e.is_approved=0,e}))).length>0?(Va(!1),Object(V.a)({data:i,fileName:t,exportType:a})):(Va(!1),G.NotificationManager.error("Data not found !!","",2e3))}else Va(!1),G.NotificationManager.error("Data not found !!","",2e3)}),[null===s||void 0===s?void 0:s.labeledCSVRecord]);var Ga=function(e){var t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n"),n=[];if(1==a.length&&a.map((function(e){""==e?(a=[],Ca(!0)):Ca(!1)})),a.length>0){var i=a.length>0?a.map((function(e){var i=e.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/),c=t.reduce((function(e,t,c){return void 0!==a[c]&&n.push(a[c].split(",")),e[t.trim()]=i[c],e}),{});if(void 0!==c.is_approved&&(c.is_approved=0==c.is_approved?parseInt(0):parseInt(1)),null!==c&&void 0!==c&&c.Date_Time){var l=L()(c.Date_Time,"DD-MM-YYYY hh:mm").format("MM/DD/YYYY HH:MM"),o=Math.floor(L()(l).endOf("date")._d.getTime());c.batch_time=o,delete c.Date_Time}return delete c.type,c})):[];console.log(i,"check array"),Aa(i)}else setTimeout((function(){G.NotificationManager.error("No Record Found","",2e3)}),2e3)},Wa=(s||{}).isSetEstimatedRootSecondLoader,Ua=function(){if(Fe.length>0){var e=[];return Fe.map((function(t){if(t.is_approved=1,Nt){var a=new Date(t.batch_time).getTime();t.batch_time=a}e.push(t)})),e}},Ha=function(e,t,a,n){if("plus"===n){l(Object(P.bd)([]));var i=Math.floor((new Date).getTime()/1e3);_e(e===Ce?-1:e),ye(null===a||void 0===a?void 0:a.analysis_window_hrs),It(a.dimension),t&&l(Object(P.W)(l,i,_,a.dimension))}else _e(e===Ce?-1:e),ye(""),l(Object(P.bd)([]))};Object(n.useEffect)((function(){je(!0);var e={totalAnomalyRecord:Ke,totalAnomalyRecordSign:et,problemScore:it,problemScoreSign:st,upperThresholdData:pt,upperThresholdSign:St,totalRecords:bt,totalRecordsSign:mt},t=ca?Math.floor(L()(Ht[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);l(Object(P.W)(l,t,_,Mt,e)),setTimeout((function(){je(!1)}),[3e3])}),[_,ca]);var qa=function(){Ie([]),Bt(!1),Nt&&wt(!1)},Ja=function(e){if(e.length>0){var t=[];e.map((function(e){e.is_approved=1,t.push(e)})),Ie(t)}};Object(n.useEffect)((function(){if(Ea){var e,t;je(!0);var a=ca?Math.floor(L()(Ht[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);B(a);var n={totalAnomalyRecord:Ke,totalAnomalyRecordSign:et,problemScore:it,problemScoreSign:st,upperThresholdData:pt,upperThresholdSign:St,totalRecords:bt,totalRecordsSign:mt};l(Object(P.ub)(l,a,_,ra,null!==s&&void 0!==s&&null!==(e=s.rcaDetect)&&void 0!==e&&e.next_iteration_id?null===s||void 0===s||null===(t=s.rcaDetect)||void 0===t?void 0:t.next_iteration_id:"",n)),l(Object(P.V)(l)),setTimeout((function(){Ra(!1),je(!1)}),1e4)}}),[Ea]),Object(n.useEffect)((function(){var e,t;je(!0);var a=ca?Math.floor(L()(Ht[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);B(a);var n={totalAnomalyRecord:Ke,totalAnomalyRecordSign:et,problemScore:it,problemScoreSign:st,upperThresholdData:pt,upperThresholdSign:St,totalRecords:bt,totalRecordsSign:mt};l(Object(P.ub)(l,a,_,ra,null!==s&&void 0!==s&&null!==(e=s.rcaDetect)&&void 0!==e&&e.next_iteration_id?null===s||void 0===s||null===(t=s.rcaDetect)||void 0===t?void 0:t.next_iteration_id:"",n)),l(Object(P.V)(l)),setTimeout((function(){je(!1)}),1e4)}),[_,ca]),Object(n.useEffect)((function(){var e;if(null!==s&&void 0!==s&&null!==(e=s.rcaDetect)&&void 0!==e&&e.Items){var t,a=null===s||void 0===s||null===(t=s.rcaDetect)||void 0===t?void 0:t.Items.reduce((function(e,t){var a=e.reduce((function(e,a,n){return a.analysis_window_hrs===t.analysis_window_hrs?n:e}),-1);if(a>=0)t.rca_bucket="",e[a].value=e[a].value.concat(t);else{t.rca_bucket="";var n={batch_time:null===t||void 0===t?void 0:t.batch_time,analysis_window_hrs:t.analysis_window_hrs,value:[t]};e=e.concat([n])}return e}),[]);xe(a.sort())}}),[null===s||void 0===s?void 0:s.rcaDetect]);var Ka=function(e,t,a){var n={};Object.values(Ke).length>0&&Object.values(et).length>0&&(n.total_anomaly_records=[et,Number(Ke)]),Object.values(it).length>0&&Object.values(st).length>0&&(n.problem_score=[st,Number(it)]),Object.values(bt).length>0&&Object.values(mt).length>0&&(n.total_records=[mt,Number(bt)]),Object.values(pt).length>0&&Object.values(St).length>0&&(n.upper_threshold=[St,Number(pt)]);var i={filters:n};return fetch("http://3.6.164.157:8084/api/GetDetailedRCARecords?to_time=".concat(e,"&from_time=").concat(t,"&upper_threshold=").concat(a),{method:"POST",headers:Object(c.a)({"Content-Type":"application/json"},{contentType:"application/json"}),body:JSON.stringify(i)}).then((function(e){return e.json()}))},Za=function(e,t){e&&(G.NotificationManager.success("".concat(e," copied"),"",200),ie()(t))};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"cta-btn",children:[Object(ee.jsx)("div",{className:"top-left-nav",children:Object(ee.jsxs)(p.a,{variant:"h5",style:{fontSize:"1.2rem",paddingLeft:"13px"},children:["Estimated Root Causes (",fe.length,")"]})}),Object(ee.jsxs)("div",{className:"status-report",children:[Object(ee.jsx)(k.a,{onClick:function(){N(Math.floor((new Date).getTime()/1e3)-86400),te("24hr"),je(!0),aa(),la()},className:"24hr"===$?"Status-btn-active":"Status-btn",children:"24hrs"}),Object(ee.jsx)(k.a,{onClick:function(){N(Math.floor((new Date).getTime()/1e3)-604800),te("weekly"),je(!0),aa(),la()},className:"weekly"===$?"Status-btn-active":"Status-btn",children:"48hrs"}),Object(ee.jsx)(k.a,{onClick:function(){N(Math.floor((new Date).getTime()/1e3)-2592e3),te("monthly"),je(!0),aa(),la()},className:"monthly"===$?"Status-btn-active":"Status-btn",children:"72hrs"}),Object(ee.jsxs)("div",{className:"dateCountcustom",children:[Object(ee.jsxs)("div",{className:"row eds-dateCont",children:[Object(ee.jsx)("span",{children:"Custom Date"}),Object(ee.jsx)(T.a,{onClick:function(){return Xt(!0)},contentEditable:!1,value:ta?L()(ta).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"}),Object(ee.jsxs)(o.a,{className:"to",sx:{mx:2},children:[" ","to"," "]}),Object(ee.jsx)(T.a,{onClick:function(){return Xt(!0)},contentEditable:!1,value:ca?L()(ca).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"})]}),Object(ee.jsxs)(H.a,{isOpen:Zt,toggle:function(){return Xt(!1)},centered:!0,children:[Object(ee.jsx)(q.a,{children:Object(ee.jsx)("h3",{children:"Date Picker"})}),Object(ee.jsx)(J.a,{children:Object(ee.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(ee.jsx)(Z.DateRange,{onChange:function(e){return qt([e.selection])},ranges:Ht,editableDateInputs:!0,moveRangeOnFirstSelection:!1,maxDate:new Date})})}),Object(ee.jsx)(K.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(E.a,{onClick:function(){return Xt(!1)},variant:"contained",className:"btn-danger text-white bg-danger",children:"Cancel"}),Object(ee.jsx)(E.a,{onClick:function(){console.log(Ht[0],"ramge"),te(""),aa(Ht[0].startDate),la(Ht[0].endDate),Xt(!1),B(Math.floor(L()(Ht[0].endDate).endOf("date")._d.getTime()/1e3)),N(Math.floor(L()(Ht[0].startDate).endOf("date")._d.getTime()/1e3)-86400+500)},variant:"contained",color:"primary",className:"text-white bg-primary",style:{marginLeft:10},children:"Submit"})]})})]})]}),Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#E10092"},onClick:function(){he(!0);var e=Math.floor((new Date).getTime()/1e3);B(e),l(Object(P.Uc)([]));var t=V.a.types.csv,a="Estimated_Root_Cause_"+L()(Math.floor(1e3*new Date(_).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(Y).getTime())).format("DD/MM/YYYY");Ka(e,_,1).then((function(e){var n;(n=e.Items.map((function(e){var t=L()(Math.floor(new Date(e.batch_time))).format("DD/MM/YYYY hh:mm");return delete e.batch_time,e.Date_Time="  "+t.toString(),e.analysis_window_hrs="  "+e.analysis_window_hrs.toString(),null!==e&&void 0!==e&&e.rca_bucket?e.rca_bucket=e.rca_bucket:e.rca_bucket="",e.is_approved?e.is_approved=e.is_approved:e.is_approved=0,e}))).length>0&&Object(V.a)({data:n,fileName:a,exportType:t}),he(!1)})).catch((function(){he(!1)}))},children:[" ",Object(ee.jsx)(u.a,{title:"Download Estimated Root Cause Data Not Labeled",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-download"})})]}),Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#e20092"},onClick:function(){Object(ce.h)("WRITE_ESTIMATED_ROOT_CAUSE")?(Aa([]),fa(!0)):G.NotificationManager.error(ce.a.message)},children:Object(ee.jsx)(u.a,{title:"Upload CSV File",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-upload"})})}),Object(ee.jsx)(u.a,{title:"Download Estimated Root Cause Labeled Data",arrow:!0,children:Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"13px",color:"#e20092"},onClick:function(){he(!0),Va(!0);var e=ca?Math.floor(L()(Ht[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);l(Object(P.fb)(l,e,_,{anomaly_type:"erca"})),setTimeout((function(){he(!1)}),7e3)},children:["Labeled ",Object(ee.jsx)("i",{style:{margin:"0 0 0 7px"},className:"zmdi zmdi-download"})]})}),Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",onClick:function(){return Be(!0)},endIcon:Object(ee.jsx)(I.a,{})})]})]}),Oe?Object(ee.jsx)("div",{style:{height:"100vh",width:"100vw",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(0, 0, 0,0.3)",zIndex:5},children:Object(ee.jsx)(Q.a,{})}):"",de?Object(ee.jsx)("div",{style:{height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ee.jsx)(Q.a,{})}):Object(ee.jsxs)(ee.Fragment,{children:[null!==s&&void 0!==s&&null!==(e=s.rcaDetect)&&void 0!==e&&e.Items&&(null===s||void 0===s||null===(t=s.rcaDetect)||void 0===t?void 0:t.Items.length)>0?Object(ee.jsxs)("div",{className:"full-table",children:[Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{children:"Dimension"}),Object(ee.jsx)(f.a,{children:"RCA Unique ID"}),Object(ee.jsx)(f.a,{children:"Batch Time"}),Object(ee.jsx)(f.a,{children:"Analysis Window Hrs"}),Object(ee.jsx)(f.a,{children:"Total Anomaly Records"}),Object(ee.jsx)(f.a,{children:"Problem Score"}),Object(ee.jsx)(f.a,{children:"Total Records "}),Object(ee.jsx)(f.a,{children:"Upper Threshold"}),Object(ee.jsx)(f.a,{children:"Rca Bucket"}),Object(ee.jsx)(f.a,{})]})}),fe&&fe.slice(ra*ua,ra*ua+ua).map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.batch_time).getTime());return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(v.a,{style:{background:"#ddd"},children:[Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{style:{"font-size":"0.925rem !important"},children:[L()(a/1e3).format("DD-MM-YYYY")," "]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)("h3",{children:e.analysis_window_hrs})}),Object(ee.jsx)(f.a,{children:" "}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{})]}),e.value.map((function(t,n){var i,c,l,r;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:t.analysis_window_hrs===Ae&&n===Ce?Object(ee.jsx)("i",{onClick:function(){Ha(n,!1,t,"minus"),za(!1)},style:{cursor:"pointer",fontSize:"24px"},className:"zmdi zmdi-minus-circle"}):Object(ee.jsx)("i",{style:{cursor:"pointer",fontSize:"24px"},onClick:function(){Ha(n,!0,t,"plus"),za(!0)},className:"zmdi zmdi-plus-circle"})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)("p",{className:"anomalyptag",children:t.dimension})}),Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Za("RCA Unique Id",t.rca_unique_id)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{"font-size":"1.2rem"}})," ",t.rca_unique_id]})]}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsxs)(f.a,{children:[" ",t.analysis_window_hrs]}),Object(ee.jsx)(f.a,{children:t.total_anomaly_records}),Object(ee.jsx)(f.a,{children:t.problem_score}),Object(ee.jsxs)(f.a,{children:[t.total_records," "]}),Object(ee.jsx)(f.a,{children:t.upper_threshold}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)(T.a,{id:"outlined-select-currency",variant:"standard",fullWidth:!0,select:!0,placeholder:"rca bucket",className:"rcabucketdd",value:t.rca_bucket,onChange:function(a){!function(e,t,a){var n,i=fe.indexOf(t),c=null===(n=fe[i])||void 0===n?void 0:n.value.indexOf(a);fe[i].value[c].rca_bucket=e.target.value,xe(Object(j.a)(fe))}(a,e,t)},children:[Object(ee.jsx)(g.a,{value:"None",children:"None"},"None"),null===s||void 0===s||null===(i=s.estimatedRootRcaBucket)||void 0===i?void 0:i.Items.map((function(e){return Object(ee.jsx)(g.a,{value:e.bucket_name,children:e.bucket_name},e.bucket_name)}))]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_ESTIMATED_ROOT_CAUSE"),onChange:function(){return function(e){if(""!=e.rca_bucket){delete e.type;var t=new Date(e.batch_time).getTime();e.batch_time=t,wt(!1);var a=Me.indexOf(e),n=Object(j.a)(Me);-1===a?n.push(e):n.splice(a,1),Ie(n)}else G.NotificationManager.error("Please Select RCA Bucket First","",2e3)}(t)},edge:"start",checked:-1!==Me.indexOf(t)})})]}),Object(ee.jsx)(v.a,{children:Object(ee.jsx)(f.a,{style:{paddingBottom:0,paddingTop:0},colSpan:12,children:Object(ee.jsxs)(A.a,{in:t.analysis_window_hrs===Ae&&n===Ce,timeout:"auto",unmountOnExit:!0,children:[Object(ee.jsx)(o.a,{children:Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{whiteSpace:"nowrap"},children:Object(ee.jsxs)(v.a,{children:[Object(ee.jsx)(f.a,{children:"Anomaly Id"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Device Id"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"DRM"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:" HAS"}),Object(ee.jsxs)(f.a,{children:[" ","Approval"]}),Object(ee.jsxs)(f.a,{children:[" ","Error Count"]}),Object(ee.jsxs)(f.a,{children:[" ","Error Code"]}),Object(ee.jsx)(f.a,{children:"Live"}),Object(ee.jsx)(f.a,{children:"Location"}),Object(ee.jsx)(f.a,{children:"Bandwidth"}),Object(ee.jsxs)(f.a,{children:["Rebuffering Ratio"," "]}),Object(ee.jsx)(f.a,{children:"Video Start Time"}),Object(ee.jsx)(f.a,{children:"Manufacturer"}),Object(ee.jsxs)(f.a,{children:["Network"," "]}),Object(ee.jsxs)(f.a,{children:["Session Id"," "]}),Object(ee.jsxs)(f.a,{children:["Video Id"," "]}),Object(ee.jsxs)(f.a,{children:["Anomaly Explanation"," "]}),Object(ee.jsx)(f.a,{})]})}),Wa?n===Ce&&t.analysis_window_hrs===Ae&&Pa?Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"100%"}})}):"Record Not Found":null!==s&&void 0!==s&&null!==(c=s.estimatedRootSecond)&&void 0!==c&&c.Items&&(null===s||void 0===s||null===(l=s.estimatedRootSecond)||void 0===l?void 0:l.Items.length)>0?null===s||void 0===s||null===(r=s.estimatedRootSecond)||void 0===r?void 0:r.Items.map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(v.a,{style:{backgroundColor:"#ffffff",borderBottom:"0px"},children:[Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Za("Anomaly ID",null===e||void 0===e?void 0:e.anomaly_id)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{"font-size":"1.2rem"}})," ",null===e||void 0===e?void 0:e.anomaly_id]})]}),Object(ee.jsxs)(f.a,{children:[" ",e.anomaly_score]}),Object(ee.jsxs)(f.a,{children:[" ",null==e.anomaly_type?"NA":e.anomaly_type]}),Object(ee.jsxs)(f.a,{children:[" ",e.content_partner]}),Object(ee.jsxs)(f.a,{children:[" ",e.device_id]}),Object(ee.jsxs)(f.a,{children:[" ",e.device_platform]}),Object(ee.jsxs)(f.a,{children:[" ",e.drm]}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsxs)(f.a,{children:[" ",e.has]}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsxs)(f.a,{children:[" ",e.error_count]}),Object(ee.jsxs)(f.a,{children:[" ",e.errorcode]}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.live?"Yes":"No"}),Object(ee.jsxs)(f.a,{children:[" ",e.location_city]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_bandwidth]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_rebuffering_ratio]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_video_start_time]}),Object(ee.jsxs)(f.a,{children:[" ",e.manufacturer]}),Object(ee.jsxs)(f.a,{children:[" ",e.networktype]}),Object(ee.jsxs)(f.a,{children:[" ",e.sessionid]}),Object(ee.jsxs)(f.a,{children:[" ",e.videoid]}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Za("Anomaly Explanation",null===e||void 0===e?void 0:e.anomaly_explanation)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===e||void 0===e?void 0:e.anomaly_explanation]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_ESTIMATED_ROOT_CAUSE"),onChange:function(){return function(e){He(!1),e.error_count=0;var t=Fe.indexOf(e),a=Object(j.a)(Fe);-1===t?a.push(e):a.splice(t,1),Le(a)}(e)},edge:"start",checked:-1!==Fe.indexOf(e)})})]},t)})):Object(ee.jsxs)("h2",{style:{textAlign:"center",alignSelf:"center"},children:[" ","No Data Found"]})]})})}),Fe&&Fe.length>0?Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_ESTIMATED_ROOT_CAUSE"),onChange:function(){return function(){var e;He(!Ue),Ue?Ue&&Le([]):Le(null===s||void 0===s||null===(e=s.estimatedRootSecond)||void 0===e?void 0:e.Items)}()},checked:Ue}),Object(ee.jsxs)(k.a,{className:"apply-filter-btn",children:[" ","Select All"," "]}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){Le([]),Nt&&wt(!1)},children:"Reject"}),Object(ee.jsx)(k.a,{className:"apply-btn",onClick:function(){Le(function(){if(Fe.length>0){var e=[];return Fe.map((function(t){t.is_approved=1,e.push(t)})),e}}()),Lt(!0)},style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Approve"})]})]}):""]})})})]})}))]})}))]})}),Object(ee.jsx)(x.a,{rowsPerPageOptions:[10,20,50,100],component:"div",count:fe.length,rowsPerPage:ua,page:ra,onPageChange:function(e,t){da(t)},onRowsPerPageChange:function(e){Oa(parseInt(e.target.value,10)),da(0)},className:"paginationstyle"}),(null===s||void 0===s||null===(a=s.rcaDetect)||void 0===a?void 0:a.Items.length)>0?Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_ESTIMATED_ROOT_CAUSE"),onChange:function(){return function(){wt(!Nt);var e=[];Nt?Nt&&(e=[],Ie([])):(fe.map((function(t){t.value.map((function(t){return e.push(t)}))})),Ie(e))}()},checked:Nt}),Object(ee.jsxs)(k.a,{className:"apply-filter-btn",children:[" ","Select All"," "]}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){Me.length>0?(Bt(!0),Ja(Me),Nt&&wt(!1)):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},children:"Reject"}),Object(ee.jsx)(k.a,{onClick:function(){Me.length>0?(Bt(!0),Ie(Ua())):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},className:"apply-btn",style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Approve"})]})]}):null]}):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginLeft:"112px",marginTop:"113px"},children:[" ","No Records Found"]}),Object(ee.jsx)(y.a,{sx:{width:"100%",overflow:"hidden"},children:Object(ee.jsxs)(S.a,{anchor:"bottom",open:Yt,onClose:function(){return Bt(!1)},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){return Bt(!1)},className:"zmdi zmdi-arrow-left"})," ",console.log("ids data",Me),"Preview Data (",null===Me||void 0===Me?void 0:Me.length,")"]}),Object(ee.jsx)("i",{onClick:function(){Bt(!1),Ie([])},className:"zmdi zmdi-close"})]}),Object(ee.jsx)("div",{className:"full-table",children:Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:" Dimension"}),Object(ee.jsx)(f.a,{children:"Batch Time"}),Object(ee.jsx)(f.a,{children:"Analysis Window Hrs"}),Object(ee.jsx)(f.a,{children:"Total Anomaly Records"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Problem Score"}),Object(ee.jsx)(f.a,{children:"Total Records "}),Object(ee.jsx)(f.a,{children:"Upper Threshold"}),Object(ee.jsx)(f.a,{children:"Rca Bucket"})]})}),Me.length>0?Me.map((function(e,t){var a=Math.floor(1e3*new Date((null===e||void 0===e?void 0:e.batch_time)||(null===e||void 0===e?void 0:e.Date_Time)).getTime());return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsx)("p",{className:"anomalyptag",children:e.dimension})}),Object(ee.jsx)(f.a,{children:L()(a).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsxs)(f.a,{children:[" ",e.analysis_window_hrs]}),Object(ee.jsx)(f.a,{children:e.total_anomaly_records}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:e.problem_score}),Object(ee.jsxs)(f.a,{children:[e.total_records," "]}),Object(ee.jsx)(f.a,{children:e.upper_threshold}),Object(ee.jsx)(f.a,{children:e.rca_bucket})]})})):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginTop:"113px"},children:[" ","No Data Found"]})]})})}),Object(ee.jsxs)("div",{style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){if(Me.length>0){var e=Math.floor((new Date).getTime()/1e3);l(Object(P.kc)(l,"admin",e,e,_,Me))}Bt(!1),Ie([])},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){return qa()},children:"No"})]})]})}),Object(ee.jsx)(y.a,{sx:{width:"100%",overflow:"hidden"},children:Object(ee.jsxs)(S.a,{anchor:"bottom",open:Ft,onClose:function(){return Lt(!1)},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){return Lt(!1)},className:"zmdi zmdi-arrow-left"})," ","Preview Data (",null===Fe||void 0===Fe?void 0:Fe.length,")"]}),Object(ee.jsx)("i",{onClick:function(){Lt(!1),qa()},className:"zmdi zmdi-close"})]}),Object(ee.jsx)("div",{className:"detectedanomalies",children:Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Anomaly Id"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Device Id"}),Object(ee.jsx)(f.a,{children:" Platform "}),Object(ee.jsx)(f.a,{children:"DRM"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:" HAS "}),Object(ee.jsx)(f.a,{children:"Location"}),Object(ee.jsx)(f.a,{children:"Bandwidth"}),Object(ee.jsx)(f.a,{children:"Rebuffering Ratio "}),Object(ee.jsx)(f.a,{children:"Video Start Time"}),Object(ee.jsx)(f.a,{children:"Manufacturer"}),Object(ee.jsx)(f.a,{children:"Network "}),Object(ee.jsx)(f.a,{children:"Session Id "})]})}),Fe.length>0?Fe.map((function(e,t){return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",e.anomaly_id]})]}),Object(ee.jsxs)(f.a,{children:[" ",e.anomaly_score]}),Object(ee.jsxs)(f.a,{children:[" ",null==e.anomaly_type?"NA":e.anomaly_type]}),Object(ee.jsxs)(f.a,{children:[" ",e.content_partner]}),Object(ee.jsxs)(f.a,{children:[" ",e.device_id]}),Object(ee.jsxs)(f.a,{children:[" ",e.device_platform]}),Object(ee.jsxs)(f.a,{children:[" ",e.drm]}),Object(ee.jsxs)(f.a,{children:[" ",e.dts]}),Object(ee.jsxs)(f.a,{children:[" ",e.has]}),Object(ee.jsxs)(f.a,{children:[" ",e.location_city]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_bandwidth]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_rebuffering_ratio]}),Object(ee.jsxs)(f.a,{children:[" ",e.m_video_start_time]}),Object(ee.jsxs)(f.a,{children:[" ",e.manufacturer]}),Object(ee.jsxs)(f.a,{children:[" ",e.networktype]}),Object(ee.jsxs)(f.a,{children:[" ",e.sessionid]})]})})):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginTop:"113px"},children:[" ","No Data Found"]})]})})}),Object(ee.jsxs)("div",{style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){if(Fe.length>0){_e(-1);var e=Math.floor((new Date).getTime()/1e3);l(Object(P.G)(l,"admin",e,e,_,Fe.map((function(e){return e.errorname="",delete e.m_bandwidth,delete e.m_rebuffering_ratio,delete e.networktype,delete e.device_id,delete e.drm,delete e.manufacturer,delete e.sessionid,delete e.live,delete e.has,delete e.m_video_start_time,delete e.userid,delete e.uploadtime,e}))))}Lt(!1),Le([])},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){return Le([]),Lt(!1),void(Nt&&wt(!1))},children:"No"})]})]})})]}),Object(ee.jsx)(ae,{title:"Upload CSV File",isOpen:va,onClose:function(){fa(!1),Aa([])},children:Object(ee.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(ee.jsxs)("form",{children:[Object(ee.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Ca(!1),Aa([]),ka(e.target.files[0]),e.target.files[0]&&(Ta.onload=function(e){var t=e.target.result;Ga(t)})}}),Object(ee.jsx)(k.a,{className:"Status-btn checkButton",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(e){!function(e){if(e.preventDefault(),wa)if(Ta.onload=function(e){var t=e.target.result;Ga(t)},Ta.readAsText(wa),Math.floor((new Date).getTime()/1e3),ga.length>0)if(ga.filter((function(e){return void 0==e||""==e?ga.splice(ga.indexOf(e)):null!==e&&void 0!==e&&e.Date_Time||null!==e&&void 0!==e&&e.analysis_window_hrs||null!==e&&void 0!==e&&e.dimension||null!==e&&void 0!==e&&e.problem_score||null!==e&&void 0!==e&&e.rca_bucket||null!==e&&void 0!==e&&e.rca_unique_id||null!==e&&void 0!==e&&e.total_anomaly_records||null!==e&&void 0!==e&&e.total_records||null!==e&&void 0!==e&&e.upper_threshold?void 0:ga.splice(ga.indexOf(e))})),ga.length>0){var t=Object.keys(ga[0]),a=["rca_bucket","upper_threshold","total_records","batch_time","analysis_window_hrs","total_anomaly_records","problem_score","dimension","is_approved","rca_unique_id"].filter((function(e){return!t.includes(e)}));if(a.length>0){a.includes("batch_time")&&(a[a.indexOf("batch_time")]="Date_Time");var n=a.join(",\r\n");G.NotificationManager.error("The following required colomns are missing in excel : ".concat(n),"",2e3)}else ga.pop(),Ie(ga),Bt(!0),fa(!1)}else G.NotificationManager.error("Valid data not found in CSV File","",2e3);else Da||G.NotificationManager.success("File takes time to convert from csv to json format ! Please wait for sometime","",3e3)}(e)},children:"UPLOAD CSV"})]})})}),Object(ee.jsx)("div",{children:Object(ee.jsx)(S.a,{open:Ye,onClose:function(){Be(!1)},anchor:"right",children:Object(ee.jsxs)("div",{className:"FilterContainer",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"Filter"}),Object(ee.jsxs)(D.a,{onClick:function(){return Be(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)("h3",{children:"Total Anomaly Record"}),Object(ee.jsx)(oe,{setSignValue:et,setInputValue:Ke,saveSignValue:tt,saveInputValue:Ze})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)("h3",{children:"Problem Score"}),Object(ee.jsx)(oe,{setSignValue:st,setInputValue:it,saveSignValue:rt,saveInputValue:ct})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)("h3",{children:"Total Records"}),Object(ee.jsx)(oe,{setSignValue:mt,setInputValue:bt,saveSignValue:vt,saveInputValue:ut})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)("h3",{children:"Upper Threshold"}),Object(ee.jsx)(oe,{setSignValue:St,setInputValue:pt,saveSignValue:Dt,saveInputValue:gt})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)(k.a,{onClick:function(){Ze(""),tt(""),rt(""),ct(""),vt(""),ut(""),Dt(""),gt("")},className:"addnew-config",children:"Clear"}),Object(ee.jsx)(k.a,{onClick:function(){Ra(!0),console.log({totalAnomalyRecord:Ke,totalAnomalyRecordSign:et,problemScore:it,problemScoreSign:st,problematicText:Gt}),Be(!1)},className:"addnew-config",children:"Filter"})]})]})})})]})},oe=function(e){var t=e.setInputValue,a=e.setSignValue,n=e.saveSignValue,i=e.saveInputValue;return Object(ee.jsxs)(s.a,{container:!0,spacing:2,children:[Object(ee.jsx)(s.a,{item:!0,xs:6,md:6,children:Object(ee.jsx)(_.a,{fullWidth:!0,children:Object(ee.jsxs)(N.a,{value:a,labelId:"demo-simple-select-label",id:"demo-simple-select",variant:"outlined",style:{height:"40px"},onChange:function(e){n(e.target.value)},children:[Object(ee.jsx)(g.a,{value:"_gte",children:">="},">="),Object(ee.jsx)(g.a,{value:"_lte",children:"<="},"<="),Object(ee.jsx)(g.a,{value:"_gt",children:">"},">"),Object(ee.jsxs)(g.a,{value:"_lt",children:[" ","<"]},"<"),Object(ee.jsx)(g.a,{value:"_eq",children:"="},"==")]})})}),Object(ee.jsx)(s.a,{item:!0,xs:6,md:6,children:Object(ee.jsx)(T.a,{value:t,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"number",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%"},onChange:function(e){i(e.target.value)}})})]})},se=a(690),re=(a(787),a(1584)),de=a.n(re),je=(a(16),a(518),a(521),a(342)),be=(a(259),a(525)),ue=a(1553),Oe=a(1542),he=a(780),me=a(781),ve=a(782),fe=(a(783),a(784),a(785)),xe=a(786);function pe(e){var t,a,i,c=Object(z.c)(),l=Object(z.d)((function(e){return e.qoeReducer}));Object(n.useEffect)((function(){var e;if((null===l||void 0===l||null===(e=l.cities)||void 0===e?void 0:e.length)>0)return null;c(Object(P.H)(c))}),[c]);var o=e.getContentPartner,s=e.getContentType,r=e.getLocation,d=e.getDeviceId,j=e.savePlatformData,u=e.contentPartner,O=e.contentType,h=e.location,m=void 0===h?[]:h,v=e.devicePlatform,f=void 0===v?[]:v,x=e.deviceId,p=void 0===x?[]:x,g=e.videoId,A=void 0===g?[]:g,y=e.live,C=void 0===y?[]:y,_=e.drm,N=void 0===_?[]:_,w=e.has,k=void 0===w?[]:w,T=e.manufacturer,M=void 0===T?[]:T,R=e.network,Y=void 0===R?[]:R,B=(e.metric,e.getVideoId),F=e.getHas,L=e.getDrm,Q=e.getNetwork,V=e.getManufacturer,G=e.getLive,U=Object(n.useState)([]),H=Object(b.a)(U,2),q=H[0],J=H[1],K=Object(n.useState)([]),Z=Object(b.a)(K,2),X=Z[0],$=Z[1],te=Object(n.useState)([]),ae=Object(b.a)(te,2),ne=(ae[0],ae[1],Object(n.useState)([])),ie=Object(b.a)(ne,2),ce=(ie[0],ie[1],Object(n.useState)([])),le=Object(b.a)(ce,2),oe=(le[0],le[1],Object(n.useState)([])),se=Object(b.a)(oe,2),re=(se[0],se[1],Object(n.useState)([])),de=Object(b.a)(re,2),pe=(de[0],de[1],Object(n.useState)([])),ge=Object(b.a)(pe,2),Ae=(ge[0],ge[1],Object(n.useState)([])),ye=Object(b.a)(Ae,2),Se=(ye[0],ye[1],Object(n.useState)([])),De=Object(b.a)(Se,2),Ce=(De[0],De[1],Object(n.useState)(!1)),_e=Object(b.a)(Ce,2),Ne=_e[0],we=_e[1],ke=Object(n.useState)([]),Te=Object(b.a)(ke,2),Me=Te[0],Ie=Te[1],Ee=Object(n.useState)([]),Re=Object(b.a)(Ee,2),Ye=Re[0],Be=Re[1],Pe=Object(n.useState)([]),ze=Object(b.a)(Pe,2),Fe=ze[0],Le=ze[1],Qe=Object(n.useState)([]),Ve=Object(b.a)(Qe,2),Ge=Ve[0],We=Ve[1],Ue=Object(n.useState)([]),He=Object(b.a)(Ue,2),qe=He[0],Je=He[1],Ke=Object(n.useState)([]),Ze=Object(b.a)(Ke,2),Xe=Ze[0],$e=Ze[1],et=Object(n.useState)([]),tt=Object(b.a)(et,2),at=tt[0],nt=tt[1],it=Object(n.useState)([]),ct=Object(b.a)(it,2),lt=ct[0],ot=ct[1],st=Object(n.useState)([]),rt=Object(b.a)(st,2),dt=rt[0],jt=rt[1],bt=Object(n.useState)([]),ut=Object(b.a)(bt,2),Ot=ut[0],ht=ut[1],mt=Object(n.useState)([]),vt=Object(b.a)(mt,2),ft=vt[0],xt=vt[1],pt=Object(n.useState)([]),gt=Object(b.a)(pt,2),At=(gt[0],gt[1]),yt=Object(n.useState)([]),St=Object(b.a)(yt,2),Dt=St[0],Ct=St[1],_t=Object(n.useState)([]),Nt=Object(b.a)(_t,2),wt=(Nt[0],Nt[1]),kt=Object(n.useState)([]),Tt=Object(b.a)(kt,2),Mt=(Tt[0],Tt[1]),It=Object(n.useState)([]),Et=Object(b.a)(It,2),Rt=Et[0],Yt=Et[1],Bt=Object(n.useState)([]),Pt=Object(b.a)(Bt,2),zt=(Pt[0],Pt[1]),Ft=Object(n.useState)([]),Lt=Object(b.a)(Ft,2),Qt=(Lt[0],Lt[1]),Vt=Object(n.useState)([]),Gt=Object(b.a)(Vt,2),Wt=Gt[0],Ut=Gt[1],Ht=Object(n.useState)([]),qt=Object(b.a)(Ht,2),Jt=qt[0],Kt=qt[1],Zt=Object(n.useState)(f),Xt=Object(b.a)(Zt,2),$t=Xt[0],ea=Xt[1],ta=Object(n.useState)(!1),aa=Object(b.a)(ta,2);aa[0],aa[1];Object(n.useEffect)((function(){ea(f)}),[f]),Object(n.useEffect)((function(){xt(u),Ie(u)}),[u]),Object(n.useEffect)((function(){At(O),Be(O)}),[O]),Object(n.useEffect)((function(){var e=[];m.forEach((function(t){e.push(t)})),Ct(e),Le(e)}),[m]),Object(n.useEffect)((function(){wt(p),We(p)}),[p]),Object(n.useEffect)((function(){Mt(A),Je(A)}),[A]),Object(n.useEffect)((function(){Yt(C),$e(C)}),[C]),Object(n.useEffect)((function(){zt(N),nt(N)}),[N]),Object(n.useEffect)((function(){Qt(k),ot(k)}),[k]),Object(n.useEffect)((function(){Kt(Y),ht(Y)}),[Y]),Object(n.useEffect)((function(){Ut(M),jt(M)}),[M]),Object(n.useEffect)((function(){var e;(null===(e=Object.keys(null===l||void 0===l?void 0:l.cities))||void 0===e?void 0:e.length)>0&&J(null===l||void 0===l?void 0:l.cities)}),[null===l||void 0===l?void 0:l.cities]),Object(n.useEffect)((function(){var e,t,a;(null===l||void 0===l||null===(e=l.filters)||void 0===e||null===(t=e.content_partner)||void 0===t?void 0:t.length)>0&&$(null===l||void 0===l||null===(a=l.filters)||void 0===a?void 0:a.content_partner)}),[null===l||void 0===l||null===(t=l.filters)||void 0===t?void 0:t.content_partner]);var na=function(e){var t=$t,a=e.target.value;if(-1===t.indexOf(a)){var n=t.concat(a);ea(n)}else{var i=t.filter((function(e){return e!==a}));ea(i)}};return Object(ee.jsxs)("div",{className:"FilterContainer",children:[Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(I.a,{}),onClick:function(){return we(!0)}}),Object(ee.jsxs)(S.a,{open:Ne,onClose:function(){ea(f),we(!1)},anchor:"right",children:[Object(ee.jsxs)("div",{className:"rightSidebar",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"FILTER"}),Object(ee.jsxs)(D.a,{onClick:function(){return we(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(ue.a,{dense:!0,className:"filtersCont",children:[Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Device (Multiple Selection)"}),Object(ee.jsx)("div",{className:"filter-wrap",children:(null===l||void 0===l?void 0:l.device_platform)&&(null===l||void 0===l||null===(a=l.device_platform)||void 0===a?void 0:a.length)>0&&(null===l||void 0===l||null===(i=l.device_platform)||void 0===i?void 0:i.map((function(e){return Object(ee.jsx)(E.a,{className:$t.indexOf(e)>=0?"Filter-active":"Filter-inactive",variant:"outlined",size:"small",value:e,onClick:na,children:e},e)})))})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Content Partner"}),Object(ee.jsx)(je.a,{listName:X,getContentPartner:o,saveContentPartnerData:Ie,checkedItemsContentPartner:localStorage.getItem("contentPartner")?ft.concat(localStorage.getItem("contentPartner")):ft})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Device ID"}),Object(ee.jsx)(he.a,{deviceIdData:Ge,saveDeviceIdData:We})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Video ID"}),Object(ee.jsx)(me.a,{videoIdData:qe,saveVideoIdData:Je})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Live "}),Object(ee.jsx)(ve.a,{saveLiveData:$e,checkedItemLiveData:Rt})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Manufacturer "}),Object(ee.jsx)(xe.a,{saveManufacturerData:jt,checkedItemManufacturerData:Wt,clear:!1})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Network "}),Object(ee.jsx)(fe.a,{saveNetworkData:ht,checkedItemNetworkData:Jt})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Location"}),Object(ee.jsx)(be.a,{listName:q,getLocation:r,saveLocationData:Le,checkedItemsLocation:Dt})]})]})]}),Object(ee.jsxs)("div",{className:"rightSidebar",children:[Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){Ut([]),Yt([]),xt(""),At(""),Kt([]),Ie([]),jt([]),$e([]),We([]),Je([]),Le([]),Ct([])},children:"Clear"}),Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){o(Me),xt(Me),s(Ye),At(Ye),r(Fe),Ct(Fe),d(Ge),wt(Ge),B(qe),Mt(qe),L(at),zt(at),F(lt),Qt(lt),V(dt),Ut(dt),G(Xe),Yt(Xe),Q(Ot),Kt(Ot),we(!1),j($t)},children:"Apply"})]})]})]})}var ge=function(){var e,t,a,l,s,r,d,y,D,C,M,I,R,Y=Object(z.c)(),B=Object(z.d)((function(e){return e.qoeReducer})),F=null===B||void 0===B||null===(e=B.filters)||void 0===e?void 0:e.cdn,W=null===B||void 0===B||null===(t=B.filters)||void 0===t?void 0:t.content_type,X=null===B||void 0===B||null===(a=B.filters)||void 0===a?void 0:a.content_partner,$=null===B||void 0===B||null===(l=B.filters)||void 0===l?void 0:l.location,te=null===B||void 0===B||null===(s=B.filters)||void 0===s?void 0:s.error_codes,ne=(null===B||void 0===B||null===(r=B.errorRecordData)||void 0===r||r.items,Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400)),le=Object(b.a)(ne,2),oe=le[0],re=le[1],je=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),be=Object(b.a)(je,2),ue=be[0],Oe=be[1],he=Object(n.useState)(Math.floor((new Date).getTime()/1e3)),me=Object(b.a)(he,2),ve=me[0],fe=me[1],xe=Object(n.useState)("24hr"),ge=Object(b.a)(xe,2),Ae=(ge[0],ge[1]),ye=Object(n.useState)([null,null]),Se=Object(b.a)(ye,2),De=(Se[0],Se[1],Object(n.useState)(!1)),Ce=Object(b.a)(De,2),_e=Ce[0],Ne=Ce[1],we=Object(n.useState)(!1),ke=Object(b.a)(we,2),Te=ke[0],Me=ke[1],Ie=Object(n.useState)(-1),Ee=Object(b.a)(Ie,2),Re=Ee[0],Ye=Ee[1],Be=Object(n.useState)(-1),Pe=Object(b.a)(Be,2),ze=Pe[0],Fe=Pe[1],Le=Object(n.useState)(!1),Qe=Object(b.a)(Le,2),Ve=Qe[0],Ge=Qe[1],We=Object(n.useState)(!1),Ue=Object(b.a)(We,2),He=Ue[0],qe=Ue[1],Je=Object(n.useState)(!1),Ke=Object(b.a)(Je,2),Ze=Ke[0],Xe=Ke[1],$e=Object(n.useState)("1d"),et=Object(b.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)("1d"),it=Object(b.a)(nt,2),ct=it[0],lt=it[1],ot=Object(n.useState)(!1),st=Object(b.a)(ot,2),rt=(st[0],st[1],Object(n.useState)([])),dt=Object(b.a)(rt,2),jt=dt[0],bt=dt[1],ut=Object(n.useState)(),Ot=Object(b.a)(ut,2),ht=Ot[0],mt=Ot[1],vt=new FileReader,ft=Object(n.useState)("0,3"),xt=Object(b.a)(ft,2),pt=xt[0],gt=xt[1],At=Object(n.useState)([]),yt=Object(b.a)(At,2),St=yt[0],Dt=yt[1],Ct=Object(n.useState)(!1),_t=Object(b.a)(Ct,2),Nt=_t[0],wt=_t[1],kt=Object(n.useState)([]),Tt=Object(b.a)(kt,2),Mt=Tt[0],It=Tt[1],Et=Object(n.useState)(!1),Rt=Object(b.a)(Et,2),Yt=Rt[0],Bt=Rt[1],Pt=i.a.useState(0),zt=Object(b.a)(Pt,2),Ft=zt[0],Lt=zt[1],Qt=i.a.useState(10),Vt=Object(b.a)(Qt,2),Gt=Vt[0],Wt=Vt[1],Ut=i.a.useState(""),Ht=Object(b.a)(Ut,2),qt=Ht[0],Jt=Ht[1],Kt=Object(n.useState)("DURATION ( In 1 Day)"),Zt=Object(b.a)(Kt,2),Xt=(Zt[0],Zt[1],Object(n.useState)("hour")),$t=Object(b.a)(Xt,2),ea=($t[0],$t[1],Object(n.useState)([])),ta=Object(b.a)(ea,2),aa=(ta[0],ta[1],Object(n.useState)(0)),na=Object(b.a)(aa,2),ia=(na[0],na[1],Object(n.useState)(0)),ca=Object(b.a)(ia,2),la=(ca[0],ca[1],Object(n.useState)(0)),oa=Object(b.a)(la,2),sa=(oa[0],oa[1],Object(n.useState)(0)),ra=Object(b.a)(sa,2),da=(ra[0],ra[1],Object(n.useState)(!1)),ja=Object(b.a)(da,2),ba=(ja[0],ja[1],Object(n.useState)([])),ua=Object(b.a)(ba,2),Oa=(ua[0],ua[1],Object(n.useState)([])),ha=Object(b.a)(Oa,2),ma=ha[0],va=ha[1],fa=Object(n.useState)([]),xa=Object(b.a)(fa,2),pa=xa[0],ga=xa[1],Aa=Object(n.useState)([]),ya=Object(b.a)(Aa,2),Sa=ya[0],Da=ya[1],Ca=Object(n.useState)([]),_a=Object(b.a)(Ca,2),Na=(_a[0],_a[1],Object(n.useState)([])),wa=Object(b.a)(Na,2),ka=wa[0],Ta=wa[1],Ma=Object(n.useState)([]),Ia=Object(b.a)(Ma,2),Ea=Ia[0],Ra=Ia[1],Ya=Object(n.useState)([]),Ba=Object(b.a)(Ya,2),Pa=Ba[0],za=Ba[1],Fa=Object(n.useState)([]),La=Object(b.a)(Fa,2),Qa=La[0],Va=La[1],Ga=Object(n.useState)([]),Wa=Object(b.a)(Ga,2),Ua=Wa[0],Ha=Wa[1],qa=Object(n.useState)([]),Ja=Object(b.a)(qa,2),Ka=Ja[0],Za=Ja[1],Xa=Object(n.useState)([]),$a=Object(b.a)(Xa,2),en=$a[0],tn=$a[1],an=Object(n.useState)([]),nn=Object(b.a)(an,2),cn=(nn[0],nn[1],Object(n.useState)("1h")),ln=Object(b.a)(cn,2),on=(ln[0],ln[1],Object(n.useState)(["Android","iOS","Web","Firestick"])),sn=Object(b.a)(on,2),rn=sn[0],dn=sn[1],jn=Object(n.useState)(),bn=Object(b.a)(jn,2),un=bn[0],On=bn[1],hn=Object(n.useState)(!1),mn=Object(b.a)(hn,2),vn=mn[0],fn=mn[1],xn=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"},{startSessionDate:new Date,endSessionDate:new Date,key:"sessionSelection"}]),pn=Object(b.a)(xn,2),gn=pn[0],An=pn[1],yn=Object(n.useState)(!1),Sn=Object(b.a)(yn,2),Dn=Sn[0],Cn=Sn[1],_n=Object(n.useState)(),Nn=Object(b.a)(_n,2),wn=Nn[0],kn=Nn[1],Tn=Object(n.useState)(),Mn=Object(b.a)(Tn,2),In=Mn[0],En=Mn[1],Rn=Object(n.useState)(),Yn=Object(b.a)(Rn,2),Bn=(Yn[0],Yn[1]),Pn=Object(n.useState)(),zn=Object(b.a)(Pn,2),Fn=zn[0],Ln=zn[1],Qn=Object(n.useState)(!1),Vn=Object(b.a)(Qn,2),Gn=Vn[0],Wn=Vn[1],Un=Object(n.useState)(!1),Hn=Object(b.a)(Un,2),qn=Hn[0],Jn=Hn[1],Kn=Object(n.useState)(!1),Zn=Object(b.a)(Kn,2),Xn=Zn[0],$n=Zn[1],ei=function(e){if(Mt.length>0){var t=[];return Mt.map((function(a){if(a.is_approved="approved"==e?1:0,a.error_count=0,delete a.approved,null===a||void 0===a||delete a.anomaly_description,delete a.uploadtime,null===a||void 0===a||delete a.userid,Yt){var n=new Date(a.dts).getTime();a.dts=n}t.push(a)})),t}};Object(n.useEffect)((function(){var e,t="labeled_data_insession_"+L()(Math.floor(1e3*new Date(oe).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(ve).getTime())).format("DD/MM/YYYY"),a=V.a.types.csv;if(null!==B&&void 0!==B&&B.labeledCSVRecord&&Xn)if(console.log("alabeled data--",B),(null===B||void 0===B||null===(e=B.labeledCSVRecord)||void 0===e?void 0:e.Items.length)>0){var n,i;i=null===B||void 0===B||null===(n=B.labeledCSVRecord)||void 0===n?void 0:n.Items.map((function(e){var t=L()(Math.floor(new Date(1e3*parseInt(e.dts)))).format("DD/MM/YYYY hh:mm a");return delete e.dts,e.Date_Time="  "+t.toString(),e})),Object(V.a)({data:i,fileName:t,exportType:a}),$n(!1)}else $n(!1),G.NotificationManager.error("Data not found !!","",2e3)}),[null===B||void 0===B?void 0:B.labeledCSVRecord]);var ti=function(){console.log("cnf apprv3-",Yt),Mt.length>0?(It(ei("approved")),Jt("Approve1"),Xe(!0)):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},ai=function(e){var t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n");console.log("header csvRows--",a,a.length);var n=[];if(1==a.length&&a.map((function(e){""==e?(a=[],fn(!0)):fn(!1)})),a.length>0){var i=a.map((function(e){var i=e.trim().split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/);console.log("header csvRows-i-",e);var c=t.reduce((function(e,t,c){return a[c]&&n.push(a[c].split(",")),e[t.trim()]=i[c],e}),{});if(null!==c&&void 0!==c&&c.error_count&&(c.error_count="null"==c.error_count?0:parseInt(c.error_count)),null!==c&&void 0!==c&&c.is_approved&&(c.is_approved="0\r"==c.is_approved?parseInt(0):""==c.is_approved||"null"==c.is_approved||void 0==c.is_approved?c.is_approved:parseInt(1)),null!==c&&void 0!==c&&c.Date_Time){var l=L()(c.Date_Time,"DD-MM-YYYY hh:mm").format("MM/DD/YYYY HH:MM"),o=Math.floor(L()(l).endOf("date")._d.getTime());c.dts=o,delete c.Date_Time}return delete c.uploadtime,delete c.userid,c}));bt(i)}else setTimeout((function(){G.NotificationManager.error("No Record Found","",2e3)}),2e3)};Object(n.useEffect)((function(){0===Object.keys(null===B||void 0===B?void 0:B.filters).length&&Y(Object(P.Lb)(Y))}),[]);Object(n.useEffect)((function(){console.log("abcd--",Sa),Ne(!0);var e={drm:Ua,has:Qa,live:Pa,manufacturer:en,network:Ka,videoId:Ea,deviceId:ka,contentPartner:pa,contentType:ma,location:Sa,devicePlatform:rn},t=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);console.log(In,"endDate"),console.log(Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3),"endDate2"),fe(t),Y(Object(P.q)(Y,t,oe,pt,Gt,"",e)),setTimeout((function(){Ne(!1)}),[3e3])}),[oe,In,pt,Ua,Pa,Qa,Ka,en,Ea,ka,pa,Sa]),Object(n.useEffect)((function(){var e=Fn?Math.floor(L()(gn[1].endSessionDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);Y(Object(P.Cb)(Y,un,pt,e,ue)),setTimeout((function(){Ne(!1)}),[3e3])}),[ue,pt]);var ni=function(e,t,a){var n={};if(Ua.length>0&&(n.drm=["_in",Ua]),Qa.length>0&&(n.has=["_in",Qa]),Ka.length>0&&(n.networkType=["_in",Ka]),Pa.length>0){var i=Pa.map((function(e){return"Yes"==e}));n.live=["_in",i]}if(en.length>0&&(n.manufacturer=["_in",en]),Object.values(Ea).length>0&&(n.videoid=["_eq",Ea]),Object.values(ka).length>0&&(n.device_id=["_eq",ka]),Sa.length>0){var l=[];Sa.map((function(e){l.push(e.split("(")[0])})),n.location_city=["_in",l]}var o=a.replace(/"/g,"").split(",");console.log("abcd--",parseInt(o[0]),parseInt(o[1])),n.ANOMALY_SCORE=["_range",[parseInt(o[0]),parseInt(o[1])]];var s={filters:n};return fetch("http://3.6.164.157:8084/api/GetDetailedAnomalyRecords?to_time=".concat(e,"&from_time=").concat(t),{method:"POST",headers:Object(c.a)({"Content-Type":"application/json"},{contentType:"application/json"}),body:JSON.stringify(s)}).then((function(e){return e.json()}))},ii=function(e,t,a){var n=Math.floor((new Date).getTime()/1e3);Fe(-1),Ye(e===Re?-1:e),Y(Object(P.Id)([])),On(t),Wn(!0),a&&Y(Object(P.Cb)(Y,t,pt,n,oe)),setTimeout((function(){Wn(!1)}),13e3)},ci=function(e,t,a,n){var i=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);Fe(e===ze?-1:e),Y(Object(P.Rd)([])),Jn(!0),n&&Y(Object(P.Gb)(Y,t,a,pt,i,oe)),setTimeout((function(){Jn(!1)}),13e3)},li=function(e,t){e&&(G.NotificationManager.success("".concat(e," copied"),"",200),ie()(t))};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"cta-btn",children:[null!==B&&void 0!==B&&null!==(d=B.anomaliesDetect)&&void 0!==d&&d.data&&null!==B&&void 0!==B&&null!==(y=B.anomaliesDetect)&&void 0!==y&&y.data.length?Object(ee.jsx)("div",{className:"top-left-nav",children:Object(ee.jsxs)(p.a,{variant:"h5",style:{fontSize:"1.2rem",paddingLeft:"13px"},children:["In-Session (",null===B||void 0===B||null===(D=B.anomaliesDetect)||void 0===D?void 0:D.data.length,")"]})}):null,Object(ee.jsxs)(o.a,{className:"status-report",children:[Object(ee.jsx)("div",{className:"interval-spase",children:Object(ee.jsxs)(_.a,{className:"intervalSelect-eds ",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Anomaly Score Range"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:pt,label:"Interval",onChange:function(e){En(),Ln(),Bn(),kn(),gt(e.target.value)},className:"interSelect",children:[Object(ee.jsx)(g.a,{value:"0,3",children:"0-3"}),Object(ee.jsx)(g.a,{value:"4,6",children:"4-6"}),Object(ee.jsx)(g.a,{value:"7,8",children:"7-8"}),Object(ee.jsx)(g.a,{value:"8,10",children:"8-10"}),Object(ee.jsx)(g.a,{value:"10,12",children:"10-12"})]})]})}),Object(ee.jsxs)(_.a,{className:"intervalSelect-eds",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Session Interval"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:ct,label:"Interval",onChange:function(e){Ln(),Bn(),Ae(""),Oe(),lt(e.target.value);var t=Math.floor((new Date).getTime()/1e3);switch(e.target.value){case"1h":return void Oe(t-3600);case"1d":return void Oe(t-86400);case"1w":return void Oe(t-604800);case"1m":return void Oe(t-2592e3);default:return}},className:"interval-spase anomalyScorefilter",children:[Object(ee.jsx)(g.a,{value:"1h",children:"1 Hour"}),Object(ee.jsx)(g.a,{value:"1d",children:"Day"}),Object(ee.jsx)(g.a,{value:"1w",children:"Week"}),Object(ee.jsx)(g.a,{value:"1m",children:"Month"})]})]}),Object(ee.jsxs)(_.a,{className:"intervalSelect-eds",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Anomaly Date"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:tt,label:"Interval",onChange:function(e){En(),kn(),Ae(""),re(),at(e.target.value);var t=Math.floor(L()().endOf("date")._d.getTime()/1e3);switch(e.target.value){case"1h":return void re(t-3600);case"1d":return void re(t-86400);case"1w":return void re(t-604800);case"1m":return void re(t-2592e3);default:return}},className:"interval-spase anomalyScorefilter",children:[Object(ee.jsx)(g.a,{value:"1d",children:"Day"}),Object(ee.jsx)(g.a,{value:"1w",children:"Week"}),Object(ee.jsx)(g.a,{value:"1m",children:"Month"})]})]}),Object(ee.jsxs)("div",{className:"dateCountcustom",children:[Object(ee.jsxs)("div",{className:"row eds-dateCont",children:[Object(ee.jsx)("span",{children:"Custom Date"}),Object(ee.jsx)(T.a,{onClick:function(){return Cn(!0)},contentEditable:!1,value:wn?L()(wn).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"}),Object(ee.jsxs)(o.a,{className:"to",sx:{mx:2},children:[" ","to"," "]}),Object(ee.jsx)(T.a,{onClick:function(){return Cn(!0)},contentEditable:!1,value:In?L()(In).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"})]}),Object(ee.jsxs)(H.a,{isOpen:Dn,toggle:function(){return Cn(!1)},centered:!0,children:[Object(ee.jsx)(q.a,{children:Object(ee.jsx)("h3",{children:"Date Picker"})}),Object(ee.jsx)(J.a,{children:Object(ee.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(ee.jsx)(Z.DateRange,{onChange:function(e){return An([e.selection])},ranges:gn,editableDateInputs:!0,moveRangeOnFirstSelection:!1,maxDate:new Date})})}),Object(ee.jsx)(K.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(E.a,{onClick:function(){return Cn(!1)},variant:"contained",className:"btn-danger text-white bg-danger",children:"Cancel"}),Object(ee.jsx)(E.a,{onClick:function(){at(""),lt(""),console.log("range--1",gn,Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3),Math.floor(L()(gn[0].startDate).endOf("date")._d.getTime()/1e3)),kn(gn[0].startDate),En(gn[0].endDate),Cn(!1),fe(Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3)),re(Math.floor(L()(gn[0].startDate).endOf("date")._d.getTime()/1e3)-86400)},variant:"contained",color:"primary",className:"text-white bg-primary",style:{marginLeft:10},children:"Submit"})]})})]})]}),Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#e20092"},onClick:function(){Me(!0);var e=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);fe(e),Y(Object(P.tc)([]));var t="detected_anomalies_"+L()(Math.floor(1e3*new Date(oe).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(ve).getTime())).format("DD/MM/YYYY"),a=V.a.types.csv;ni(e,oe,pt).then((function(e){if((null===e||void 0===e?void 0:e.Items.length)>0){var n;n=null===e||void 0===e?void 0:e.Items.map((function(e){var t=L()(Math.floor(new Date(e.dts))).format("DD/MM/YYYY hh:mm a");return delete e.dts,e.Date_Time="  "+t.toString(),e})),Object(V.a)({data:n,fileName:t,exportType:a})}else G.NotificationManager.error("Data not found !!","",2e3);Me(!1)})).catch((function(){Me(!1)}))},children:[" ",Object(ee.jsx)(u.a,{title:"Download Anomaly Data Not Labeled",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-download"})})]}),Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#e20092"},onClick:function(){Object(ce.h)("WRITE_DETECTED_ANOMALIES")?(console.log("call"),bt([]),Ge(!0)):G.NotificationManager.error(ce.a.message)},children:[" ",Object(ee.jsx)(u.a,{title:"Upload CSV File",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-upload"})})]}),Object(ee.jsx)(u.a,{title:"Download Anomaly Labeled Data",arrow:!0,children:Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"13px",color:"#e20092"},onClick:function(){Me(!0),$n(!0);var e=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);Y(Object(P.fb)(Y,e,oe,{anomaly_type:"insession"})),setTimeout((function(){Me(!1)}),7e3)},children:["Labeled ",Object(ee.jsx)("i",{style:{margin:"0 0 0 7px"},className:"zmdi zmdi-download"})]})}),Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(pe,{getContentPartner:function(e){ga(e)},getContentType:function(e){va(e)},getLocation:function(e){Da(e)},getDeviceId:function(e){Ta(e)},getVideoId:function(e){Ra(e)},getHas:function(e){Va(e)},getDrm:function(e){Ha(e)},getNetwork:function(e){Za(e)},getManufacturer:function(e){console.log({manVal:e}),tn(e)},savePlatformData:function(e){dn(e)},getLive:function(e){za(e)},cdnVal:F,contentTypeVal:W,contentPartnetVal:X,locationVal:$,errorCodeVal:te,devicePlatform:rn,contentPartner:pa,contentType:ma,location:Sa,deviceId:ka,videoId:Ea,live:Pa,drm:Ua,has:Qa,manufacturer:en,network:Ka})}),Object(ee.jsx)("div",{children:" "})]})]}),Te?Object(ee.jsx)("div",{style:{height:"100vh",width:"100vw",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(0, 0, 0,0.3)",zIndex:5},children:Object(ee.jsx)(Q.a,{})}):"",_e?Object(ee.jsx)("div",{style:{height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ee.jsx)(Q.a,{})}):Object(ee.jsxs)(ee.Fragment,{children:[null!==B&&void 0!==B&&null!==(C=B.anomaliesDetect)&&void 0!==C&&C.data&&(null===B||void 0===B||null===(M=B.anomaliesDetect)||void 0===M?void 0:M.data.length)>0?Object(ee.jsxs)("div",{className:"full-table",style:{marginTop:"26px"},children:[Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{children:"UDID"}),Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Rebuffering Ratio"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Live"}),Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Manufacturer"}),Object(ee.jsx)(f.a,{children:"Has"}),Object(ee.jsx)(f.a,{children:"Drm"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Network"}),Object(ee.jsx)(f.a,{children:"Video Start Time "}),Object(ee.jsx)(f.a,{children:"Bandwith"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Error Code"}),Object(ee.jsx)(f.a,{children:"Error Count"}),Object(ee.jsxs)(f.a,{children:["Anomaly Explanation",Object(ee.jsx)(u.a,{title:"Attribution score: A nonnegative number that indicates how much this column has contributed to the anomaly score of the record. In other words, it indicates how different the value of this column is from what\u2019s expected based on the recently observed trend. The sum of the attribution scores of all columns for the record is equal to the anomaly score.\r Strength: A nonnegative number representing the strength of the directional recommendation. A high value for strength indicates a high confidence in the directionality that is returned by the function. During the learning phase, the strength is 0.\r Directionality: This is either HIGH if the value of the column is above the recently observed trend or LOW if it\u2019s below the trend. During the learning phase, this defaults to LOW.",arrow:!0,children:Object(ee.jsx)(de.a,{})})]}),Object(ee.jsx)(f.a,{children:"Anomaly Description"}),Object(ee.jsx)(f.a,{})]})}),null===B||void 0===B||null===(I=B.anomaliesDetect)||void 0===I?void 0:I.data.slice(Ft*Gt,Ft*Gt+Gt).sort((function(e,t){return t.ANOMALY_SCORE-e.ANOMALY_SCORE})).map((function(e,t){var a,n,i,c=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(v.a,{sx:{border:0},children:[Object(ee.jsx)(f.a,{children:t===Re?Object(ee.jsx)("i",{onClick:function(){Wn(!0),ii(t,null===e||void 0===e?void 0:e.device_id,!1)},style:{cursor:"pointer",fontSize:"24px"},className:"zmdi zmdi-minus-circle"}):Object(ee.jsx)("i",{style:{cursor:"pointer",fontSize:"24px"},onClick:function(){Wn(!0),ii(t,null===e||void 0===e?void 0:e.device_id,!0)},className:"zmdi zmdi-plus-circle"})}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_id}),Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly ID",null===e||void 0===e?void 0:e.ANOMALY_ID)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===e||void 0===e?void 0:e.ANOMALY_ID]})]}),Object(ee.jsx)(f.a,{children:L()(c/1e3).format("DD-MM-YYYY")+" | "+L()(c/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.ANOMALY_SCORE}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.Anomaly_Type}),Object(ee.jsx)(f.a,{children:Number(null===e||void 0===e?void 0:e.m_rebuffering_ratio).toFixed(5)}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.live?"Yes":"No"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.manufacturer}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.has}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.drm}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.networkType}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_video_start_time}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_bandwidth}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.error_code?null===e||void 0===e?void 0:e.error_code:"-"}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.error_count?null===e||void 0===e?void 0:e.error_count:"-"}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly Explanation",null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly Description",null===e||void 0===e?void 0:e.anomaly_description)},children:[" ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)&&Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)?null===e||void 0===e?void 0:e.anomaly_description:"N/A"]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return function(e){console.log(e,"onchange data"),wt(!1);var t=new Date(e.dts).getTime();e.dts=t;var a=St.indexOf(e),n=Object(j.a)(St);-1===a?n.push(e):n.splice(a,1),Dt(n)}(e)},edge:"start",checked:-1!==St.indexOf(e)})})]}),Object(ee.jsx)(v.a,{children:Object(ee.jsx)(f.a,{style:{paddingBottom:0,paddingTop:0},colSpan:12,children:Object(ee.jsx)(A.a,{in:Re===t,timeout:"auto",unmountOnExit:!0,children:Object(ee.jsx)(o.a,{sx:{margin:1},children:Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{children:Object(ee.jsxs)(v.a,{children:[Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Session ID"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Session Duration"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Anomaly Count"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Date / Time"})]})}),null!==B&&void 0!==B&&null!==(a=B.secondAnomaliesData)&&void 0!==a&&a.Items&&(null===B||void 0===B||null===(n=B.secondAnomaliesData)||void 0===n?void 0:n.Items.length)>0?null===B||void 0===B||null===(i=B.secondAnomaliesData)||void 0===i?void 0:i.Items.map((function(t,a){var n,i,c,l=Math.floor(1e3*new Date(null===t||void 0===t?void 0:t.datetime).getTime());return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(v.a,{style:{backgroundColor:"#ffffff",borderBottom:"0px"},children:[Object(ee.jsx)(f.a,{children:a===ze?Object(ee.jsx)("i",{onClick:function(){Jn(!1),ci(a,null===t||void 0===t?void 0:t.device_id,null===t||void 0===t?void 0:t.sessionid,!1)},style:{cursor:"pointer",fontSize:"24px"},className:"zmdi zmdi-minus-circle"}):Object(ee.jsx)("i",{style:{cursor:"pointer",fontSize:"24px"},onClick:function(){Jn(!0),ci(a,null===t||void 0===t?void 0:t.device_id,null===t||void 0===t?void 0:t.sessionid,!0)},className:"zmdi zmdi-plus-circle"})}),Object(ee.jsx)(f.a,{children:null===t||void 0===t?void 0:t.sessionid}),Object(ee.jsx)(f.a,{children:null===t||void 0===t?void 0:t.sessionduration}),Object(ee.jsx)(f.a,{children:(null===t||void 0===t?void 0:t.anomaly_count)>=0?null===t||void 0===t?void 0:t.anomaly_count:"-"}),Object(ee.jsx)(f.a,{children:L()(l/1e3).format("DD-MM-YYYY")+" | "+L()(l/1e3).utcOffset(330).format("hh:mm:a")})]},a),Object(ee.jsx)(v.a,{children:Object(ee.jsx)(f.a,{style:{paddingBottom:0,paddingTop:0},colSpan:12,children:Object(ee.jsxs)(A.a,{in:ze===a,timeout:"auto",unmountOnExit:!0,children:[Object(ee.jsx)(o.a,{sx:{margin:1},children:Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{children:Object(ee.jsxs)(v.a,{children:[Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Anomaly ID"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Anomaly Score"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Approval"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Rebuffering Ratio"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Startup Length"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Bandwidth"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Content Partner"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Platform"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Location"}),Object(ee.jsx)(f.a,{style:{color:"#bdb5b5"},children:"Anomaly Explanation"}),Object(ee.jsx)(f.a,{children:"Anomaly Description"}),Object(ee.jsx)(f.a,{})]})}),null!==B&&void 0!==B&&null!==(n=B.thirdAnomaliesData)&&void 0!==n&&n.Items&&(null===B||void 0===B||null===(i=B.thirdAnomaliesData)||void 0===i?void 0:i.Items.length)>0?null===B||void 0===B||null===(c=B.thirdAnomaliesData)||void 0===c?void 0:c.Items.map((function(t,a){return Object(ee.jsxs)(v.a,{style:{backgroundColor:"#ffffff",borderBottom:"0px"},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly ID",null===e||void 0===e?void 0:e.anomaly_id)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null!==t&&void 0!==t&&t.anomaly_id?null===t||void 0===t?void 0:t.anomaly_id:"-"]})}),Object(ee.jsx)(f.a,{children:null!==t&&void 0!==t&&t.anomaly_score?null===t||void 0===t?void 0:t.anomaly_score:"-"}),Object(ee.jsx)(f.a,{children:0==(null===t||void 0===t?void 0:t.is_approved)?"Not-Approved":1==(null===t||void 0===t?void 0:t.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:(null===t||void 0===t?void 0:t.m_rebuffering_ratio)>=0?null===t||void 0===t?void 0:t.m_rebuffering_ratio:"-"}),Object(ee.jsx)(f.a,{children:(null===t||void 0===t?void 0:t.m_video_start_time)>=0?null===t||void 0===t?void 0:t.m_video_start_time:"-"}),Object(ee.jsx)(f.a,{children:(null===t||void 0===t?void 0:t.m_bandwidth)>=0?null===t||void 0===t?void 0:t.m_bandwidth:"-"}),Object(ee.jsx)(f.a,{children:null!==t&&void 0!==t&&t.content_partner?null===t||void 0===t?void 0:t.content_partner:"-"}),Object(ee.jsx)(f.a,{children:null!==t&&void 0!==t&&t.device_platform?null===t||void 0===t?void 0:t.device_platform:"-"}),Object(ee.jsx)(f.a,{children:null!==t&&void 0!==t&&t.location_city?null===t||void 0===t?void 0:t.location_city:"-"}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly Explanation",null===t||void 0===t?void 0:t.anomaly_explanation)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===t||void 0===t?void 0:t.anomaly_explanation]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly Description",null===t||void 0===t?void 0:t.anomaly_description)},children:[" ",("-"!==(null===t||void 0===t?void 0:t.anomaly_description)||""!==(null===t||void 0===t?void 0:t.anomaly_description))&&Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ","-"!==(null===t||void 0===t?void 0:t.anomaly_description)||""!==(null===t||void 0===t?void 0:t.anomaly_description)?null===t||void 0===t?void 0:t.anomaly_description:"N/A"]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return function(e){console.log(e,"onchange third data"),Bt(!1);var t=new Date(e.dts).getTime();e.dts=t;var a=null===Mt||void 0===Mt?void 0:Mt.indexOf(e),n=Object(j.a)(Mt);-1===a?n.push(e):n.splice(a,1),It(n)}(t)},edge:"start",checked:-1!==Mt.indexOf(t)})})]},a)})):qn?Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})}):"Record Not Found"]})}),Mt.length>0?Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return function(){var e;Bt(!Yt),Yt?Yt&&It([]):It(null===B||void 0===B||null===(e=B.thirdAnomaliesData)||void 0===e?void 0:e.Items)}()},checked:Yt}),Object(ee.jsxs)(k.a,{className:"apply-filter-btn",children:[" ","Select All"," "]}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){It(ei("reject")),Jt("Reject1"),Xe(!0)},children:"Reject"}),Object(ee.jsx)(k.a,{className:"apply-btn",onClick:ti,style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Approve"})]})]}):""]})})})]})})):Gn?Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})}):"Record Not Found"]})})})})})]})}))]})}),Object(ee.jsx)(x.a,{rowsPerPageOptions:[10,20,50,100],component:"div",count:null===B||void 0===B||null===(R=B.anomaliesDetect)||void 0===R?void 0:R.size,rowsPerPage:Gt,page:Ft,onPageChange:function(e,t){console.log("handleChangePage---abc--",t,null===B||void 0===B?void 0:B.anomaliesDetect);var a,n,i=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);t>Ft&&Y(Object(P.q)(Y,i,oe,pt,Ft,null!==B&&void 0!==B&&null!==(a=B.anomaliesDetect)&&void 0!==a&&a.next_iteration_id?null===B||void 0===B||null===(n=B.anomaliesDetect)||void 0===n?void 0:n.next_iteration_id:""));Lt(t),setTimeout((function(){}),6e3)},onRowsPerPageChange:function(e){Wt(parseInt(e.target.value,10)),Lt(0)},className:"paginationstyle"}),Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return function(){wt(!Nt);var e,t=[];Nt?Nt&&Dt([]):(null===B||void 0===B||null===(e=B.anomaliesDetect)||void 0===e||e.data.map((function(e){t.push(e)})),Dt(t))}()},checked:Nt}),Object(ee.jsx)(k.a,{className:"apply-filter-btn",children:" Select All "}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){St.length>0?(qe(!0),function(e){if(console.log("abcd--",e),e.length>0){var t=[];e.map((function(e){if(e.is_approved=0,delete e.anomaly_description,Nt){var a=new Date(e.dts).getTime();e.dts=a}t.push(e)})),Dt(t)}}(St),Jt("Reject1"),Nt&&wt(!1)):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},children:"Reject"}),Object(ee.jsx)(k.a,{onClick:function(){console.log("cnf apprv-",Nt),St.length>0?(Dt(function(){if(St.length>0){console.log("selectAllCheckbox-",Nt);var e=[];return St.map((function(t){if(t.is_approved=1,t.error_count=0,delete t.approved,null===t||void 0===t||delete t.anomaly_description,Nt){var a=new Date(t.dts).getTime();t.dts=a}e.push(t)})),e}}()),qe(!0),Jt("Approve1")):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},className:"apply-btn",style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Approve"})]})]})]}):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginLeft:"112px",marginTop:"113px"},children:[" ","No Records Found"]}),Object(ee.jsx)(ae,{title:"Upload CSV File",isOpen:Ve,onClose:function(){Ge(!1),bt([])},children:Object(ee.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(ee.jsxs)("form",{children:[Object(ee.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){fn(!1),bt([]),mt(e.target.files[0]),e.target.files[0]&&(vt.onload=function(e){var t=e.target.result;ai(t)})}}),Object(ee.jsx)(k.a,{className:"Status-btn checkButton",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(e){!function(e){if(e.preventDefault(),ht)if(vt.onload=function(e){var t=e.target.result;ai(t)},vt.readAsText(ht),jt.length>0)if(jt.filter((function(e){return void 0==e?jt.splice(jt.indexOf(e)):e.m_video_start_time||e.networktype||e.dts||e.m_rebuffering_ratio||e.device_id||e.anomaly_score||e.device_platform||e.videoid||e.live||e.anomaly_explanation||e.sessionid||e.manufacturer||e.location_city||e.m_bandwidth||e.content_partner||e.has||e.anomaly_id||e.drm||e.error_count||e.anomaly_type||e.errorcode?void 0:jt.splice(jt.indexOf(e))})),jt.length>0){var t=Object.keys(jt[0]),a=["m_video_start_time","networktype","dts","m_rebuffering_ratio","device_id","anomaly_score","device_platform","videoid","live","anomaly_explanation","sessionid","manufacturer","location_city","m_bandwidth","content_partner","has","anomaly_id","drm","error_count","anomaly_type","is_approved","errorcode"].filter((function(e){return!t.includes(e)}));if(a.length>0){a.includes("dts")&&(a[a.indexOf("dts")]="Date_Time");var n=a.join(",\r\n");G.NotificationManager.error("The following required colomns are missing in excel : ".concat(n),"",2e3)}else jt.filter((function(e){if(void 0==e.anomaly_id)return jt.splice(jt.indexOf(e))})),Dt(jt),qe(!0),Ge(!1)}else G.NotificationManager.error("Valid data not found in CSV File","",2e3);else vn||G.NotificationManager.success("File takes time to convert from csv to json format ! Please wait for sometime","",3e3)}(e)},children:"UPLOAD CSV"})]})})}),Object(ee.jsxs)(S.a,{anchor:"bottom",open:He,onClose:function(){Dt([]),qe(!1),bt([])},className:"drawer-mitigation",children:[Object(ee.jsx)("div",{className:"drawer-header",children:Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){Dt([]),qe(!1),bt([])},className:"zmdi zmdi-arrow-left"})," ","Preview Data (",null===St||void 0===St?void 0:St.length,")"]})}),Object(ee.jsx)("i",{onClick:function(){Dt([]),qe(!1),bt([]),Nt&&wt(!1)},className:"zmdi zmdi-close CloseNewPosition"}),Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"UDID"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Rebuffering Ratio"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Live"}),Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Manufacturer"}),Object(ee.jsx)(f.a,{children:"Has"}),Object(ee.jsx)(f.a,{children:"Drm"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Network"}),Object(ee.jsx)(f.a,{children:"Video Start Time "}),Object(ee.jsx)(f.a,{children:"Bandwith"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Anomaly Explanation"}),Object(ee.jsx)(f.a,{children:"Anomaly Description"})]})}),St.length>0?St.map((function(e,t){console.log(e,"lists");var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",(null===e||void 0===e?void 0:e.ANOMALY_ID)||(null===e||void 0===e?void 0:e.anomaly_id)]})}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_id}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:(null===e||void 0===e?void 0:e.ANOMALY_SCORE)||(null===e||void 0===e?void 0:e.anomaly_score)}),Object(ee.jsx)(f.a,{children:(null===e||void 0===e?void 0:e.Anomaly_Type)||(null===e||void 0===e?void 0:e.anomaly_type)}),Object(ee.jsx)(f.a,{children:Number(null===e||void 0===e?void 0:e.m_rebuffering_ratio).toFixed(5)}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.live?"Yes":"No"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.manufacturer}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.has}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.drm}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:(null===e||void 0===e?void 0:e.networkType)||(null===e||void 0===e?void 0:e.networktype)}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_video_start_time}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_bandwidth}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",(null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION)||(null===e||void 0===e?void 0:e.anomaly_explanation)]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",null!==e&&void 0!==e&&e.anomaly_description?null===e||void 0===e?void 0:e.anomaly_description:"-"]})})]})})):Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})})]}),Object(ee.jsxs)("div",{className:"check2",style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){if(St.length>0){var e=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);Y(Object(P.G)(Y,"admin",e,e,oe,St,"insession",qt)),setTimeout((function(){Y(Object(P.q)(Y,e,oe,pt,Gt,"")),Dt([])}),1e3),qe(!1)}},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){Dt([]),qe(!1),bt([]),Nt&&wt(!1)},children:"No"})]})]}),Object(ee.jsxs)(S.a,{anchor:"bottom",open:Ze,onClose:function(){return Xe(!1)},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){return Xe(!1)},className:"zmdi zmdi-arrow-left"})," ","Preview Data (",null===Mt||void 0===Mt?void 0:Mt.length,")"]}),Object(ee.jsx)("i",{onClick:function(){Xe(!1),Xe(!1),Jt("Reject1"),Nt&&wt(!1)},className:"zmdi zmdi-close"})]}),Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"UDID"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Rebuffering Ratio"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Live"}),Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Manufacturer"}),Object(ee.jsx)(f.a,{children:"Has"}),Object(ee.jsx)(f.a,{children:"Drm"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Network"}),Object(ee.jsx)(f.a,{children:"Video Start Time "}),Object(ee.jsx)(f.a,{children:"Bandwith"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Anomaly Explanation"}),Object(ee.jsx)(f.a,{children:"Anomaly Description"})]})}),Mt.length>0?Mt.map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return li("Anomaly ID",null===e||void 0===e?void 0:e.anomaly_id)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===e||void 0===e?void 0:e.anomaly_id]})}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_id},null===e||void 0===e?void 0:e.device_id),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.anomaly_score}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.anomaly_type}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_rebuffering_ratio}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.live?"Yes":"No"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.manufacturer}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.has}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.drm}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.networktype}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_video_start_time}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.m_bandwidth}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",null!==e&&void 0!==e&&e.anomaly_explanation?null===e||void 0===e?void 0:e.anomaly_explanation:"-"]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",null!==e&&void 0!==e&&e.anomaly_description?null===e||void 0===e?void 0:e.anomaly_description:"-"]})})]})})):Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})})]}),Object(ee.jsxs)("div",{style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){if(Mt.length>0){var e=In?Math.floor(L()(gn[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);Y(Object(P.G)(Y,"admin",e,e,oe,Mt,"insession",qt)),setTimeout((function(){Y(Object(P.q)(Y,e,oe,pt,Gt,"")),It([])}),1e3),Xe(!1)}},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){Xe(!1),Jt("Reject1"),Nt&&wt(!1)},children:"No"})]})]})]})]})},Ae=a(504),ye=a(1418),Se=a(1660),De=["isOpen","onClose","title","children"],Ce=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.onClose,i=void 0===n?function(){}:n,c=e.title,o=void 0===c?"":c,s=e.children;Object(l.a)(e,De);return Object(ee.jsx)("div",{className:"status-model",children:Object(ee.jsxs)(X.a,{className:"paperDialoge",onClose:function(e){i(e)},open:a,children:[Object(ee.jsx)($.a,{style:{padding:"16px 24px 0 29px"},children:o}),s]})})},_e=function(){var e=Object(z.c)(),t=Object(z.d)((function(e){return e.qoeReducer})),a=Object(n.useState)(!1),i=Object(b.a)(a,2),c=i[0],l=i[1],o=Object(n.useState)(!1),s=Object(b.a)(o,2),r=s[0],d=s[1],u=Object(n.useState)(""),x=Object(b.a)(u,2),A=x[0],_=x[1],N=Object(n.useState)([]),w=Object(b.a)(N,2),T=w[0],M=w[1],I=Object(n.useState)(""),E=Object(b.a)(I,2),R=E[0],Y=E[1],B=Object(n.useState)(""),F=Object(b.a)(B,2),L=F[0],V=F[1],U=Object(n.useState)(!1),H=Object(b.a)(U,2),q=H[0],J=H[1],K=Object(n.useState)(""),Z=Object(b.a)(K,2),X=Z[0],$=Z[1],te=Object(n.useState)(""),ae=Object(b.a)(te,2),ne=ae[0],ie=ae[1],le=Object(n.useState)([]),oe=Object(b.a)(le,2),se=oe[0],re=oe[1],de=Object(n.useState)("CREATE PLAN"),je=Object(b.a)(de,2),be=je[0],ue=je[1],Oe=188,he=13,me=/\s/g,ve=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fe=Object(n.useState)([]),xe=Object(b.a)(fe,2),pe=(xe[0],xe[1],[Oe,he]);Object(n.useEffect)((function(){l(!0),e(Object(P.J)(e)),e(Object(P.Zb)(e)),setTimeout((function(){l(!1)}),4e3)}),[ne]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"cta-btn",children:Object(ee.jsxs)("div",{className:"top-left-nav",children:[Object(ee.jsxs)(p.a,{variant:"h5",children:["Configure Mitigation (",(null===t||void 0===t?void 0:t.configMitiBucketPlan)&&(null===t||void 0===t?void 0:t.configMitiBucketPlan.length),")"]}),Object(ee.jsxs)(k.a,{className:"addnew-config",onClick:function(){Object(ce.h)("WRITE_CONFIGURE_MITIGATION")?(M([]),Y(),V(),_(),ue("CREATE PLAN"),d(!0)):G.NotificationManager.error(ce.a.message)},children:["ADD NEW ",Object(ee.jsx)("i",{className:"zmdi zmdi-plus"})]})]})}),Object(ee.jsx)("div",{className:"col-md-12",children:"  "}),Object(ee.jsxs)("div",{className:"wraper-config",children:[null!==t&&void 0!==t&&t.configMitiBucketPlan&&(null===t||void 0===t?void 0:t.configMitiBucketPlan.length)>0?Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Plan Name"}),Object(ee.jsx)(f.a,{children:"Mitigation Type"}),Object(ee.jsx)(f.a,{children:"Recepients"}),Object(ee.jsx)(f.a,{children:"Subject"})]})}),c?Object(ee.jsx)("div",{style:{height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ee.jsx)(Q.a,{})}):Object(ee.jsx)(ee.Fragment,{children:t.configMitiBucketPlan.map((function(e){return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:e.plan_name}),Object(ee.jsx)(f.a,{children:e.mitigationType}),Object(ee.jsx)(f.a,{children:e.Recepients.toString()}),Object(ee.jsx)(f.a,{children:e.Subject}),Object(ee.jsxs)(f.a,{children:[Object(ee.jsx)("i",{className:"zmdi zmdi-edit",onClick:function(){!function(e){if(Object(ce.h)("WRITE_CONFIGURE_MITIGATION")){console.log(e,"option"),ue("UPDATE PLAN"),d(!0),console.log(A,"option12"),_(e.mitigationType.toLowerCase()),Y(e.plan_name),V(e.Subject),re(e.Recepients);var t=[];e.Recepients.forEach((function(e){var a={id:e,text:e};t.push(a)})),console.log(t,"arrRec"),M(t)}else G.NotificationManager.error(ce.a.message)}(e)}})," "]}),Object(ee.jsxs)(f.a,{children:[Object(ee.jsx)("i",{className:"zmdi zmdi-delete",onClick:function(){!function(e){Object(ce.h)("WRITE_CONFIGURE_MITIGATION")?(J(!0),$(e.plan_name)):G.NotificationManager.error(ce.a.message)}(e)}})," "]})]})}))})]})}):Object(ee.jsx)("h2",{style:{textAlign:"center",marginLeft:"112px"},children:" No Records Found"}),Object(ee.jsxs)(S.a,{open:r,onClose:function(){d(!1)},anchor:"right",children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"Configure Mitigation Plan"}),Object(ee.jsxs)(D.a,{onClick:function(){return d(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Plan Name"]}),"UPDATE PLAN"==be?Object(ee.jsx)("h3",{children:R}):Object(ee.jsxs)(ee.Fragment,{children:[" ",Object(ee.jsx)(Ae.a,{value:R,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"text",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%"},onChange:function(e){Y(e.target.value)}}),R&&R.length>25&&Object(ee.jsx)("p",{style:{color:"red","font-size":"13px",margin:"0"},children:"Name length should not be greater than 25 "}),R&&me.test(R)&&Object(ee.jsx)("p",{style:{color:"red","font-size":"13px",margin:"0"},children:"Name should not have space"})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},className:"eds-dropdown",children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Mitigation Type"]}),Object(ee.jsx)(Ae.a,{id:"outlined-select-currency",variant:"outlined",fullWidth:!0,select:!0,placeholder:"mitigation plan",value:A,onChange:function(e){_(e.target.value)},children:(null===t||void 0===t?void 0:t.mitigationType)&&(null===t||void 0===t?void 0:t.mitigationType.map((function(e){return Object(ee.jsx)(g.a,{value:e,children:e},e)})))})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Recepients"]}),Object(ee.jsxs)("p",{style:{fontSize:"12px"},children:["Enter Recepients Email and then Press ",Object(ee.jsx)("b",{children:"Enter"})]}),Object(ee.jsx)(Se.WithContext,{classNames:{tags:"tagsClass",tagInput:"tagInputClass",tagInputField:"tagInputFieldClass",selected:"selectedClass",tag:"tagClass",remove:"removeClass",suggestions:"suggestionsClass",activeSuggestion:"activeSuggestionClass",editTagInput:"editTagInputClass",editTagInputField:"editTagInputField",clearAll:"clearAllClass"},tags:T,delimiters:pe,handleDelete:function(e){M(T.filter((function(t,a){return a!==e}))),re([se.filter((function(t,a){return a!==e}))])},handleAddition:function(e){if(console.log("tag",e),null!==e&&void 0!==e&&e.text.match(ve)){M([].concat(Object(j.a)(T),[e]));var t=se.toString();re([t,e.text])}},handleTagClick:function(e){},handleInputChange:function(e){console.log("val",e),e},autocomplete:!0,allowDragDrop:!1,placeholder:"Enter Recepients Email",inputFieldPosition:"inline"})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Subject"]}),Object(ee.jsx)(ye.a,{value:L,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"text",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%",height:"40px"},onChange:function(e){V(e.target.value)}})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)(k.a,{onClick:function(){Y(""),_(""),M([]),V("")},className:"Status-btn",style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"CLEAR ALL"}),Object(ee.jsx)(k.a,{className:"addnew-config",onClick:function(){if(console.log("add space abcd--",me.test(R)),""!=A&&""!=T&&""!=R&&""!=L){if(R.length>25||me.test(R))return;"UPDATE PLAN"==be?(e(Object(P.lc)(e,A,se,R,L)),d(!1),e(Object(P.J)(e)),e(Object(P.Zb)(e))):""!=A&&""!=T&&""!=R&&""!=L?(e(Object(P.hc)(e,A,se,R,L)),d(!1),ie("add")):G.NotificationManager.console.error("Please fill all the fields","",1e3)}else G.NotificationManager.error("Please fill all the fields","",1e3)},children:be})]})]})]}),Object(ee.jsx)(Ce,{assetid:"",title:"Delete",isOpen:q,onClose:function(){J(!1)},children:Object(ee.jsx)(y.a,{style:{padding:"0 2em 2em 2em"},children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(p.a,{id:"modal-modal-description",sx:{mt:2},children:["Are you sure you want to delete Mitigations plan ?",Object(ee.jsx)("p",{style:{color:"red"},children:X})]}),Object(ee.jsxs)("div",{style:{float:"right",marginTop:"10px"},children:[Object(ee.jsx)(k.a,{onClick:function(){J(!1)},style:{color:"#E10092",width:"83px",height:"28px",fontSize:"1rem",border:"1px solid #E10092",marginRight:"10px"},children:"No"}),Object(ee.jsx)(k.a,{style:{color:"white",background:"#E10092",width:"83px",height:"28px",fontSize:"1rem",fontWeigth:"100"},onClick:function(){J(!1),e(Object(P.l)(e,X,"mitigation_plan","mitigationrca")),setTimeout((function(){ie("delete")}),2e3)},children:"Yes"})]})]})})})]})},Ne=a(1555),we=a(1556),ke=a(1511),Te=a(171),Me=a(234),Ie=a.n(Me),Ee=a(235),Re=a.n(Ee),Ye=a(522),Be=a.n(Ye),Pe=a(197),ze=a(523),Fe=a(1543),Le=a(1430),Qe=a(1557),Ve=a(1541),Ge=a(96),We=a(49);var Ue=function(e){var t=e.chartData,a=t.datasets,i=t.labels,c={options:{legend:{display:!1,labels:{fontColor:We.a.legendFontColor}},scales:{yAxes:{title:{display:!0,text:"COUNT",font:{size:12}},ticks:{precision:0}},xAxes:{title:{display:!0,text:"5m"===e.selectVal?"DURATION (In 5 Minutes)":"1h"===e.selectVal?"DURATION (In 1 Hour)":"1d"===e.selectVal?"DURATION (In 1 Day)":"1w"===e.selectVal?"DURATION (In 1 Week)":"1m"===e.selectVal?"DURATION (In 1 Month)":"1y"===e.selectVal?"DURATION (In 1 Year)":"date-range"===e.selectVal?"DURATION (In Days)":void 0,font:{size:12}},ticks:{precision:0}}}},labels:i,datasets:a};return Object(ee.jsxs)(n.Fragment,{children:[Object(ee.jsx)("div",{className:"chart-top total-earn-chart d-flex justify-content-between mb-50",children:Object(ee.jsx)("div",{className:"d-flex align-items-end"})}),a&&Object(ee.jsx)(Ge.c,{redraw:!0,data:c,options:c.options})]})},He=(a(560),a(118)),qe=a(176),Je=a(1658),Ke=a(647),Ze=a(661),Xe=a(652),$e=a(651);He.c.register(He.a,He.f,He.d);var et=function(e){var t=e.labels,a=e.datasets,n=e.width,i=e.height,c=e.type;console.log("TinyPieChart--",t,a);var l={plugins:{datalabels:{formatter:function(e,t){return 0===e?null:e},padding:{top:5,bottom:5,left:5,right:5},textAlign:"center",color:"black",font:{weight:"bold",size:10}},legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}},layout:{padding:{bottom:function(e){var t=e.chart,a=0;return t.data.datasets.forEach((function(e){var t=e.hoverOffset||0;a=Math.max(t/1+5,a)})),a}}}},o=["#66cc01","#019a00","#00ccce","#0065ce","#fc9a00","#ff6600","#ff0100","#cd009a","#f99d5a","#ee446b","#f99d5a","#01ad88","#014769","#ab2522"],r={labels:t||[],datasets:[{label:"# of Votes",data:a||[],backgroundColor:o,borderColor:o,borderWidth:1}]};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{style:{height:350,width:350,margin:"auto"},children:Object(ee.jsx)(Ge.d,{height:i,width:n,data:r,options:l,plugins:[qe.a,l.plugins]})}),Object(ee.jsxs)(s.a,{item:!0,xs:12,md:12,children:["insession"==c&&t&&t.length>9?Object(ee.jsx)("h3",{children:"Top 10 Records"}):null,t&&t.length>0?Object(ee.jsx)(Je.a,{children:Object(ee.jsxs)(Ke.a,{sx:{minWidth:650},children:[Object(ee.jsx)(Ze.a,{style:{backgroundColor:"#ffffff",borderBottom:"#000000"},children:Object(ee.jsxs)(Xe.a,{style:{borderBottom:"1px solid #4a4444",color:"#42444a",background:"#f4f4f4"},sx:{border:0},children:["  ",Object(ee.jsx)($e.a,{children:"Color"}),Object(ee.jsx)($e.a,{children:"insession"==c?"Dimension":"Error Name"}),Object(ee.jsx)($e.a,{children:"Count"})]})}),a&&t?a.map((function(e,a){return Object(ee.jsxs)(Xe.a,{style:{borderBottom:"1px solid #4a4444",color:"#42444a"},sx:{border:0},children:[Object(ee.jsx)($e.a,{style:{padding:"0 0 0 3px",backgroundColor:"".concat(o[a]),width:"52px"},children:Object(ee.jsx)("p",{style:{color:"".concat(o[a])},children:"."})}),Object(ee.jsx)($e.a,{style:{padding:"0 0 0 5px"},children:Object(ee.jsx)("p",{children:t[a]})}),Object(ee.jsx)($e.a,{style:{padding:"0 0 0 25px",fontWeight:"600"},children:e})]})})):null]})}):null]})]})},tt=a(209),at=a(190),nt=a(210),it=a(191);function ct(e){var t=e.listBucketName,a=e.saveBucketData,i=e.checkedItemBucketData,c=n.useState(i),l=Object(b.a)(c,2),o=l[0],s=l[1],r=n.useState(t),d=Object(b.a)(r,2),u=d[0],O=d[1];Object(n.useEffect)((function(){0==i.length&&(s([]),a([]))}),[i]);var h=function(e){return function(){var t=o.indexOf(e),n=Object(j.a)(o);-1===t?(n.push(e),console.log({newChecked:n})):n.splice(t,1),s(n),a(n)}};return Object(ee.jsxs)(Te.a,{sx:{width:"220px",margin:"0 0 15px 15px"},elevation:3,children:[Object(ee.jsx)("input",{type:"text",name:"filterSearch",onKeyUp:function(e){var a=e.target.value;if(""!==a){var n=t.filter((function(e){return e.toLowerCase().includes(a.toLowerCase())}));O(n)}else O(t)},className:"abc filterSearch",placeholder:"Search"}),Object(ee.jsx)(it.a,{dense:!0,className:"filterList",children:u&&u.map((function(e,t){console.log("first",-1!==o.indexOf(e),o);var a=e;return Object(ee.jsxs)(tt.a,{style:{display:"flex",flexDirection:"row",alignItems:"center"},role:void 0,onClick:h(e),dense:!0,children:[Object(ee.jsx)(at.a,{children:Object(ee.jsx)(w.a,{edge:"start",checked:-1!==o.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a},size:"small",sx:{minWidth:"18px"}})}),Object(ee.jsx)(nt.a,{id:a,primary:e})]},t)}))})]})}function lt(e){var t,a,i,c,l=Object(z.c)(),o=Object(z.d)((function(e){return e.qoeReducer}));Object(n.useEffect)((function(){var e;if((null===o||void 0===o||null===(e=o.cities)||void 0===e?void 0:e.length)>0)return null;l(Object(P.H)(l))}),[]),Object(n.useEffect)((function(){var e,t;if((null===o||void 0===o||null===(e=o.estimatedRootRcaBucket)||void 0===e||null===(t=e.Items)||void 0===t?void 0:t.length)>0)return null;l(Object(P.V)(l))}),[]);var s=e.getContentPartner,r=e.getLocation,d=e.savePlatformData,j=e.contentPartner,u=e.location,O=void 0===u?[]:u,h=e.devicePlatform,m=void 0===h?[]:h,v=(e.drm,e.manufacturer),f=void 0===v?[]:v,x=e.network,p=void 0===x?[]:x,g=e.getNetwork,A=e.getManufacturer,y=e.getBucketName,C=e.bucketname,_=void 0===C?[]:C,N=Object(n.useState)([]),w=Object(b.a)(N,2),k=w[0],T=w[1],M=Object(n.useState)([]),R=Object(b.a)(M,2),Y=R[0],B=R[1],F=Object(n.useState)([]),L=Object(b.a)(F,2),Q=L[0],V=L[1],G=Object(n.useState)(!1),U=Object(b.a)(G,2),H=U[0],q=U[1],J=Object(n.useState)([]),K=Object(b.a)(J,2),Z=K[0],X=K[1],$=Object(n.useState)([]),te=Object(b.a)($,2),ae=(te[0],te[1],Object(n.useState)([])),ne=Object(b.a)(ae,2),ie=ne[0],le=ne[1],oe=Object(n.useState)([]),se=Object(b.a)(oe,2),re=(se[0],se[1],Object(n.useState)([])),de=Object(b.a)(re,2),he=(de[0],de[1],Object(n.useState)([])),me=Object(b.a)(he,2),ve=(me[0],me[1],Object(n.useState)([])),pe=Object(b.a)(ve,2),ge=(pe[0],pe[1],Object(n.useState)([])),Ae=Object(b.a)(ge,2),ye=(Ae[0],Ae[1],Object(n.useState)([])),Se=Object(b.a)(ye,2),De=Se[0],Ce=Se[1],_e=Object(n.useState)([]),Ne=Object(b.a)(_e,2),we=Ne[0],ke=Ne[1],Te=Object(n.useState)([]),Me=Object(b.a)(Te,2),Ie=Me[0],Ee=Me[1],Re=Object(n.useState)([]),Ye=Object(b.a)(Re,2),Be=Ye[0],Pe=Ye[1],ze=Object(n.useState)([]),Fe=Object(b.a)(ze,2),Le=(Fe[0],Fe[1],Object(n.useState)([])),Qe=Object(b.a)(Le,2),Ve=Qe[0],Ge=Qe[1],We=Object(n.useState)([]),Ue=Object(b.a)(We,2),He=(Ue[0],Ue[1],Object(n.useState)([])),qe=Object(b.a)(He,2),Je=(qe[0],qe[1],Object(n.useState)([])),Ke=Object(b.a)(Je,2),Ze=(Ke[0],Ke[1],Object(n.useState)([])),Xe=Object(b.a)(Ze,2),$e=(Xe[0],Xe[1],Object(n.useState)([])),et=Object(b.a)($e,2),tt=(et[0],et[1],Object(n.useState)([])),at=Object(b.a)(tt,2),nt=at[0],it=at[1],lt=Object(n.useState)([]),ot=Object(b.a)(lt,2),st=ot[0],rt=ot[1],dt=Object(n.useState)([]),jt=Object(b.a)(dt,2),bt=jt[0],ut=jt[1],Ot=Object(n.useState)(m),ht=Object(b.a)(Ot,2),mt=ht[0],vt=ht[1],ft=Object(n.useState)(!1),xt=Object(b.a)(ft,2);xt[0],xt[1];console.log("useeffect-dataDisplay -",o),Object(n.useEffect)((function(){vt(m)}),[m]),Object(n.useEffect)((function(){console.log("network 99--",j),Pe(j),X(j)}),[j]),Object(n.useEffect)((function(){var e=[];O.forEach((function(t){e.push(t)})),Ge(e),le(e)}),[O]),Object(n.useEffect)((function(){console.log("network 99",p),rt(p),ke(p)}),[p]),Object(n.useEffect)((function(){console.log("bucket 99",_),ut(_),Ee(_)}),[_]),Object(n.useEffect)((function(){it(f),Ce(f)}),[f]),Object(n.useEffect)((function(){var e;(null===(e=Object.keys(null===o||void 0===o?void 0:o.cities))||void 0===e?void 0:e.length)>0&&T(null===o||void 0===o?void 0:o.cities)}),[null===o||void 0===o?void 0:o.cities]),Object(n.useEffect)((function(){var e,t,a=[];(null===o||void 0===o||null===(e=o.estimatedRootRcaBucket)||void 0===e?void 0:e.Items.length)>0&&(null===o||void 0===o||null===(t=o.estimatedRootRcaBucket)||void 0===t||t.Items.map((function(e){a.push(e.bucket_name.trim())})),V(Object(ce.k)(a)))}),[null===o||void 0===o||null===(t=o.estimatedRootRcaBucket)||void 0===t?void 0:t.Items]),Object(n.useEffect)((function(){var e,t,a;(null===o||void 0===o||null===(e=o.filters)||void 0===e||null===(t=e.content_partner)||void 0===t?void 0:t.length)>0&&B(null===o||void 0===o||null===(a=o.filters)||void 0===a?void 0:a.content_partner)}),[null===o||void 0===o||null===(a=o.filters)||void 0===a?void 0:a.content_partner]);var pt=function(e){var t=mt,a=e.target.value;if(-1===t.indexOf(a)){var n=t.concat(a);vt(n)}else{var i=t.filter((function(e){return e!==a}));vt(i)}};return Object(ee.jsxs)("div",{className:"FilterContainer",children:[Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(I.a,{}),onClick:function(){return q(!0)}}),Object(ee.jsxs)(S.a,{open:H,onClose:function(){vt(m),q(!1)},anchor:"right",children:[Object(ee.jsxs)("div",{className:"rightSidebar",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"FILTER"}),Object(ee.jsxs)(D.a,{onClick:function(){return q(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(ue.a,{dense:!0,className:"filtersCont",children:[Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Device (Multiple Selection)"}),Object(ee.jsx)("div",{className:"filter-wrap",children:(null===o||void 0===o?void 0:o.device_platform)&&(null===o||void 0===o||null===(i=o.device_platform)||void 0===i?void 0:i.length)>0&&(null===o||void 0===o||null===(c=o.device_platform)||void 0===c?void 0:c.map((function(e){return Object(ee.jsx)(E.a,{className:mt.indexOf(e)>=0?"Filter-active":"Filter-inactive",variant:"outlined",size:"small",value:e,onClick:pt,children:e},e)})))})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Content Partner"}),Object(ee.jsx)(je.a,{listName:Y,getContentPartner:s,saveContentPartnerData:X,checkedItemsContentPartner:localStorage.getItem("contentPartner")?Be.concat(localStorage.getItem("contentPartner")):Be})]}),"Total Anomalies RCA Buckets"==(null===e||void 0===e?void 0:e.metricname)&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Bucket Name "}),Object(ee.jsx)(ct,{listBucketName:Q,saveBucketData:Ee,checkedItemBucketData:bt,clear:!1})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Manufacturer "}),Object(ee.jsx)(xe.a,{saveManufacturerData:Ce,checkedItemManufacturerData:nt,clear:!1})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Network "}),Object(ee.jsx)(fe.a,{saveNetworkData:ke,checkedItemNetworkData:st})]})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Location"}),Object(ee.jsx)(be.a,{listName:k,getLocation:r,saveLocationData:le,checkedItemsLocation:Ve})]})]})]}),Object(ee.jsxs)("div",{className:"rightSidebar",children:[Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){it([]),Pe(""),rt([]),X([]),Ce([]),le([]),Ge([]),ut([]),ke([]),vt([]),Ee([])},children:"Clear"}),Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){s(Z),Pe(Z),r(ie),Ge(ie),A(De),it(De),g(we),rt(we),q(!1),d(mt),y(Ie),ut(Ie)},children:"Apply"})]})]})]})}var ot=a(1519),st=a(1520),rt=a(336),dt=a(752),jt=a(753),bt=a(1524),ut=a(762),Ot=a(751);function ht(e){console.log("abcd-1-charts-",e);var t=e.x,a=e.y,n=e.fill,i=e.value;return Object(ee.jsx)("text",{x:t,y:a,dy:-4,fontSize:"16",fontFamily:"sans-serif",fill:n,textAnchor:"initial",children:i})}var mt=function(e){console.log("abcd-2-charts-",e);var t,a=[];if("RCA_Bucket"==e.type)if((null===e||void 0===e||null===(t=e.chartData)||void 0===t?void 0:t.datasets.length)>0){var n;null===e||void 0===e||null===(n=e.chartData)||void 0===n||n.datasets.map((function(t,n){var i,c={count:null===e||void 0===e||null===(i=e.chartData)||void 0===i?void 0:i.labels[n],Text:t.data,RespondentPercentage:12,Rank:1,color:"#e50394"};a.push(c)}))}else{a.push({count:0,Text:"",RespondentPercentage:12,Rank:1,color:"#e50394"})}else if("Mitigation"==e.type){var i;if((null===e||void 0===e||null===(i=e.chartData)||void 0===i?void 0:i.datasets.length)>0){var c;null===e||void 0===e||null===(c=e.chartData)||void 0===c||c.datasets[0].data.map((function(t,n){var i,c={count:t,Text:null===e||void 0===e||null===(i=e.chartData)||void 0===i?void 0:i.labels[n],RespondentPercentage:12,Rank:1,color:"#e50394"};a.push(c)}))}else{a.push({count:0,Text:"",RespondentPercentage:12,Rank:1,color:"#e50394"})}}return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"side-text",children:"RCA_Bucket"==e.type?Object(ee.jsx)("p",{children:" Count"}):Object(ee.jsx)("p",{children:"Count"})}),Object(ee.jsx)(ot.a,{width:"100%",height:300,children:Object(ee.jsxs)(st.a,{data:a,children:[Object(ee.jsx)(rt.a,{cursor:{fill:"#FFFFFF"}}),Object(ee.jsx)(dt.a,{dataKey:"Text",fontFamily:"sans-serif",fontSize:"13px",tickSize:!0,dy:"40",height:95,textAnchor:"end",sclaeToFit:"true",verticalAnchor:"start",interval:0,angle:"-40",stroke:"#000000"}),Object(ee.jsx)(jt.a,{tickFormatter:function(e){return"".concat(e)},style:{fontSize:12},stroke:We.a.axesColor,allowDecimals:!1}),Object(ee.jsx)(bt.a,{vertical:!0,stroke:We.a.chartGridColor}),Object(ee.jsx)(rt.a,{wrapperStyle:We.b,cursor:!1,itemStyle:We.c}),Object(ee.jsx)(ut.a,{dataKey:"count",barSize:40,fontFamily:"sans-serif",label:Object(ee.jsx)(ht,{}),children:a.map((function(e,t){return Object(ee.jsx)(Ot.a,{fill:a[t].color})}))})]})}),Object(ee.jsx)("div",{className:"down-text",children:"RCA_Bucket"==e.type?Object(ee.jsx)("p",{children:"BUCKET NAME"}):Object(ee.jsxs)("p",{children:["DURATION In (",e.selectVal,")"]})})]})},vt=function(){var e,t,a,i,c,l,o,s,r,d,u,O,h,m,v,f,x,p,g,A=["Total Anomalies Detected","Total Anomalies RCA Buckets","Email Mitigation Applied","Anomalies Cluster Playback Failure","Anomalies Cluster In Session"],y=Object(z.c)(),S=Object(z.d)((function(e){return e.qoeReducer})),D=null===S||void 0===S?void 0:S.favoriteMetric,C=null===S||void 0===S?void 0:S.metricType,_=null===S||void 0===S?void 0:S.metricTypefulname,N=Object(n.useState)([]),w=Object(b.a)(N,2),k=w[0],M=w[1],I=(null===S||void 0===S||null===(e=S.filters)||void 0===e||e.cdn,null===S||void 0===S||null===(t=S.filters)||void 0===t||t.content_type,null===S||void 0===S||null===(a=S.filters)||void 0===a?void 0:a.content_partner),R=null===S||void 0===S||null===(i=S.filters)||void 0===i?void 0:i.location,F=n.useState(!1),W=Object(b.a)(F,2),U=W[0],X=W[1],$=Object(n.useState)([]),te=Object(b.a)($,2),ae=(te[0],te[1],Object(n.useState)([])),ne=Object(b.a)(ae,2),ie=(ne[0],ne[1],Object(n.useState)([])),le=Object(b.a)(ie,2),oe=le[0],se=le[1],re=Object(n.useState)([]),de=Object(b.a)(re,2),je=de[0],be=de[1],ue=Object(n.useState)(C||"Total Anomalies Detected"),Oe=Object(b.a)(ue,2),he=(Oe[0],Oe[1]),me=Object(n.useState)(_||"Total Anomalies Detected"),ve=Object(b.a)(me,2),fe=ve[0],xe=ve[1],pe=Object(n.useState)("1h"),ge=Object(b.a)(pe,2),Ae=ge[0],ye=ge[1],Se=Object(n.useState)(["Android","iOS","Web","Firestick"]),De=Object(b.a)(Se,2),Ce=De[0],_e=De[1],Me=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),Ee=Object(b.a)(Me,2),Ye=Ee[0],Ge=Ee[1],He=Object(n.useState)(Math.floor((new Date).getTime()/1e3)),qe=Object(b.a)(He,2),Je=qe[0],Ke=qe[1],Ze=Object(n.useState)(),Xe=Object(b.a)(Ze,2),$e=(Xe[0],Xe[1]),tt=Object(n.useState)(),at=Object(b.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)(),ot=Object(b.a)(ct,2),st=(ot[0],ot[1]),rt=Object(n.useState)(),dt=Object(b.a)(rt,2),jt=(dt[0],dt[1],Object(n.useState)()),bt=Object(b.a)(jt,2),ut=(bt[0],bt[1],Object(n.useState)()),Ot=Object(b.a)(ut,2),ht=Ot[0],vt=Ot[1],ft=Object(n.useState)(),xt=Object(b.a)(ft,2),pt=xt[0],gt=xt[1],At=Object(n.useState)(),yt=Object(b.a)(At,2),St=yt[0],Dt=yt[1],Ct=Object(n.useState)(),_t=Object(b.a)(Ct,2),Nt=_t[0],wt=_t[1],kt=Object(n.useState)(),Tt=Object(b.a)(kt,2),Mt=(Tt[0],Tt[1],Object(n.useState)()),It=Object(b.a)(Mt,2),Et=(It[0],It[1],Object(n.useState)([])),Rt=Object(b.a)(Et,2),Yt=Rt[0],Bt=(Rt[1],Object(n.useState)([])),Pt=Object(b.a)(Bt,2),zt=Pt[0],Ft=(Pt[1],Object(n.useState)([])),Lt=Object(b.a)(Ft,2),Qt=Lt[0],Vt=(Lt[1],Object(n.useState)([])),Gt=Object(b.a)(Vt,2),Wt=Gt[0],Ut=(Gt[1],Object(n.useState)([])),Ht=Object(b.a)(Ut,2),qt=Ht[0],Jt=(Ht[1],Object(n.useState)([])),Kt=Object(b.a)(Jt,2),Zt=Kt[0],Xt=(Kt[1],Object(n.useState)("1d")),$t=Object(b.a)(Xt,2),ea=$t[0],ta=$t[1],aa=Object(n.useState)("hour"),na=Object(b.a)(aa,2),ia=(na[0],na[1]),ca=Object(n.useState)([null,null]),la=Object(b.a)(ca,2),oa=la[0],sa=la[1],ra=Object(n.useState)(!1),da=Object(b.a)(ra,2),ja=da[0],ba=da[1],ua=Object(n.useState)(),Oa=Object(b.a)(ua,2),ha=Oa[0],ma=Oa[1],va=Object(n.useState)(),fa=Object(b.a)(va,2),xa=fa[0],pa=fa[1],ga=Object(n.useState)([]),Aa=Object(b.a)(ga,2),ya=Aa[0],Sa=Aa[1],Da=Object(n.useState)([]),Ca=Object(b.a)(Da,2),_a=Ca[0],Na=Ca[1],wa=Object(n.useState)([]),ka=Object(b.a)(wa,2),Ta=ka[0],Ma=ka[1],Ia=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),Ea=Object(b.a)(Ia,2),Ra=Ea[0],Ya=Ea[1],Ba={},Pa={},za={};Object(n.useEffect)((function(){D||y(Object(P.Y)(y))}),[y]),Object(n.useEffect)((function(){var e,t,a,n,i;S&&S.anamaliesDetected&&$e(null===(a=S.anamaliesDetected)||void 0===a?void 0:a.Items);S&&S.anamaliesRca&&it(null===(n=S.anamaliesRca)||void 0===n?void 0:n.Items);if(S&&S.anamaliesMitigation&&st(S.anamaliesMitigation),"Anomalies Cluster Playback Failure"==fe){if(void 0!=(null===S||void 0===S||null===(i=S.anamaliesCluster)||void 0===i?void 0:i.data)){var c,l,o=Object.keys(null===S||void 0===S||null===(c=S.anamaliesCluster)||void 0===c?void 0:c.data),s=Object.values(null===S||void 0===S||null===(l=S.anamaliesCluster)||void 0===l?void 0:l.data);gt(s),vt(o)}}else if("Anomalies Cluster In Session"==fe){var r;if(void 0!=(null===S||void 0===S||null===(r=S.anamaliesClusterSession)||void 0===r?void 0:r.data)){var d,j,b=Object.keys(null===S||void 0===S||null===(d=S.anamaliesClusterSession)||void 0===d?void 0:d.data).slice(0,10),u=Object.values(null===S||void 0===S||null===(j=S.anamaliesClusterSession)||void 0===j?void 0:j.data).slice(0,10);wt(u),Dt(b)}}(void 0!=(null===S||void 0===S||null===(e=S.anamaliesClusterSession)||void 0===e?void 0:e.data)||void 0!=(null===S||void 0===S||null===(t=S.anamaliesCluster)||void 0===t?void 0:t.data)||S&&S.anamaliesMitigation||S&&S.anamaliesRca||S.anamaliesDetected)&&X(!1)}),[null===S||void 0===S||null===(c=S.anamaliesClusterSession)||void 0===c?void 0:c.data,null===S||void 0===S||null===(l=S.anamaliesCluster)||void 0===l?void 0:l.data,S.anamaliesMitigation,null===(o=S.anamaliesRca)||void 0===o?void 0:o.Items,null===(s=S.anamaliesDetected)||void 0===s?void 0:s.Items]);var Fa=function(e){var t=new Date,a=Math.floor(t.getTime()/1e3);Ke(a);var n=Math.floor((new Date).getTime()/1e3);switch(e){case"min":return void Ge(n-60);case"1h":return void Ge(n-3600);case"1d":return void Ge(n-86400);case"1w":return void Ge(n-604800);case"1m":return void Ge(n-2592e3);case"1y":return void Ge(n-31104e3)}};Object(n.useEffect)((function(){if(null!==oa[0]&&null!==oa[1]){var e=oa[0],t=oa[1];Ke(Math.floor(t.getTime()/1e3)),ye("1d"),Ge(Math.floor(e.getTime()/1e3))}}),[oa]),Object(n.useEffect)((function(){M(A),y(Object(P.V)(y))}),[]),Object(n.useEffect)((function(){var e,t=[];null===S||void 0===S||null===(e=S.estimatedRootRcaBucket)||void 0===e||e.Items.map((function(e){t.push(e.bucket_name.trim())})),Object(ce.k)(t)}),[null===S||void 0===S||null===(r=S.estimatedRootRcaBucket)||void 0===r?void 0:r.Items]);Object(n.useEffect)((function(){return function(){y(Object(P.md)("")),y(Object(P.nd)(""))}}),[y]),Object(n.useEffect)((function(){var e,t={manufacturer:_a,network:ya,contentPartner:oe,location:je,devicePlatform:Ce,bucketname:Ta,selectVal:Ae},a=Math.floor((new Date).getTime()/1e3);switch(ea){case"1min":e=a-60;break;case"1h":e=a-3600;break;case"1d":e=a-86400;break;case"1w":e=a-604800;break;case"1m":e=a-2592e3;break;case"1y":e=a-31104e3}X(!0),Ke(Je||a),"Total Anomalies Detected"==fe?(Object(P.uc)([]),X(!0),function(e,t,a){X(!0),y(Object(P.r)(y,e,t,a))}(Je||a,ea?e:Ye,t)):"Total Anomalies RCA Buckets"==fe?(X(!0),y(Object(P.t)(y,Je||a,ea?e:Ye,t))):"Email Mitigation Applied"==fe?(X(!0),y(Object(P.s)(y,Je||a,ea?e:Ye,Ae))):"Anomalies Cluster Playback Failure"==fe?(X(!0),y(Object(P.o)(y,Je||a,ea?e:Ye))):"Anomalies Cluster In Session"==fe&&(X(!0),y(Object(P.p)(y,Je||a,ea?e:Ye)))}),[Ye,ea,_a,ya,oe,je,Ce,Ta,fe,Ae]);var La=Object(Pe.b)(),Qa=[];Qa.push(zt,Qt,Wt,qt,Zt,Yt);var Va=Qa.map((function(e){return e.length}));Qa[Va.indexOf(Math.max.apply(Math,Object(j.a)(Va)))];var Ga,Wa,Ua,Ha,qa,Ja,Ka,Za,Xa,$a,en,tn,an,nn,cn,ln,on;if("Total Anomalies Detected"==fe&&Object.keys(null!==(d=S.anamaliesDetected)&&void 0!==d&&d.Items?null===(u=S.anamaliesDetected)||void 0===u?void 0:u.Items:{}).length>0)Ba={labels:null!==(Ga=S.anamaliesDetected)&&void 0!==Ga&&Ga.Items&&(null===(Wa=S.anamaliesDetected)||void 0===Wa||null===(Ua=Wa.Items)||void 0===Ua||null===(Ha=Ua.InSession)||void 0===Ha?void 0:Ha.length)>0?null===(qa=S.anamaliesDetected)||void 0===qa||null===(Ja=qa.Items)||void 0===Ja?void 0:Ja.Timestamp:0,datasets:[{label:"In Session",backgroundColor:"rgba(255, 0, 0, 0.2)",borderColor:We.a.color.warning,data:null!==(Ka=S.anamaliesDetected)&&void 0!==Ka&&Ka.Items&&(null===(Za=S.anamaliesDetected)||void 0===Za||null===(Xa=Za.Items)||void 0===Xa||null===($a=Xa.InSession)||void 0===$a?void 0:$a.length)>0?null===(en=S.anamaliesDetected)||void 0===en||null===(tn=en.Items)||void 0===tn?void 0:tn.InSession:[]},{label:"Playback",backgroundColor:"rgba(0,0,255, 0.2)",borderColor:We.a.color.info,data:null!==(an=S.anamaliesDetected)&&void 0!==an&&an.Items&&(null===(nn=S.anamaliesDetected)||void 0===nn||null===(cn=nn.Items)||void 0===cn?void 0:cn.Playback.length)>0?null===(ln=S.anamaliesDetected)||void 0===ln||null===(on=ln.Items)||void 0===on?void 0:on.Playback:[]}]};else if("Total Anomalies RCA Buckets"==fe&&Object.keys(null!==(O=S.anamaliesRca)&&void 0!==O&&O.Items?null===(h=S.anamaliesRca)||void 0===h?void 0:h.Items:{}).length>0&&null!==nt&&void 0!==nt&&nt.Label_Count){var sn=[" #800000","#FF0000","#800080","#FF00FF","#008000","#00FF00","#808000","#FFFF00","#000080","#0000FF","#008080","#00FFFF"],rn=[],dn=0;for(var jn in null===S||void 0===S||null===(bn=S.anamaliesRca)||void 0===bn||null===(un=bn.Items)||void 0===un?void 0:un.Bucket_info){var bn,un,On,hn,mn={label:jn,backgroundColor:"rgba(0,0,255, 0.2)",borderColor:sn[++dn],data:null===S||void 0===S||null===(On=S.anamaliesRca)||void 0===On||null===(hn=On.Items)||void 0===hn?void 0:hn.Bucket_info[jn]};rn.push(mn)}Pa={labels:null===nt||void 0===nt?void 0:nt.Label_Count,datasets:rn}}else if("Email Mitigation Applied"==fe&&Object.keys(null!==(m=S.anamaliesMitigation)&&void 0!==m&&null!==(v=m.data)&&void 0!==v&&v.uncategorized?null===(f=S.anamaliesMitigation)||void 0===f||null===(x=f.data)||void 0===x?void 0:x.uncategorized:{}).length>0){var vn,fn,xn,pn,gn,An;za={labels:null===(vn=S.anamaliesMitigation)||void 0===vn||null===(fn=vn.data)||void 0===fn||null===(xn=fn.uncategorized)||void 0===xn?void 0:xn.time_stamp.map((function(e){return e.replace("T"," ").replace("Z","")})),datasets:[{label:"Email Mitigation Applied",backgroundColor:"rgba(0,255,0, 0.2)",borderColor:We.a.color.primary,data:null===(pn=S.anamaliesMitigation)||void 0===pn||null===(gn=pn.data)||void 0===gn||null===(An=gn.uncategorized)||void 0===An?void 0:An.count}]}}console.log("abcd--",S.anamaliesMitigation);function yn(e){return"{}"===JSON.stringify(e)}return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"row",children:[Object(ee.jsx)("div",{className:"col-md-3",children:Object(ee.jsxs)(Te.a,{className:"SidePanel",children:[Object(ee.jsx)("h3",{className:"left-menu-title",children:"AI PIPELINE INSIGHTS"}),Object(ee.jsxs)("div",{className:"analysisHeaderRight search-insight-container",children:[Object(ee.jsx)("i",{className:"zmdi zmdi-search"}),Object(ee.jsx)(T.a,{onChange:function(e){var t=A;if(""!==e.target.value){var a=t.filter((function(t){return t.toLowerCase().includes(e.target.value.toLowerCase())}));M(a)}else M(t)},id:"outlined-basic",className:"search-insight",placeholder:"Search...",variant:"outlined",fullWidth:!0})]}),Object(ee.jsx)(ze.a,{updateMetricHeader:function(e){Ke(Je||Math.floor((new Date).getTime()/1e3));xe(e),Na([]),Sa([]),se([]),be([]),_e([]),Ma([])},favorite:D,leftMenuMetrics:k,updateMetric:function(e){_e(["Android","iOS"]),he(e)}})]})}),Object(ee.jsx)("div",{className:"col-md-9 right-insight",children:Object(ee.jsx)(Ne.a,{sx:{width:"100%",bgcolor:"background.paper"},children:Object(ee.jsxs)(Te.a,{children:[Object(ee.jsxs)("div",{className:"graphcontentHead",children:[Object(ee.jsx)("span",{style:{fontSize:"12.5px",fontWeight:500,textTransform:"capitalize"},children:fe}),Object(ee.jsxs)(ke.a,{direction:"row",spacing:1,sx:{float:"right"},style:{alignItems:"center"},children:[Object(ee.jsx)(we.a,{color:"primary","aria-label":"screenshot",onClick:function(){var e=document.querySelector(".take-screenshot");Y.a.toPng(e,{quality:1,bgcolor:"#ffffff"}).then((function(e){var t=document.createElement("a");t.href=e,t.download=Object(B.a)("png","expert-system-dashboard".concat("-",L()().format("DD/MM/YYYY"))),t.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))},children:Object(ee.jsx)(Ie.a,{color:"disabled"})}),Object(ee.jsx)(we.a,{color:"secondary","aria-label":"download",onClick:function(){var e,t,a,n=fe+L()(Math.floor(1e3*new Date(Ye).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(Je).getTime())).format("DD/MM/YYYY"),i=V.a.types.csv;if("Total Anomalies Detected"==fe)if((null===(e=S.anamaliesDetected)||void 0===e||null===(t=e.Items)||void 0===t||null===(a=t.Timestamp)||void 0===a?void 0:a.length)>0){var c,l,o,s;s=null===S||void 0===S||null===(c=S.anamaliesDetected)||void 0===c||null===(l=c.Items)||void 0===l||null===(o=l.Timestamp)||void 0===o?void 0:o.map((function(e,t){var a,n,i,c;return{Date_Time:e,InSession:null===S||void 0===S||null===(a=S.anamaliesDetected)||void 0===a||null===(n=a.Items)||void 0===n?void 0:n.InSession[t],Playback:null===S||void 0===S||null===(i=S.anamaliesDetected)||void 0===i||null===(c=i.Items)||void 0===c?void 0:c.Playback[t]}})),Object(V.a)({data:s,fileName:n,exportType:i})}else G.NotificationManager.error("Data not found !!","",2e3);else if("Total Anomalies RCA Buckets"==fe){var r,d;if((null===S||void 0===S||null===(r=S.anamaliesRca)||void 0===r||null===(d=r.Items)||void 0===d?void 0:d.Bucket_info.length)>0){var j,b,u;u=null===S||void 0===S||null===(j=S.anamaliesRca)||void 0===j||null===(b=j.Items)||void 0===b?void 0:b.Bucket_info.map((function(e,t){var a,n;return{Bucket_Name:e,Count:null===S||void 0===S||null===(a=S.anamaliesRca)||void 0===a||null===(n=a.Items)||void 0===n?void 0:n.Label_Count[t]}})),Object(V.a)({data:u,fileName:n,exportType:i})}else G.NotificationManager.error("Data not found !!","",2e3)}else if("Email Mitigation Applied"==fe){var O,h,m,v;if((null===(O=S.anamaliesMitigation)||void 0===O||null===(h=O.data)||void 0===h||null===(m=h.uncategorized)||void 0===m||null===(v=m.time_stamp)||void 0===v?void 0:v.length)>0){var f,x,p,g;g=null===(f=S.anamaliesMitigation)||void 0===f||null===(x=f.data)||void 0===x||null===(p=x.uncategorized)||void 0===p?void 0:p.time_stamp.map((function(e,t){var a,n,i;return{Date_Time:e,Count:null===(a=S.anamaliesMitigation)||void 0===a||null===(n=a.data)||void 0===n||null===(i=n.uncategorized)||void 0===i?void 0:i.count[t]}})),Object(V.a)({data:g,fileName:n,exportType:i})}else G.NotificationManager.error("Data not found !!","",2e3)}else if("Anomalies Cluster Playback Failure"==fe){var A;if(void 0!=(null===S||void 0===S||null===(A=S.anamaliesCluster)||void 0===A?void 0:A.data)){var y,D;D=Object.keys(null===S||void 0===S||null===(y=S.anamaliesCluster)||void 0===y?void 0:y.data).map((function(e,t){var a;return{Playback_Failure_Name:e,Count:Object.values(null===S||void 0===S||null===(a=S.anamaliesCluster)||void 0===a?void 0:a.data)[t]}})),Object(V.a)({data:D,fileName:n,exportType:i})}else G.NotificationManager.error("Data not found !!","",2e3)}else if("Anomalies Cluster In Session"==fe){var C;if(void 0!=(null===S||void 0===S||null===(C=S.anamaliesClusterSession)||void 0===C?void 0:C.data)){var _,N;N=Object.keys(null===S||void 0===S||null===(_=S.anamaliesClusterSession)||void 0===_?void 0:_.data).map((function(e,t){var a;return{Diemension:e,Count:Object.values(null===S||void 0===S||null===(a=S.anamaliesClusterSession)||void 0===a?void 0:a.data)[t]}})),Object(V.a)({data:N,fileName:n,exportType:i})}else G.NotificationManager.error("Data not found !!","",2e3)}},children:Object(ee.jsx)(Re.a,{color:"disabled"})}),Object(ee.jsx)(we.a,{"aria-label":"fullscreen",onClick:La.enter,children:Object(ee.jsx)(Be.a,{color:"disabled"})}),"Total Anomalies Detected"==fe||"Total Anomalies RCA Buckets"==fe||"Email Mitigation Applied"==fe?Object(ee.jsx)(Ne.a,{className:"dropdownCont",children:Object(ee.jsxs)(Qe.a,{fullWidth:!0,className:"intervalSelectwithLabel",children:[Object(ee.jsx)(Fe.a,{id:"intervalSelectwithLabel",children:"Interval"}),Object(ee.jsxs)(Ve.a,{labelId:"intervalSelectwithLabel",id:"demo-simple-select",value:Ae,label:"Interval",onChange:function(e){console.log("abcd--",e),ye(e.target.value)},className:"interSelect",children:[Object(ee.jsx)(Le.a,{value:"1s",children:"Sec"}),Object(ee.jsx)(Le.a,{value:"1min",children:"Min"}),Object(ee.jsx)(Le.a,{value:"1h",children:"Hour"}),Object(ee.jsx)(Le.a,{value:"1d",children:"Day"}),Object(ee.jsx)(Le.a,{value:"1w",children:"Week"}),Object(ee.jsx)(Le.a,{value:"1m",children:"Month"})]})]})}):null,Object(ee.jsx)(Ne.a,{className:"dropdownCont",children:Object(ee.jsxs)(Qe.a,{fullWidth:!0,className:"intervalSelectwithLabel",children:[Object(ee.jsx)(Fe.a,{id:"intervalSelectwithLabel",children:"Date"}),Object(ee.jsxs)(Ve.a,{labelId:"intervalSelectwithLabel",id:"demo-simple-select",value:ea,label:"Interval",onChange:function(e){pa(),ma(),sa([null,null]),ta(e.target.value);switch(e.target.value){case"min":return ia("sec"),void Fa("min");case"1h":return ia("hour"),void Fa("hour");case"1d":return ia("hour"),void Fa("day");case"1w":return ia("date"),void Fa("week");case"1m":return ia("date"),void Fa("month");case"1y":return ia("date"),void Fa("year")}},className:"interSelect",children:[Object(ee.jsx)(Le.a,{value:"1h",children:"Hour"}),Object(ee.jsx)(Le.a,{value:"1d",children:"Day"}),Object(ee.jsx)(Le.a,{value:"1w",children:"Week"}),Object(ee.jsx)(Le.a,{value:"1m",children:"Month"}),Object(ee.jsx)(Le.a,{value:"1y",disabled:!0,children:"Year"})]})]})}),Object(ee.jsx)(Ne.a,{children:Object(ee.jsxs)("div",{className:"dateCountcustom",children:[Object(ee.jsxs)("div",{className:"row eds-dateCont",children:[Object(ee.jsx)("span",{children:"Custom Date"}),Object(ee.jsx)(T.a,{onClick:function(){return ba(!0)},contentEditable:!1,value:ha?L()(ha).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"}),Object(ee.jsx)(Ne.a,{className:"to",sx:{mx:2},children:" to "}),Object(ee.jsx)(T.a,{onClick:function(){return ba(!0)},contentEditable:!1,value:xa?L()(xa).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"})]}),Object(ee.jsxs)(H.a,{isOpen:ja,toggle:function(){return ba(!1)},centered:!0,children:[Object(ee.jsx)(q.a,{children:Object(ee.jsx)("h3",{children:"Date Picker"})}),Object(ee.jsx)(J.a,{children:Object(ee.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(ee.jsx)(Z.DateRange,{onChange:function(e){return Ya([e.selection])},ranges:Ra,editableDateInputs:!0,moveRangeOnFirstSelection:!1,maxDate:new Date})})}),Object(ee.jsx)(K.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(E.a,{onClick:function(){return ba(!1)},variant:"contained",className:"btn-danger text-white bg-danger",children:"Cancel"}),Object(ee.jsx)(E.a,{onClick:function(){ta(""),ma(Ra[0].startDate),pa(Ra[0].endDate),ba(!1),Ke(Math.floor(L()(Ra[0].endDate).endOf("date")._d.getTime()/1e3)-86400+60),console.log(Math.floor(L()(Ra[0].startDate).endOf("date")._d.getTime()/1e3-86400),"fromdate"),Math.floor(L()(Ra[0].endDate).endOf("date")._d.getTime()/1e3),Math.floor(L()(Ra[0].startDate).endOf("date")._d.getTime()/1e3),Ge(Math.floor(L()(Ra[0].startDate).endOf("date")._d.getTime()/1e3-86400+60))},variant:"contained",color:"primary",className:"text-white bg-primary",style:{marginLeft:10},children:"Submit"})]})})]})]})}),"Total Anomalies Detected"==fe||"Total Anomalies RCA Buckets"==fe?Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(lt,{getContentPartner:function(e){se(e)},getLocation:function(e){be(e)},getNetwork:function(e){Sa(e)},getManufacturer:function(e){Na(e)},getBucketName:function(e){Ma(e)},savePlatformData:function(e){_e(e)},contentPartnetVal:I,locationVal:R,devicePlatform:Ce,contentPartner:oe,location:je,metricname:fe,manufacturer:_a,network:ya,bucketname:Ta})}):null]})]}),Object(ee.jsx)(Pe.a,{handle:La,children:Object(ee.jsx)("div",{className:"wraper-graph take-screenshot",children:U?Object(ee.jsx)(Q.a,{}):Object(ee.jsx)(ee.Fragment,{children:"Total Anomalies Detected"==fe?0==Object.keys(Ba).length?"Record Not Found":Object(ee.jsx)(Ue,{selectVal:Ae,chartData:Ba}):"Total Anomalies RCA Buckets"==fe?0==Object.keys(Pa).length?"Record Not Found":Object(ee.jsx)(mt,{selectVal:Ae,chartData:Pa,type:"RCA_Bucket"}):"Email Mitigation Applied"==fe?0==Object.keys(za).length?"Record Not Found":Object(ee.jsx)(mt,{selectVal:Ae,chartData:za,type:"Mitigation"}):"Anomalies Cluster Playback Failure"==fe?yn(null===S||void 0===S||null===(p=S.anamaliesCluster)||void 0===p?void 0:p.data)?"Record Not Found":Object(ee.jsx)("div",{children:Object(ee.jsx)(et,{datasets:pt,labels:ht,type:"playback"})}):yn(null===S||void 0===S||null===(g=S.anamaliesClusterSession)||void 0===g?void 0:g.data)?"Record Not Found":Object(ee.jsx)("div",{children:Object(ee.jsx)(et,{datasets:Nt,labels:St,type:"insession"})})})})})]})})})]})})},ft=a(691),xt=function(){var e,t,a,c,l,s,r,d,u,A,_,N=Object(z.c)(),T=Object(z.d)((function(e){return e.qoeReducer})),M=Object(n.useState)(!1),I=Object(b.a)(M,2),R=I[0],Y=I[1],B=Object(n.useState)(!1),F=Object(b.a)(B,2),U=F[0],X=F[1],$=Object(n.useState)(!1),te=Object(b.a)($,2),ne=te[0],ie=te[1],le=Object(n.useState)("24hr"),oe=Object(b.a)(le,2),se=oe[0],re=oe[1],de=Object(n.useState)(""),je=Object(b.a)(de,2),be=je[0],ue=je[1],Oe=Object(n.useState)(""),he=Object(b.a)(Oe,2),me=he[0],ve=he[1],fe=Object(n.useState)(""),xe=Object(b.a)(fe,2),pe=xe[0],ge=xe[1],Se=Object(n.useState)(""),De=Object(b.a)(Se,2),_e=De[0],Ne=De[1],we=Object(n.useState)(""),ke=Object(b.a)(we,2),Te=ke[0],Me=ke[1],Ie=Object(n.useState)([]),Ee=Object(b.a)(Ie,2),Re=Ee[0],Ye=Ee[1],Be=Object(n.useState)(!1),Pe=Object(b.a)(Be,2),ze=Pe[0],Fe=Pe[1],Le=Object(n.useState)([]),Qe=Object(b.a)(Le,2),Ve=Qe[0],Ge=Qe[1],We=Object(n.useState)(),Ue=Object(b.a)(We,2),He=Ue[0],qe=Ue[1],Je=Object(n.useState)(!1),Ke=Object(b.a)(Je,2),Ze=Ke[0],Xe=Ke[1],$e=Object(n.useState)(""),et=Object(b.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)("1"),it=Object(b.a)(nt,2),ct=it[0],lt=it[1],ot=new FileReader,st=Object(n.useState)("ADD NEW RCA"),rt=Object(b.a)(st,2),dt=rt[0],jt=rt[1],bt=Object(n.useState)(!1),ut=Object(b.a)(bt,2),Ot=ut[0],ht=ut[1],mt=Object(n.useState)(!1),vt=Object(b.a)(mt,2),xt=vt[0],pt=vt[1],gt=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),At=Object(b.a)(gt,2),yt=At[0],St=At[1],Dt=i.a.useState(0),Ct=Object(b.a)(Dt,2),_t=Ct[0],Nt=Ct[1],wt=Object(n.useState)(null===T||void 0===T||null===(e=T.rcaDetect)||void 0===e?void 0:e.Items),kt=Object(b.a)(wt,2),Tt=kt[0],Mt=kt[1],It=Object(n.useState)([]),Et=Object(b.a)(It,2),Rt=Et[0],Yt=Et[1],Bt=i.a.useState(10),Pt=Object(b.a)(Bt,2),zt=Pt[0],Ft=Pt[1],Lt=Object(n.useState)(!1),Qt=Object(b.a)(Lt,2),Vt=(Qt[0],Qt[1],Object(n.useState)(!1)),Gt=Object(b.a)(Vt,2),Wt=Gt[0],Ut=Gt[1],Ht=Object(n.useState)(Math.floor((new Date).getTime()/1e3)),qt=Object(b.a)(Ht,2),Jt=(qt[0],qt[1]),Kt=Object(n.useState)(!1),Zt=Object(b.a)(Kt,2),Xt=Zt[0],$t=Zt[1],ea=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),ta=Object(b.a)(ea,2),aa=ta[0],na=ta[1],ia=Object(n.useState)(),ca=Object(b.a)(ia,2),la=ca[0],oa=ca[1],sa=Object(n.useState)(),ra=Object(b.a)(sa,2),da=ra[0],ja=ra[1],ba=/\s/g,ua=function(e){var t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n"),n=[],i=a.map((function(e){var i=e.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/),c=t.reduce((function(e,t,c){return a[c]&&n.push(a[c].split(",")),e[t.trim()]=i[c],e}),{});if(void 0!==c.is_approved&&(c.is_approved=0==c.is_approved?parseInt(0):parseInt(1)),null!==c&&void 0!==c&&c.Date_Time){var l=L()(c.Date_Time,"DD-MM-YYYY hh:mm").format("MM/DD/YYYY HH:MM"),o=Math.floor(L()(l).endOf("date")._d.getTime());c.batch_time=o,delete c.Date_Time}return delete c.type,c}));Ge(i)};Object(n.useEffect)((function(){Y(!0),N(Object(P.V)(N)),N(Object(P.J)(N)),setTimeout((function(){Y(!1)}),4e3)}),[ct]);Object(n.useEffect)((function(){if(Ot){var e,t;Y(!0);var a=Math.floor((new Date).getTime()/1e3);N(Object(P.ub)(N,a,yt,_t,null!==T&&void 0!==T&&null!==(e=T.rcaDetect)&&void 0!==e&&e.next_iteration_id?null===T||void 0===T||null===(t=T.rcaDetect)||void 0===t?void 0:t.next_iteration_id:"")),setTimeout((function(){Y(!1)}),1e4)}}),[yt,Ot]),Object(n.useEffect)((function(){var e,t;null!==T&&void 0!==T&&null!==(e=T.rcaDetect)&&void 0!==e&&e.Items?Mt(null===T||void 0===T||null===(t=T.rcaDetect)||void 0===t?void 0:t.Items):Mt([])}),[null===T||void 0===T?void 0:T.rcaDetect]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(p.a,{variant:"h5",children:["Configure RCA (",(null===T||void 0===T||null===(t=T.estimatedRootRcaBucket)||void 0===t?void 0:t.Items)&&(null===T||void 0===T||null===(a=T.estimatedRootRcaBucket)||void 0===a?void 0:a.Items.length),")"]}),Object(ee.jsx)(k.a,{className:"addnew-config",onClick:function(){Object(ce.h)("WRITE_CONFIGURE_RCA")?(ie(!0),Ye([])):G.NotificationManager.error(ce.a.message)},children:"APPLY MITIGATION"}),Object(ee.jsxs)(k.a,{className:"addnew-config",onClick:function(){Object(ce.h)("WRITE_CONFIGURE_RCA")?(X(!0),jt("ADD RCA")):G.NotificationManager.error(ce.a.message)},children:["ADD NEW ",Object(ee.jsx)("i",{className:"zmdi zmdi-plus"})]}),Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#E10092",float:"right"},onClick:function(){var e;Ut(!0);var t,a=V.a.types.csv;(null===T||void 0===T||null===(e=T.estimatedRootRcaBucket)||void 0===e?void 0:e.Items.length)>0?(Object(V.a)({data:null===T||void 0===T||null===(t=T.estimatedRootRcaBucket)||void 0===t?void 0:t.Items,fileName:"Configure_RCA",exportType:a}),Ut(!1)):Ut(!1)},children:Object(ee.jsx)("i",{className:"zmdi zmdi-download"})})]})}),Object(ee.jsx)("div",{className:"col-md-12",children:" "}),Wt?Object(ee.jsx)("div",{style:{height:"100vh",width:"100vw",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(0, 0, 0,0.3)",zIndex:5},children:Object(ee.jsx)(Q.a,{})}):"",Object(ee.jsxs)("div",{className:"wraper-config",children:[null!==T&&void 0!==T&&null!==(c=T.estimatedRootRcaBucket)&&void 0!==c&&c.Items&&(null===T||void 0===T||null===(l=T.estimatedRootRcaBucket)||void 0===l?void 0:l.Items.length)>0?Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"RCA Bucket Name"}),Object(ee.jsx)(f.a,{children:"Plan Name"}),Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{})]})}),R?Object(ee.jsx)("div",{style:{height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ee.jsx)(Q.a,{})}):Object(ee.jsx)(ee.Fragment,{children:(null===T||void 0===T||null===(s=T.estimatedRootRcaBucket)||void 0===s?void 0:s.Items)&&(null===T||void 0===T||null===(r=T.estimatedRootRcaBucket)||void 0===r?void 0:r.Items.map((function(e,t){return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:e.bucket_name}),Object(ee.jsx)(f.a,{children:e.plan_name}),Object(ee.jsxs)(f.a,{children:[Object(ee.jsx)("i",{className:"zmdi zmdi-edit updateClass",onClick:function(){!function(e){Object(ce.h)("WRITE_CONFIGURE_RCA")?(jt("UPDATE RCA"),X(!0),console.log(e,"option"),ue(e.bucket_name),ve(e.plan_name)):G.NotificationManager.error(ce.a.message)}(e)}})," "]}),Object(ee.jsxs)(f.a,{children:[Object(ee.jsx)("i",{className:"zmdi zmdi-delete",onClick:function(){!function(e){Object(ce.h)("WRITE_CONFIGURE_RCA")?(Xe(!0),at(e.bucket_name)):G.NotificationManager.error(ce.a.message)}(e)}})," "]})]})})))})]})}):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginLeft:"112px"},children:[" ","No Records Found"]}),Object(ee.jsx)(S.a,{open:U,onClose:function(){X(!1)},anchor:"right",children:Object(ee.jsxs)("div",{className:"rightSidebar",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"Add New RCA"}),Object(ee.jsxs)(D.a,{onClick:function(){return X(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","RCA Bucket Name"]}),"UPDATE RCA"==dt?Object(ee.jsxs)("h3",{children:[" ",be]}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Ae.a,{value:be,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"text",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%"},onChange:function(e){ue(e.target.value)}}),be&&be.length>25&&Object(ee.jsxs)("p",{style:{color:"red","font-size":"13px",margin:"0"},children:["Name length should not be greater than 25"," "]}),be&&ba.test(be)&&Object(ee.jsx)("p",{style:{color:"red","font-size":"13px",margin:"0"},children:"Name should not have space"})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},className:"eds-dropdown",children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Mitigation Plan"]}),Object(ee.jsx)(Ae.a,{id:"outlined-select-currency",variant:"outlined",fullWidth:!0,select:!0,placeholder:"mitigation plan",value:me,onChange:function(e){ve(e.target.value)},children:(null===T||void 0===T?void 0:T.configMitiBucketPlan)&&(null===T||void 0===T?void 0:T.configMitiBucketPlan.map((function(e){return Object(ee.jsx)(g.a,{value:e.plan_name,children:e.plan_name},e.plan_name)})))})]}),Object(ee.jsx)(C.a,{style:{display:"block",marginTop:"15px"},children:Object(ee.jsxs)(k.a,{className:"addnew-config",onClick:function(){if(console.log("add space abcd--",ba.test(be)),""!=be&&""!=me){if(be.length>25||ba.test(be))return;"UPDATE RCA"===dt?(console.log("update side"),N(Object(P.mc)(N,be,me)),X(!1),N(Object(P.J)(N)),lt("update")):(console.log("Add side"),N(Object(P.ic)(N,be,me)),X(!1),N(Object(P.J)(N)),lt("add"),X(!1))}else G.NotificationManager.success("Please fill all the field","",1e3)},children:[dt," "]})})]})}),Object(ee.jsxs)(S.a,{open:ne,onClose:function(){ie(!1)},anchor:"right",children:[Object(ee.jsxs)("div",{className:"rightSidebar",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"APPLY MITIGATION RCA"}),Object(ee.jsxs)(D.a,{onClick:function(){return ie(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},className:"eds-dropdown",children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","RCA Bucket Name"]}),Object(ee.jsx)(Ae.a,{id:"outlined-select-currency",variant:"outlined",fullWidth:!0,select:!0,placeholder:"mitigation plan",value:pe,onChange:function(e){var t;ge(e.target.value);var a=null===T||void 0===T||null===(t=T.estimatedRootRcaBucket)||void 0===t?void 0:t.Items.filter((function(t){if(t.bucket_name==e.target.value)return t}));Ne(a[0].plan_name)},children:(null===T||void 0===T||null===(d=T.estimatedRootRcaBucket)||void 0===d?void 0:d.Items)&&(null===T||void 0===T||null===(u=T.estimatedRootRcaBucket)||void 0===u?void 0:u.Items.map((function(e){return Object(ee.jsx)(g.a,{value:e.bucket_name,children:e.bucket_name},e.bucket_name)})))})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},className:"eds-dropdown",children:[Object(ee.jsxs)("h3",{style:{fontSize:"15px",color:"#404040"},children:[" ","Linked Mitigation"]}),Object(ee.jsx)(Ae.a,{id:"outlined-select-currency",variant:"outlined",fullWidth:!0,select:!0,placeholder:"linked mitigation",value:_e,onChange:function(e){Ne(e.target.value)},children:(null===T||void 0===T?void 0:T.configMitiBucketPlan)&&(null===T||void 0===T?void 0:T.configMitiBucketPlan.map((function(e){return Object(ee.jsx)(g.a,{value:e.plan_name,children:e.plan_name},e.plan_name)})))})]}),Object(ee.jsxs)(C.a,{style:{display:"block",marginTop:"15px"},children:[Object(ee.jsx)("h3",{style:{fontSize:"15px",color:"#404040"},children:" Body"}),Object(ee.jsx)(ye.a,{value:Te,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"text",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%",height:"50px"},onChange:function(e){Me(e.target.value)}})]}),Object(ee.jsx)(C.a,{style:{display:"block",marginTop:"15px"},children:Object(ee.jsx)(ft.a,{className:"addnew-Link-config",title:"link records before apply mitigation",arrow:!0,children:Object(ee.jsxs)(k.a,{className:"addLink-button",onClick:function(){pe&&_e&&Te?(Fe(!0),Ge([]),Ye([]),Yt([]),Mt([])):G.NotificationManager.error("Please fill the above field","",2e3)},children:["Link Records"," ",Re.length>0?Object(ee.jsx)("span",{className:"spanlinkrecords",children:Re.length}):null]})})}),Object(ee.jsx)(C.a,{style:{display:"flow-root",marginTop:"15px"},children:Object(ee.jsxs)(k.a,{className:"addnew-Link-config",onClick:function(){""!=_e&&""!=pe&&""!=Te&&(0!=Re.length?(N(Object(P.jc)(N,pe,_e,Te,Re)),ie(!1)):G.NotificationManager.error("Please Link Records","",1e3))},children:["APPLY MITIGATION"," "]})})]}),Object(ee.jsx)(ae,{title:"Upload CSV File",isOpen:ze,onClose:function(){Fe(!1),Ge([])},children:Object(ee.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(ee.jsxs)("form",{children:[Object(ee.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Ge([]),qe(e.target.files[0]),e.target.files[0]&&(ot.onload=function(e){var t=e.target.result;ua(t),console.log("abcd--handleOnChange--",Ve)})}}),Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(e){!function(e){if(e.preventDefault(),He)if(ot.onload=function(e){var t=e.target.result;ua(t)},ot.readAsText(He),Math.floor((new Date).getTime()/1e3),Ve.length>0)if(Ve.filter((function(e){return void 0==e?Ve.splice(Ve.indexOf(e)):null!==e&&void 0!==e&&e.Date_Time||null!==e&&void 0!==e&&e.analysis_window_hrs||null!==e&&void 0!==e&&e.dimension||null!==e&&void 0!==e&&e.problem_score||null!==e&&void 0!==e&&e.rca_bucket||null!==e&&void 0!==e&&e.rca_unique_id||null!==e&&void 0!==e&&e.total_anomaly_records||null!==e&&void 0!==e&&e.total_records||null!==e&&void 0!==e&&e.upper_threshold?void 0:Ve.splice(Ve.indexOf(e))})),Ve.length>0){var t=Object.keys(Ve[0]),a=["upper_threshold","total_records","analysis_window_hrs","total_anomaly_records","problem_score","dimension","rca_unique_id","batch_time","is_approved","rca_bucket"].filter((function(e){return!t.includes(e)}));if(a.length>0){a.includes("batch_time")&&(a[a.indexOf("batch_time")]="Date_Time");var n=a.join(",\r\n");G.NotificationManager.error("The following required colomns are missing in excel : ".concat(n),"",2e3)}else Ve.pop(),ie(!1),Yt(Ve),Mt(Ve),Ye(Ve),pt(!0),Fe(!1)}else G.NotificationManager.error("Valid data not found in CSV File","",2e3);else G.NotificationManager.success("File takes time to convert from csv to json format ! Please wait for sometime","",3e3)}(e)},children:"UPLOAD CSV"}),Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092",marginLeft:"10px"},onClick:function(e){ht(!0),Fe(!1),ie(!1),re("24hr"),St(Math.floor((new Date).getTime()/1e3)-86400)},children:"Link Records"})]})})})]})]}),Object(ee.jsx)(Ce,{assetid:"",title:"Delete",isOpen:Ze,onClose:function(){Xe(!1)},children:Object(ee.jsx)(y.a,{style:{padding:"0 2em 2em 2em"},children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(p.a,{id:"modal-modal-description",sx:{mt:2},children:["Are you sure you want to delete RCA Bucket ?",Object(ee.jsx)("p",{style:{color:"red"},children:tt})]}),Object(ee.jsxs)("div",{style:{float:"right",marginTop:"10px"},children:[Object(ee.jsx)(k.a,{onClick:function(){Xe(!1)},style:{color:"#E10092",width:"83px",height:"28px",fontSize:"1rem",border:"1px solid #E10092",marginRight:"10px"},children:"No"}),Object(ee.jsx)(k.a,{style:{color:"white",background:"#E10092",width:"83px",height:"28px",fontSize:"1rem",fontWeigth:"100"},onClick:function(){Xe(!1),N(Object(P.l)(N,tt,"rca_buckets","rcaConfig")),setTimeout((function(){lt("delete")}),2e3)},children:"Yes"})]})]})})}),Object(ee.jsx)(y.a,{sx:{width:"100%",overflow:"hidden"},children:Object(ee.jsxs)(S.a,{anchor:"bottom",open:Ot,onClose:function(){ht(!1),Yt([]),re("24hr")},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){ht(!1),Yt([]),re("24hr")},className:"zmdi zmdi-arrow-left"})," "]}),Object(ee.jsxs)("span",{className:"status-report",children:[Object(ee.jsx)(k.a,{onClick:function(){St(Math.floor((new Date).getTime()/1e3)-86400),re("24hr")},className:"24hr"===se?"Status-btn-active":"Status-btn",children:"24hrs"}),Object(ee.jsx)(k.a,{onClick:function(){St(Math.floor((new Date).getTime()/1e3)-604800),re("weekly")},className:"weekly"===se?"Status-btn-active":"Status-btn",children:"48hrs"}),Object(ee.jsx)(k.a,{onClick:function(){St(Math.floor((new Date).getTime()/1e3)-2592e3),re("monthly")},className:"monthly"===se?"Status-btn-active":"Status-btn",children:"72hrs"})]}),Object(ee.jsxs)("div",{className:"dateCountcustom",children:[Object(ee.jsxs)("div",{className:"row eds-dateCont",children:[Object(ee.jsx)("span",{children:"Custom Date"}),Object(ee.jsx)(Ae.a,{onClick:function(){return $t(!0)},contentEditable:!1,value:la?L()(la).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"}),Object(ee.jsxs)(o.a,{className:"to",sx:{mx:2},children:[" ","to"," "]}),Object(ee.jsx)(Ae.a,{onClick:function(){return $t(!0)},contentEditable:!1,value:da?L()(da).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"})]}),Object(ee.jsxs)(H.a,{isOpen:Xt,toggle:function(){return $t(!1)},centered:!0,children:[Object(ee.jsx)(q.a,{children:Object(ee.jsx)("h3",{children:"Date Picker"})}),Object(ee.jsx)(J.a,{children:Object(ee.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(ee.jsx)(Z.DateRange,{onChange:function(e){return na([e.selection])},ranges:aa,editableDateInputs:!0,moveRangeOnFirstSelection:!1,maxDate:new Date})})}),Object(ee.jsx)(K.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(E.a,{onClick:function(){return $t(!1)},variant:"contained",className:"btn-danger text-white bg-danger",children:"Cancel"}),Object(ee.jsx)(E.a,{onClick:function(){console.log(aa[0],"ramge"),re(""),oa(aa[0].startDate),ja(aa[0].endDate),$t(!1),Jt(Math.floor(L()(aa[0].endDate).endOf("date")._d.getTime()/1e3)),St(Math.floor(L()(aa[0].startDate).endOf("date")._d.getTime()/1e3)-86400)},variant:"contained",color:"primary",className:"text-white bg-primary",style:{marginLeft:10},children:"Submit"})]})})]})]}),Object(ee.jsx)("i",{onClick:function(){ht(!1),Yt([]),re("24hr"),oa(),ja()},className:"zmdi zmdi-close"})]}),null!==T&&void 0!==T&&null!==(A=T.rcaDetect)&&void 0!==A&&A.Items&&(null===T||void 0===T||null===(_=T.rcaDetect)||void 0===_?void 0:_.Items.length)>0?Object(ee.jsxs)("div",{className:"full-table",children:[Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Problematic Dimension"}),Object(ee.jsx)(f.a,{children:"Batch Time"}),Object(ee.jsx)(f.a,{children:"Analysis Window Hrs"}),Object(ee.jsx)(f.a,{children:"Total Anomaly Records"}),Object(ee.jsx)(f.a,{children:"Problem Score"}),Object(ee.jsx)(f.a,{children:"Total Records "}),Object(ee.jsx)(f.a,{children:"Upper Threshold"}),Object(ee.jsx)(f.a,{children:"Rca Bucket"}),Object(ee.jsx)(f.a,{})]})}),Tt&&Tt.slice(_t*zt,_t*zt+zt).map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.batch_time).getTime());return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsx)("p",{className:"anomalyptag",children:e.dimension})}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsxs)(f.a,{children:[" ",e.analysis_window_hrs]}),Object(ee.jsx)(f.a,{children:e.total_anomaly_records}),Object(ee.jsx)(f.a,{children:e.problem_score}),Object(ee.jsxs)(f.a,{children:[e.total_records," "]}),Object(ee.jsx)(f.a,{children:e.upper_threshold}),Object(ee.jsx)(f.a,{children:e.rca_bucket?e.rca_bucket:"-"}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{onChange:function(){return function(e){if(console.log("abcd--",e),""!=e.rca_bucket){e.is_approved=1;var t=Rt.indexOf(e),a=Object(j.a)(Rt);-1===t?a.push(e):a.splice(t,1),Yt(a)}else G.NotificationManager.error("Please Select RCA Bucket First","",2e3)}(e)},edge:"start",checked:-1!==Rt.indexOf(e)})})]})})}))]})}),Tt&&Tt.length>0?Object(ee.jsx)(x.a,{rowsPerPageOptions:[10,20,50,100],component:"div",count:4,rowsPerPage:zt,page:_t,onPageChange:function(e,t){Nt(t)},onRowsPerPageChange:function(e){Ft(parseInt(e.target.value,10)),Nt(0)},className:"paginationstyle"}):null,Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",children:" "}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){ht(!1),Yt([]),Mt([]),re("24hr"),oa(),ja()},children:"Cancel"}),Object(ee.jsx)(k.a,{className:"apply-btn",onClick:function(){console.log("abcd--",pe,_e,Te),Ye(Rt),ht(!1),ie(!0),oa(),ja()},style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Link"})]})]})]}):Object(ee.jsx)("p",{children:"Data not found"})]})}),Object(ee.jsx)(y.a,{sx:{width:"100%",overflow:"hidden"},children:Object(ee.jsxs)(S.a,{anchor:"bottom",open:xt,onClose:function(){return pt(!1)},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){return pt(!1)},className:"zmdi zmdi-arrow-left"})," ","Preview Data (",null===Rt||void 0===Rt?void 0:Rt.length,")"]}),Object(ee.jsx)("i",{onClick:function(){pt(!1),Yt([])},className:"zmdi zmdi-close"})]}),Object(ee.jsx)("div",{className:"full-table",children:Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Problematic Dimension"}),Object(ee.jsx)(f.a,{children:"Batch Time"}),Object(ee.jsx)(f.a,{children:"Analysis Window Hrs"}),Object(ee.jsx)(f.a,{children:"Total Anomaly Records"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Problem Score"}),Object(ee.jsx)(f.a,{children:"Total Records "}),Object(ee.jsx)(f.a,{children:"Upper Threshold"}),Object(ee.jsx)(f.a,{children:"Rca Bucket"})]})}),Rt.length>0?Rt.map((function(e,t){var a=Math.floor(1e3*new Date((null===e||void 0===e?void 0:e.batch_time)||(null===e||void 0===e?void 0:e.Date_Time)).getTime());return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:Object(ee.jsx)("p",{className:"anomalyptag",children:e.dimension})}),Object(ee.jsx)(f.a,{children:L()(a).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsxs)(f.a,{children:[" ",e.analysis_window_hrs]}),Object(ee.jsx)(f.a,{children:e.total_anomaly_records}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:e.problem_score}),Object(ee.jsxs)(f.a,{children:[e.total_records," "]}),Object(ee.jsx)(f.a,{children:e.upper_threshold}),Object(ee.jsx)(f.a,{children:e.rca_bucket})]})})):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginTop:"113px"},children:[" ","No Data Found"]})]})})}),Object(ee.jsxs)("div",{style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){Ye(Rt),pt(!1),ie(!0)},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){Yt([]),Ye([]),pt(!1),ie(!0)},children:"No"})]})]})})]})},pt=a(563);function gt(e){var t,a,i,c,l=Object(z.c)(),o=Object(z.d)((function(e){return e.qoeReducer}));console.log({dataDisplay:o}),Object(n.useEffect)((function(){var e;if((null===o||void 0===o||null===(e=o.cities)||void 0===e?void 0:e.length)>0)return null;l(Object(P.H)(l))}),[l]);var s=e.getContentPartner,r=e.getLocation,d=e.savePlatformData,j=e.contentPartner,u=e.location,O=void 0===u?[]:u,h=e.devicePlatform,m=void 0===h?[]:h,v=e.videoId,f=void 0===v?[]:v,x=e.getVideoId,p=e.getErrorCode,g=e.errorCode,A=void 0===g?[]:g,y=e.getErrorNameData,C=e.errorName,_=e.errorCount,N=e.errorCountSign,w=e.getErrorCount,k=e.getErrorCountSign,T=Object(n.useState)([]),M=Object(b.a)(T,2),R=M[0],Y=M[1],B=Object(n.useState)([]),F=Object(b.a)(B,2),L=F[0],Q=F[1],V=Object(n.useState)([]),G=Object(b.a)(V,2),U=G[0],H=G[1],q=Object(n.useState)(!1),J=Object(b.a)(q,2),K=J[0],Z=J[1],X=Object(n.useState)([]),$=Object(b.a)(X,2),te=$[0],ae=$[1],ne=Object(n.useState)(""),ie=Object(b.a)(ne,2),ce=ie[0],le=ie[1],oe=Object(n.useState)(""),se=Object(b.a)(oe,2),re=se[0],de=se[1],he=Object(n.useState)(""),ve=Object(b.a)(he,2),fe=ve[0],xe=ve[1],pe=Object(n.useState)([]),ge=Object(b.a)(pe,2),Ae=ge[0],ye=ge[1],Se=Object(n.useState)([]),De=Object(b.a)(Se,2),Ce=De[0],_e=De[1],Ne=Object(n.useState)([]),we=Object(b.a)(Ne,2),ke=we[0],Me=we[1],Ie=Object(n.useState)([]),Ee=Object(b.a)(Ie,2),Re=Ee[0],Ye=Ee[1],Be=Object(n.useState)(),Pe=Object(b.a)(Be,2),ze=Pe[0],Fe=Pe[1],Le=Object(n.useState)([]),Qe=Object(b.a)(Le,2),Ve=Qe[0],Ge=Qe[1],We=Object(n.useState)(m),Ue=Object(b.a)(We,2),He=Ue[0],qe=Ue[1],Je=Object(n.useState)([]),Ke=Object(b.a)(Je,2),Ze=Ke[0],Xe=Ke[1],$e=Object(n.useState)([]),et=Object(b.a)($e,2),tt=(et[0],et[1]),at=Object(n.useState)([]),nt=Object(b.a)(at,2),it=(nt[0],nt[1]),ct=Object(n.useState)([]),lt=Object(b.a)(ct,2),ot=(lt[0],lt[1]),st=Object(n.useState)([]),rt=Object(b.a)(st,2),dt=(rt[0],rt[1]);Object(n.useEffect)((function(){qe(m)}),[m]),Object(n.useEffect)((function(){Ge(j),_e(j)}),[j]),Object(n.useEffect)((function(){A!==[]&&(Xe(te),p(te||[]))}),[A!==[]]),Object(n.useEffect)((function(){tt(C),Fe(C)}),[C]),Object(n.useEffect)((function(){var e=[];O.forEach((function(t){e.push(t)})),ye(e),Me(e)}),[O]),Object(n.useEffect)((function(){it(f),Ye(f)}),[f]),Object(n.useEffect)((function(){le(_),de(N),dt(N),ot(_)}),[_,N]),Object(n.useEffect)((function(){var e;(null===(e=Object.keys(null===o||void 0===o?void 0:o.cities))||void 0===e?void 0:e.length)>0&&Y(null===o||void 0===o?void 0:o.cities)}),[null===o||void 0===o?void 0:o.cities]),Object(n.useEffect)((function(){var e,t,a;(null===o||void 0===o||null===(e=o.filters)||void 0===e||null===(t=e.content_partner)||void 0===t?void 0:t.length)>0&&(console.log({dataDisplay:o}),Q(null===o||void 0===o||null===(a=o.filters)||void 0===a?void 0:a.content_partner))}),[null===o||void 0===o||null===(t=o.filters)||void 0===t?void 0:t.content_partner]),Object(n.useEffect)((function(){var e,t,a;null!==o&&void 0!==o&&null!==(e=o.filters)&&void 0!==e&&e.error_codes&&(H(null===o||void 0===o||null===(t=o.filters)||void 0===t?void 0:t.error_codes),console.log({first:null===o||void 0===o||null===(a=o.filters)||void 0===a?void 0:a.error_code,str:"from error"}))}),[null===o||void 0===o||null===(a=o.filters)||void 0===a?void 0:a.error_codes]);var jt=function(e){var t=He,a=e.target.value;if(-1===t.indexOf(a)){var n=t.concat(a);qe(n)}else{var i=t.filter((function(e){return e!==a}));qe(i)}};return Object(ee.jsxs)("div",{className:"FilterContainer",children:[Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(I.a,{}),onClick:function(){return Z(!0)}}),Object(ee.jsxs)(S.a,{open:K,onClose:function(){qe(m),Z(!1)},anchor:"right",children:[Object(ee.jsxs)("div",{className:"rightSidebar",style:{height:"90%",overflowY:"auto"},children:[Object(ee.jsxs)("div",{className:"SideBarHeader",style:{marginBottom:"-30px"},children:[Object(ee.jsx)("h3",{children:"FILTER"}),Object(ee.jsxs)(D.a,{onClick:function(){return Z(!1)},children:[" ",Object(ee.jsx)(W.a,{})]})]}),Object(ee.jsxs)(ue.a,{dense:!0,className:"filtersCont",children:[Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Device (Multiple Selection)"}),Object(ee.jsx)("div",{className:"filter-wrap",children:(null===o||void 0===o?void 0:o.device_platform)&&(null===o||void 0===o||null===(i=o.device_platform)||void 0===i?void 0:i.length)>0&&(null===o||void 0===o||null===(c=o.device_platform)||void 0===c?void 0:c.map((function(e){return Object(ee.jsx)(E.a,{className:He.indexOf(e)>=0?"Filter-active":"Filter-inactive",variant:"outlined",size:"small",value:e,onClick:jt,children:e},e)})))})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Content Partner"}),Object(ee.jsx)(je.a,{listName:L,getContentPartner:s,saveContentPartnerData:_e,checkedItemsContentPartner:localStorage.getItem("contentPartner")?Ve.concat(localStorage.getItem("contentPartner")):Ve})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Location"}),Object(ee.jsx)(be.a,{listName:R,getLocation:r,saveLocationData:Me,checkedItemsLocation:Ae})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Error Code"}),Object(ee.jsx)(pt.a,{listName:Object.keys(U||{}),getErrorCode:p,saveErrorCodeData:ae,checkedItemsErrorCode:Ze})]}),Object(ee.jsxs)(Oe.a,{style:{display:"block",marginTop:"10px"},children:[Object(ee.jsx)("h3",{style:{fontSize:"15px",color:"#404040"},children:"Error count"}),Object(ee.jsx)(At,{errorCountData:ce,errorCountSignData:re,saveErrorCountData:le,saveErrorCountSignData:de})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Error Name"}),Object(ee.jsx)(Te.a,{sx:{width:"220px",margin:"0 0 15px 15px"},elevation:3,children:Object(ee.jsx)("input",{type:"text",value:fe,onChange:function(e){xe(e.target.value),Fe(e.target.value)},className:"filterSearch",placeholder:"Enter Error Name"})})]}),Object(ee.jsxs)(Oe.a,{children:[Object(ee.jsx)("h3",{children:"Video ID"}),Object(ee.jsx)(me.a,{videoIdData:Re,saveVideoIdData:Ye})]})]})]}),Object(ee.jsxs)("div",{className:"rightSidebar",children:[Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){_e([]),Ye([]),Me([]),ye([]),Ge([]),ae([]),Xe([]),Fe([]),xe([]),de(""),le("")},children:"Clear All"}),Object(ee.jsx)(E.a,{variant:"contained",size:"small",className:"btnFilterApply",onClick:function(){s(Ce),Ge(Ce),r(ke),ye(ke),x(Re),y(ze),w(ce),k(re),it(Re),tt(ze),Z(!1),d(He),A!==[]&&(Xe(te),p(te||[]))},children:"Apply"})]})]})]})}var At=function(e){console.log(e,"ppp");var t=e.saveErrorCountData,a=e.saveErrorCountSignData,i=e.errorCountData,c=e.errorCountSignData,l=Object(n.useState)(""),o=Object(b.a)(l,2),r=o[0],d=o[1],j=Object(n.useState)(""),u=Object(b.a)(j,2),O=u[0],h=u[1];return Object(n.useEffect)((function(){0==i.length&&(t(""),h("")),0==c.length&&(a(""),d(""))}),[i,c]),Object(ee.jsxs)(s.a,{container:!0,spacing:2,children:[Object(ee.jsx)(s.a,{item:!0,xs:6,md:6,children:Object(ee.jsx)(_.a,{fullWidth:!0,children:Object(ee.jsxs)(N.a,{value:r,labelId:"demo-simple-select-label",id:"demo-simple-select",variant:"outlined",style:{height:"40px"},onChange:function(e){d(e.target.value),a(e.target.value)},children:[Object(ee.jsx)(g.a,{value:"_gte",children:">="},">="),Object(ee.jsx)(g.a,{value:"_lte",children:"<="},"<="),Object(ee.jsx)(g.a,{value:"_gt",children:">"},">"),Object(ee.jsxs)(g.a,{value:"_lt",children:[" ","<"]},"<"),Object(ee.jsx)(g.a,{value:"_eq",children:"="},"==")]})})}),Object(ee.jsx)(s.a,{item:!0,xs:6,md:6,children:Object(ee.jsx)(Ae.a,{value:O,id:"outlined-basic",label:"",variant:"outlined",size:"small",type:"number",style:{background:"#f7f7f7",border:"1",borderRadius:"4px",width:"100%"},onChange:function(e){h(e.target.value),t(e.target.value)}})})]})},yt=function(){var e,t,a,l,s,r,d,y,D,C,M,I,R=Object(z.c)(),Y=Object(z.d)((function(e){return e.qoeReducer})),B=(null===Y||void 0===Y||null===(e=Y.filters)||void 0===e||e.cdn,null===Y||void 0===Y||null===(t=Y.filters)||void 0===t||t.content_type,null===Y||void 0===Y||null===(a=Y.filters)||void 0===a?void 0:a.content_partner),F=null===Y||void 0===Y||null===(l=Y.filters)||void 0===l?void 0:l.location,W=null===Y||void 0===Y||null===(s=Y.filters)||void 0===s?void 0:s.error_codes,X=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),$=Object(b.a)(X,2),te=$[0],ne=$[1],le=Object(n.useState)(Math.floor((new Date).getTime()/1e3)),oe=Object(b.a)(le,2),re=oe[0],je=oe[1],be=Object(n.useState)(Math.floor((new Date).getTime()/1e3)-86400),ue=Object(b.a)(be,2),Oe=ue[0],he=ue[1],me=Object(n.useState)("24hr"),ve=Object(b.a)(me,2),fe=(ve[0],ve[1]),xe=Object(n.useState)([null,null]),pe=Object(b.a)(xe,2),ge=(pe[0],pe[1],Object(n.useState)(!1)),Ae=Object(b.a)(ge,2),ye=Ae[0],Se=Ae[1],De=Object(n.useState)(!1),Ce=Object(b.a)(De,2),_e=Ce[0],Ne=Ce[1],we=Object(n.useState)(-1),ke=Object(b.a)(we,2),Te=ke[0],Me=ke[1],Ie=Object(n.useState)(-1),Ee=Object(b.a)(Ie,2),Re=(Ee[0],Ee[1],Object(n.useState)(!1)),Ye=Object(b.a)(Re,2),Be=Ye[0],Pe=Ye[1],ze=Object(n.useState)(!1),Fe=Object(b.a)(ze,2),Le=Fe[0],Qe=Fe[1],Ve=Object(n.useState)(!1),Ge=Object(b.a)(Ve,2),We=(Ge[0],Ge[1],Object(n.useState)("1d")),Ue=Object(b.a)(We,2),He=Ue[0],qe=Ue[1],Je=Object(n.useState)("1d"),Ke=Object(b.a)(Je,2),Ze=Ke[0],Xe=Ke[1],$e=Object(n.useState)(!1),et=Object(b.a)($e,2),tt=(et[0],et[1],Object(n.useState)([])),at=Object(b.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)(),lt=Object(b.a)(ct,2),ot=lt[0],st=lt[1],rt=new FileReader,dt=Object(n.useState)("0,3"),jt=Object(b.a)(dt,2),bt=jt[0],ut=jt[1],Ot=Object(n.useState)([]),ht=Object(b.a)(Ot,2),mt=ht[0],vt=ht[1],ft=Object(n.useState)([]),xt=Object(b.a)(ft,2),pt=xt[0],At=xt[1],yt=Object(n.useState)(!1),St=Object(b.a)(yt,2),Dt=St[0],Ct=St[1],_t=Object(n.useState)([]),Nt=Object(b.a)(_t,2),wt=(Nt[0],Nt[1],Object(n.useState)(!1)),kt=Object(b.a)(wt,2),Tt=(kt[0],kt[1],i.a.useState(0)),Mt=Object(b.a)(Tt,2),It=Mt[0],Et=Mt[1],Rt=i.a.useState(10),Yt=Object(b.a)(Rt,2),Bt=Yt[0],Pt=Yt[1],zt=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"},{startSessionDate:new Date,endSessionDate:new Date,key:"sessionSelection"}]),Ft=Object(b.a)(zt,2),Lt=Ft[0],Qt=Ft[1],Vt=Object(n.useState)(!1),Gt=Object(b.a)(Vt,2),Wt=Gt[0],Ut=Gt[1],Ht=Object(n.useState)(),qt=Object(b.a)(Ht,2),Jt=qt[0],Kt=qt[1],Zt=Object(n.useState)(),Xt=Object(b.a)(Zt,2),$t=Xt[0],ea=Xt[1],ta=Object(n.useState)(),aa=Object(b.a)(ta,2),na=(aa[0],aa[1]),ia=Object(n.useState)(),ca=Object(b.a)(ia,2),la=ca[0],oa=ca[1],sa=Object(n.useState)([]),ra=Object(b.a)(sa,2),da=(ra[0],ra[1],Object(n.useState)([])),ja=Object(b.a)(da,2),ba=ja[0],ua=(ja[1],Object(n.useState)([])),Oa=Object(b.a)(ua,2),ha=Oa[0],ma=Oa[1],va=Object(n.useState)([]),fa=Object(b.a)(va,2),xa=fa[0],pa=fa[1],ga=Object(n.useState)([]),Aa=Object(b.a)(ga,2),ya=Aa[0],Sa=Aa[1],Da=Object(n.useState)([]),Ca=Object(b.a)(Da,2),_a=Ca[0],Na=(Ca[1],Object(n.useState)([])),wa=Object(b.a)(Na,2),ka=wa[0],Ta=wa[1],Ma=Object(n.useState)([]),Ia=Object(b.a)(Ma,2),Ea=(Ia[0],Ia[1],Object(n.useState)([])),Ra=Object(b.a)(Ea,2),Ya=(Ra[0],Ra[1],Object(n.useState)([])),Ba=Object(b.a)(Ya,2),Pa=(Ba[0],Ba[1],Object(n.useState)([])),za=Object(b.a)(Pa,2),Fa=(za[0],za[1],Object(n.useState)([])),La=Object(b.a)(Fa,2),Qa=(La[0],La[1],Object(n.useState)([])),Va=Object(b.a)(Qa,2),Ga=(Va[0],Va[1],Object(n.useState)("1h")),Wa=Object(b.a)(Ga,2),Ua=(Wa[0],Wa[1],Object(n.useState)(["Android","iOS","Web","Firestick"])),Ha=Object(b.a)(Ua,2),qa=Ha[0],Ja=Ha[1],Ka=Object(n.useState)(),Za=Object(b.a)(Ka,2),Xa=Za[0],$a=Za[1],en=Object(n.useState)(""),tn=Object(b.a)(en,2),an=tn[0],nn=tn[1],cn=Object(n.useState)([]),ln=Object(b.a)(cn,2),on=ln[0],sn=ln[1],rn=Object(n.useState)(""),dn=Object(b.a)(rn,2),jn=dn[0],bn=dn[1],un=Object(n.useState)(!1),On=Object(b.a)(un,2),hn=On[0],mn=On[1],vn=Object(n.useState)(!1),fn=Object(b.a)(vn,2),xn=(fn[0],fn[1],Object(n.useState)(!1)),pn=Object(b.a)(xn,2),gn=pn[0],An=pn[1],yn=Object(n.useState)(!1),Sn=Object(b.a)(yn,2),Dn=Sn[0],Cn=Sn[1];Object(n.useEffect)((function(){var e,t="labeled_data_playback_"+L()(Math.floor(1e3*new Date(te).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(re).getTime())).format("DD/MM/YYYY"),a=V.a.types.csv;if(null!==Y&&void 0!==Y&&Y.labeledCSVRecord&&Dn)if(console.log("alabeled data--",Y),(null===Y||void 0===Y||null===(e=Y.labeledCSVRecord)||void 0===e?void 0:e.Items.length)>0){var n,i;i=null===Y||void 0===Y||null===(n=Y.labeledCSVRecord)||void 0===n?void 0:n.Items.map((function(e){var t=L()(Math.floor(new Date(e.dts))).format("DD/MM/YYYY hh:mm a");return delete e.dts,e.Date_Time="  "+t.toString(),e})),Object(V.a)({data:i,fileName:t,exportType:a}),Cn(!1)}else Cn(!1),G.NotificationManager.error("Data not found !!","",2e3)}),[null===Y||void 0===Y?void 0:Y.labeledCSVRecord]);Object(n.useEffect)((function(){0===Object.keys(null===Y||void 0===Y?void 0:Y.filters).length&&R(Object(P.Lb)(R))}),[]);var _n=function(e){var t=e;Ct(!1);var a=new Date(t.dts).getTime();t.dts=a,t.error_count=0,t.errorname="";var n=mt.indexOf(t),i=Object(j.a)(mt);-1===n?i.push(t):i.splice(n,1),vt(i),At(i)},Nn=function(e){if(e.length>0){vt(e);var t=[];e.map((function(e){e.is_approved=0,e.errorname="",delete e.anomaly_description,t.push(e)})),At(t),console.log("nonAnomaly--",t)}},wn=function(e){var t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n"),n=[];if(1==a.length&&a.map((function(e){""==e?(a=[],An(!0)):An(!1)})),a.length>0){var i=a.map((function(e){var i=e.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/),c=t.reduce((function(e,t,c){return a[c]&&n.push(a[c].split(",")),e[t.trim()]=i[c],e}),{});if(c.error_count="null"==c.error_count?0:parseInt(c.error_count),delete c.manufacturer,delete c.networktype,delete c.live,delete c.drm,delete c.has,delete c.device_id,delete c.sessionid,delete c.m_rebuffering_ratio,delete c.m_bandwidth,delete c.m_video_start_time,c.errorname="",c.content_partner="",null!==c&&void 0!==c&&c.is_approved&&(c.is_approved="0\r"==c.is_approved||"null"==c.is_approved||void 0==c.is_approved?parseInt(0):parseInt(1)),null!==c&&void 0!==c&&c.Date_Time){var l=L()(c.Date_Time,"DD-MM-YYYY hh:mm").format("MM/DD/YYYY HH:MM"),o=Math.floor(L()(l).endOf("date")._d.getTime());c.dts=o,delete c.Date_Time}return c}));it(i)}else setTimeout((function(){G.NotificationManager.error("No Record Found","",2e3)}),2e3)};Object(n.useEffect)((function(){Se(!0);var e={videoId:ka,deviceId:_a,contentPartner:ha,location:xa,devicePlatform:qa,errorCount:an,errorName:on,errorCode:ya,errorCountSign:jn,anamolyScore:bt},t=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);je(t),R(Object(P.u)(R,t,te,bt,Bt,"",e)),setTimeout((function(){Se(!1)}),6e3)}),[te,$t,bt,ka,ya,an,on,ha,xa,qa,jn]);var kn=function(e,t,a){var n={videoId:ka,contentPartner:ha,contentType:ba,location:xa,devicePlatform:qa,errorCode:ya,errorCount:an,errorName:on,errorCountSign:jn},i={};if((null===n||void 0===n?void 0:n.contentPartner.length)>0&&(i.content_partner=["_in",n.contentPartner]),(null===n||void 0===n?void 0:n.devicePlatform.length)>0&&(i.device_platform=["_in",n.devicePlatform]),(null===n||void 0===n?void 0:n.location.length)>0){var l=[];n.location.map((function(e){l.push(e.split("(")[0])})),i.location_city=["_in",l]}(null===n||void 0===n?void 0:n.errorCode.length)>0&&(i.errorcode=["_in",n.errorCode]);var o=a.replace(/"/g,"").split(",");i.ANOMALY_SCORE=["_range",[parseInt(o[0]),parseInt(o[1])]],Object.values(n.videoId).length>0&&(i.videoid=["_eq",n.videoId]),Object.values(null===n||void 0===n?void 0:n.errorCount).length>0&&Object.values(null===n||void 0===n?void 0:n.errorCountSign).length>0&&(i.error_count=[n.errorCountSign,[n.errorCount]]),Object.values(null===n||void 0===n?void 0:n.errorName).length>0&&(i.errorname=["_in",[n.errorName]]);var s={filters:i};return fetch("http://3.6.164.157:8084/api/GetDetailedPlaybackRecords?to_time=".concat(e,"&from_time=").concat(t),{method:"POST",headers:Object(c.a)({"Content-Type":"application/json"},{contentType:"application/json"}),body:JSON.stringify(s)}).then((function(e){return e.json()}))},Tn=function(e,t,a){var n=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);$a(t),Me(e===Te?-1:e),mn(!0),R(Object(P.Kd)([])),a&&R(Object(P.Eb)(R,t,bt,n,te)),setTimeout((function(){mn(!1)}),12e3)},Mn=function(e,t){e&&(G.NotificationManager.success("".concat(e," copied"),"",200),ie()(t))};Object(n.useEffect)((function(){var e={videoId:ka,contentPartner:ha,contentType:ba,location:xa,devicePlatform:qa,errorCode:ya,errorCount:an,errorName:on,errorCountSign:jn,anamolyScore:bt},t=la?Math.floor(L()(Lt[1].endSessionDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);R(Object(P.Eb)(R,Xa,bt,t,Oe,e)),setTimeout((function(){Se(!1)}),[3e3])}),[Oe,bt,ka,ha,xa,qa,an,ya,on,jn]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"cta-btn",children:[null!==Y&&void 0!==Y&&null!==(r=Y.anomaliesPlayBlackFailure)&&void 0!==r&&r.data&&null!==Y&&void 0!==Y&&null!==(d=Y.anomaliesPlayBlackFailure)&&void 0!==d&&d.data.length?Object(ee.jsx)("div",{className:"top-left-nav",children:Object(ee.jsxs)(p.a,{variant:"h5",style:{fontSize:"1.2rem",paddingLeft:"13px"},children:["Playblack Failure (",null===Y||void 0===Y||null===(y=Y.anomaliesPlayBlackFailure)||void 0===y?void 0:y.data.length,")"]})}):null,Object(ee.jsxs)("div",{className:"status-report",children:[Object(ee.jsx)("div",{className:"interval-spase",children:Object(ee.jsxs)(_.a,{className:"intervalSelect-eds ",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Anomaly Score Range"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:bt,label:"Interval",onChange:function(e){ea(),Kt(),ut(e.target.value)},className:"interSelect",children:[Object(ee.jsx)(g.a,{value:"0,3",children:"0-3"}),Object(ee.jsx)(g.a,{value:"4,6",children:"4-6"}),Object(ee.jsx)(g.a,{value:"7,8",children:"7-8"}),Object(ee.jsx)(g.a,{value:"8-10",children:"8-10"}),Object(ee.jsx)(g.a,{value:"10,12",children:"10-12"})]})]})}),Object(ee.jsxs)(_.a,{className:"intervalSelect-eds",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Session Interval"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:Ze,label:"Interval",onChange:function(e){oa(),na(),fe(""),he(),Xe(e.target.value);var t=Math.floor((new Date).getTime()/1e3);switch(e.target.value){case"1h":return void he(t-3600);case"1d":return void he(t-86400);case"1w":return void he(t-604800);case"1m":return void he(t-2592e3);default:return}},className:"interval-spase anomalyScorefilter",children:[Object(ee.jsx)(g.a,{value:"1h",children:"1 Hour"}),Object(ee.jsx)(g.a,{value:"1d",children:"Day"}),Object(ee.jsx)(g.a,{value:"1w",children:"Week"}),Object(ee.jsx)(g.a,{value:"1m",children:"Month"})]})]}),Object(ee.jsxs)(_.a,{className:"intervalSelect-eds",children:[Object(ee.jsx)(se.a,{className:"intervalSelectSub",id:"intervalSelect",children:"Anomaly Date"}),Object(ee.jsxs)(N.a,{labelId:"intervalSelect",id:"demo-simple-select",value:He,label:"Interval",onChange:function(e){ne(),ea(),Kt(),qe(e.target.value);var t=Math.floor(L()().endOf("date")._d.getTime()/1e3);switch(e.target.value){case"1h":return void ne(t-3600);case"1d":return void ne(t-86400);case"1w":return void ne(t-604800);case"1m":return void ne(t-2592e3);default:return}},className:"interval-spase anomalyScorefilter",children:[Object(ee.jsx)(g.a,{value:"1d",children:"Day"}),Object(ee.jsx)(g.a,{value:"1w",children:"Week"}),Object(ee.jsx)(g.a,{value:"1m",children:"Month"})]})]}),Object(ee.jsxs)("div",{className:"dateCountcustom",children:[Object(ee.jsxs)("div",{className:"row eds-dateCont",children:[Object(ee.jsx)("span",{children:"Custom Date"}),Object(ee.jsx)(T.a,{onClick:function(){return Ut(!0)},contentEditable:!1,value:Jt?L()(Jt).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"}),Object(ee.jsxs)(o.a,{className:"to",sx:{mx:2},children:[" ","to"," "]}),Object(ee.jsx)(T.a,{onClick:function(){return Ut(!0)},contentEditable:!1,value:$t?L()($t).format("DD/MM/YYYY"):"",placeholder:"dd-mm-yyyy"})]}),Object(ee.jsxs)(H.a,{isOpen:Wt,toggle:function(){return Ut(!1)},centered:!0,children:[Object(ee.jsx)(q.a,{children:Object(ee.jsx)("h3",{children:"Date Picker"})}),Object(ee.jsx)(J.a,{children:Object(ee.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(ee.jsx)(Z.DateRange,{onChange:function(e){return Qt([e.selection])},ranges:Lt,editableDateInputs:!0,moveRangeOnFirstSelection:!1,maxDate:new Date})})}),Object(ee.jsx)(K.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(E.a,{onClick:function(){return Ut(!1)},variant:"contained",className:"btn-danger text-white bg-danger",children:"Cancel"}),Object(ee.jsx)(E.a,{onClick:function(){qe(""),Xe(""),Kt(Lt[0].startDate),ea(Lt[0].endDate),Ut(!1),je(Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3)),ne(Math.floor(L()(Lt[0].startDate).endOf("date")._d.getTime()/1e3)-86400)},variant:"contained",color:"primary",className:"text-white bg-primary",style:{marginLeft:10},children:"Submit"})]})})]})]}),Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#e20092"},onClick:function(){Ne(!0);var e=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);je(e);var t="playback_failure_anomalies_"+L()(Math.floor(1e3*new Date(te).getTime())).format("DD/MM/YYYY")+"-"+L()(Math.floor(1e3*new Date(re).getTime())).format("DD/MM/YYYY"),a=V.a.types.csv;kn(e,te,bt).then((function(e){if((null===e||void 0===e?void 0:e.Items.length)>0){var n;n=null===e||void 0===e?void 0:e.Items.map((function(e){var t=L()(Math.floor(new Date(e.dts))).format("DD/MM/YYYY hh:mm a");return console.log("  "+t.toString(),"fullDate1"),delete e.dts,e.Date_Time="  "+t.toString(),e})),Object(V.a)({data:n,fileName:t,exportType:a})}else G.NotificationManager.error("Data not found !!","",2e3);Ne(!1)})).catch((function(){Ne(!1)}))},children:[" ",Object(ee.jsx)(u.a,{title:"Download Anomaly Data Not Labeled",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-download"})})]}),Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"19px",color:"#e20092"},onClick:function(){Object(ce.h)("WRITE_DETECTED_ANOMALIES")?(console.log("call"),it([]),Pe(!0)):G.NotificationManager.error(ce.a.message)},children:[" ",Object(ee.jsx)(u.a,{title:"Upload CSV File",arrow:!0,children:Object(ee.jsx)("i",{className:"zmdi zmdi-upload"})})]}),Object(ee.jsx)(u.a,{title:"Download Anomaly Labeled Data",arrow:!0,children:Object(ee.jsxs)(k.a,{className:"Status-btn",style:{fontSize:"13px",color:"#e20092"},onClick:function(){Ne(!0),Cn(!0);var e=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);R(Object(P.fb)(R,e,te,{anomaly_type:"playback"})),setTimeout((function(){Ne(!1)}),7e3)},children:["Labeled ",Object(ee.jsx)("i",{style:{margin:"0 0 0 7px"},className:"zmdi zmdi-download"})]})}),Object(ee.jsx)(E.a,{variant:"contained",className:"btnFilter",size:"small",endIcon:Object(ee.jsx)(gt,{getContentPartner:function(e){ma(e)},getLocation:function(e){pa(e)},getVideoId:function(e){Ta(e)},contentPartnetVal:B,locationVal:F,errorCodeVal:W,devicePlatform:qa,contentPartner:ha,location:xa,videoId:ka,errorCountSign:jn,savePlatformData:function(e){Ja(e)},getErrorCount:function(e){nn(e)},getErrorNameData:function(e){sn(e)},getErrorCountSign:function(e){bn(e)},errorCount:an,errorName:on,getErrorCode:function(e){Sa(e)},errorCode:W})})]})]}),_e?Object(ee.jsx)("div",{style:{height:"100vh",width:"100vw",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(0, 0, 0,0.3)",zIndex:5},children:Object(ee.jsx)(Q.a,{})}):"",ye?Object(ee.jsx)("div",{style:{height:"250px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ee.jsx)(Q.a,{})}):Object(ee.jsxs)(ee.Fragment,{children:[null!==Y&&void 0!==Y&&null!==(D=Y.anomaliesPlayBlackFailure)&&void 0!==D&&D.data&&(null===Y||void 0===Y||null===(C=Y.anomaliesPlayBlackFailure)||void 0===C?void 0:C.data.length)>0?Object(ee.jsxs)("div",{className:"full-table",style:{marginTop:"10px"},children:[Object(ee.jsx)(O.a,{children:Object(ee.jsxs)(h.a,{sx:{minWidth:650},children:[Object(ee.jsx)(m.a,{style:{marginTop:"10px"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{}),Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Error Count"}),Object(ee.jsx)(f.a,{children:"Error Name"}),Object(ee.jsx)(f.a,{children:"Error Code"}),Object(ee.jsx)(f.a,{children:"Anomaly Description"}),Object(ee.jsxs)(f.a,{children:["Anomaly Explanation",Object(ee.jsx)(u.a,{title:"Attribution score: A nonnegative number that indicates how much this column has contributed to the anomaly score of the record. In other words, it indicates how different the value of this column is from what\u2019s expected based on the recently observed trend. The sum of the attribution scores of all columns for the record is equal to the anomaly score.\r Strength: A nonnegative number representing the strength of the directional recommendation. A high value for strength indicates a high confidence in the directionality that is returned by the function. During the learning phase, the strength is 0.\r Directionality: This is either HIGH if the value of the column is above the recently observed trend or LOW if it\u2019s below the trend. During the learning phase, this defaults to LOW.",arrow:!0,children:Object(ee.jsx)(de.a,{})})]}),Object(ee.jsx)(f.a,{})]})}),null===Y||void 0===Y||null===(M=Y.anomaliesPlayBlackFailure)||void 0===M?void 0:M.data.slice(It*Bt,It*Bt+Bt).map((function(e,t){var a,n,i,c=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(v.a,{sx:{border:0},children:[Object(ee.jsx)(f.a,{children:t===Te?Object(ee.jsx)("i",{onClick:function(){mn(!1),Tn(t,null===e||void 0===e?void 0:e.device_id,!1)},style:{cursor:"pointer",fontSize:"24px"},className:"zmdi zmdi-minus-circle"}):Object(ee.jsx)("i",{style:{cursor:"pointer",fontSize:"24px"},onClick:function(){mn(!0),Tn(t,null===e||void 0===e?void 0:e.videoid,!0)},className:"zmdi zmdi-plus-circle"})}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly ID",null===e||void 0===e?void 0:e.ANOMALY_ID)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ",null===e||void 0===e?void 0:e.ANOMALY_ID]})]}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.ANOMALY_SCORE}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.Anomaly_Type}),Object(ee.jsx)(f.a,{children:L()(c/1e3).format("DD-MM-YYYY")+" | "+L()(c/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.error_count}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.errorname?null===e||void 0===e?void 0:e.errorname:"--"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.errorcode}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly Description",null===e||void 0===e?void 0:e.anomaly_description)},children:[" ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)&&Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)?null===e||void 0===e?void 0:e.anomaly_description:"N/A"]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly Explanation",null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{"font-size":"1.2rem"}})," ",null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return _n(e)},edge:"start",checked:-1!==mt.indexOf(e)})})]}),Object(ee.jsx)(v.a,{children:Object(ee.jsx)(f.a,{style:{paddingBottom:0,paddingTop:0},colSpan:15,children:Object(ee.jsx)(A.a,{in:Te===t,timeout:"auto",unmountOnExit:!0,children:Object(ee.jsx)(o.a,{sx:{margin:1},children:Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{children:Object(ee.jsxs)(v.a,{children:[Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Error Count"}),Object(ee.jsx)(f.a,{children:"Error Name"}),Object(ee.jsx)(f.a,{children:"Error Code"}),Object(ee.jsx)(f.a,{children:"Anomaly Description"}),Object(ee.jsxs)(f.a,{children:["Anomaly Explanation"," "]}),Object(ee.jsx)(f.a,{})]})}),null!==Y&&void 0!==Y&&null!==(a=Y.anomaliesPlayBlackFailureByVid)&&void 0!==a&&a.Items&&(null===Y||void 0===Y||null===(n=Y.anomaliesPlayBlackFailureByVid)||void 0===n?void 0:n.Items.length)>0?null===Y||void 0===Y||null===(i=Y.anomaliesPlayBlackFailureByVid)||void 0===i?void 0:i.Items.map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(v.a,{style:{backgroundColor:"#ffffff",borderBottom:"0px"},children:[Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly ID",null===e||void 0===e?void 0:e.anomaly_id)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{"font-size":"1.2rem"}})," ",null===e||void 0===e?void 0:e.anomaly_id]})]}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.anomaly_score}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.anomaly_type}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.error_count}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.errorname?null===e||void 0===e?void 0:e.errorname:"--"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.errorcode}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly Description",null===e||void 0===e?void 0:e.anomaly_description)},children:[" ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)&&Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{fontSize:"1.2rem"}})," ","-"!==(null===e||void 0===e?void 0:e.anomaly_description)?null===e||void 0===e?void 0:e.anomaly_description:"N/A"]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",onClick:function(){return Mn("Anomaly Explanation",null===e||void 0===e?void 0:e.anomaly_explanation)},children:[" ",Object(ee.jsx)("span",{className:"zmdi zmdi-copy",style:{"font-size":"1.2rem"}})," ",null===e||void 0===e?void 0:e.anomaly_explanation]})}),Object(ee.jsx)(f.a,{children:Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return _n(e)},edge:"start",checked:-1!==mt.indexOf(e)})})]},t)})})):hn?Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})}):"Record Not Found"]})})})})})]})}))]})}),Object(ee.jsx)(x.a,{rowsPerPageOptions:[10,20,50,100],component:"div",count:null===Y||void 0===Y||null===(I=Y.anomaliesPlayBlackFailure)||void 0===I?void 0:I.size,rowsPerPage:Bt,page:It,onPageChange:function(e,t){console.log("handleChangePage---abc--",t,null===Y||void 0===Y?void 0:Y.anomaliesDetect);var a,n,i=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);t>It&&R(Object(P.u)(R,i,te,bt,It,null!==Y&&void 0!==Y&&null!==(a=Y.anomaliesPlayBlackFailure)&&void 0!==a&&a.next_iteration_id?null===Y||void 0===Y||null===(n=Y.anomaliesPlayBlackFailure)||void 0===n?void 0:n.next_iteration_id:""));Et(t),setTimeout((function(){}),6e3)},onRowsPerPageChange:function(e){Pt(parseInt(e.target.value,10)),Et(0)},className:"paginationstyle"}),Object(ee.jsxs)("div",{className:"apply-container",children:[Object(ee.jsx)(w.a,{disabled:!Object(ce.h)("WRITE_DETECTED_ANOMALIES"),onChange:function(){return function(){Ct(!Dt);var e,t,a=[];Dt?Dt&&(vt([]),At([])):(null===Y||void 0===Y||null===(e=Y.anomaliesPlayBlackFailure)||void 0===e||e.data.map((function(e){a.push(e)})),vt(null===Y||void 0===Y||null===(t=Y.anomaliesPlayBlackFailure)||void 0===t?void 0:t.data),At(a))}()},checked:Dt}),Object(ee.jsx)(k.a,{className:"apply-filter-btn",children:" Select All "}),Object(ee.jsxs)("div",{className:"right-aligne-button",children:[Object(ee.jsx)(k.a,{className:"apply-filter-btn",onClick:function(){mt.length>0?(Qe(!0),Nn(mt),Dt&&Ct(!1)):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},children:"Reject"}),Object(ee.jsx)(k.a,{onClick:function(){pt.length>0?(Qe(!0),At(function(){if(pt.length>0){var e=[];return pt.map((function(t){if(t.is_approved=1,t.errorname="",delete t.approved,delete t.anomaly_description,Dt){var a=new Date(t.dts).getTime();t.dts=a}e.push(t)})),e}}())):G.NotificationManager.error("Please select anomaly to reject or approve ","",2e3)},className:"apply-btn",style:{fontSize:"0.875rem",color:"#008eff",width:"100px",height:"28px",fontWeight:"600"},children:"Approve"})]})]})]}):Object(ee.jsxs)("h2",{style:{textAlign:"center",marginLeft:"112px",marginTop:"113px"},children:[" ","No Records Found"]}),Object(ee.jsxs)(S.a,{anchor:"bottom",open:Le,onClose:function(){return Qe(!1)},className:"drawer-mitigation",children:[Object(ee.jsxs)("div",{className:"drawer-header",children:[Object(ee.jsxs)("span",{children:[" ",Object(ee.jsx)("i",{onClick:function(){return Qe(!1)},className:"zmdi zmdi-arrow-left"})," ","Preview Data (",null===pt||void 0===pt?void 0:pt.length,")"]}),Object(ee.jsx)("i",{onClick:function(){vt([]),At([]),Qe(!1),Dt&&Ct(!1)},className:"zmdi zmdi-close"})]}),Object(ee.jsxs)(h.a,{children:[Object(ee.jsx)(m.a,{style:{backgroundColor:"#ffffff",borderBottom:"#ffffff"},children:Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:"Video ID"}),Object(ee.jsx)(f.a,{children:"Anomaly ID"}),Object(ee.jsx)(f.a,{children:"Anomaly Score"}),Object(ee.jsx)(f.a,{children:"Anomaly Type"}),Object(ee.jsx)(f.a,{children:"Date/Time"}),Object(ee.jsx)(f.a,{children:"Approval"}),Object(ee.jsx)(f.a,{children:"Location City"}),Object(ee.jsx)(f.a,{children:"Content Partner"}),Object(ee.jsx)(f.a,{children:"Platform"}),Object(ee.jsx)(f.a,{children:"Error Count"}),Object(ee.jsx)(f.a,{children:"Error Name"}),Object(ee.jsx)(f.a,{children:"Error Code"}),Object(ee.jsx)(f.a,{children:"Anomaly Explanation "})]})}),console.log("checkids--",pt),pt.length>0?pt.map((function(e,t){var a=Math.floor(1e3*new Date(null===e||void 0===e?void 0:e.dts).getTime());return Object(ee.jsxs)(v.a,{style:{borderBottom:"1px solid white",color:"rgb(151 151 151 / 87%)"},sx:{border:0},children:[Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.videoid}),Object(ee.jsxs)(f.a,{children:[" ",Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",(null===e||void 0===e?void 0:e.ANOMALY_ID)||(null===e||void 0===e?void 0:e.anomaly_id)]})]}),Object(ee.jsx)(f.a,{children:(null===e||void 0===e?void 0:e.ANOMALY_SCORE)||(null===e||void 0===e?void 0:e.anomaly_score)}),Object(ee.jsx)(f.a,{children:(null===e||void 0===e?void 0:e.Anomaly_Type)||(null===e||void 0===e?void 0:e.anomaly_type)}),Object(ee.jsx)(f.a,{children:L()(a/1e3).format("DD-MM-YYYY")+" | "+L()(a/1e3).utcOffset(330).format("hh:mm:a")}),Object(ee.jsx)(f.a,{children:0==(null===e||void 0===e?void 0:e.is_approved)?"Not-Approved":1==(null===e||void 0===e?void 0:e.is_approved)?"Approved":"Pending-Approval"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.location_city}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.content_partner}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.device_platform}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.error_count}),Object(ee.jsx)(f.a,{children:null!==e&&void 0!==e&&e.errorname?null===e||void 0===e?void 0:e.errorname:"--"}),Object(ee.jsx)(f.a,{children:null===e||void 0===e?void 0:e.errorcode}),Object(ee.jsx)(f.a,{children:Object(ee.jsxs)("p",{className:"anomalyptag",children:[" ",(null===e||void 0===e?void 0:e.ANOMALY_EXPLANATION)||(null===e||void 0===e?void 0:e.anomaly_explanation)]})})]})})):Object(ee.jsx)("span",{style:{height:90,alignSelf:"center",alignItems:"center",marginLeft:"50%"},children:Object(ee.jsx)("img",{src:U,style:{marginLeft:"30%"}})})]}),Object(ee.jsxs)("div",{style:{display:"flex",margin:"auto"},children:[Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){if(pt.length>0){var e=$t?Math.floor(L()(Lt[0].endDate).endOf("date")._d.getTime()/1e3):Math.floor((new Date).getTime()/1e3);R(Object(P.G)(R,"admin",e,e,te,pt,"playbackfailure")),setTimeout((function(){R(Object(P.u)(R,e,te,bt,Bt,"")),vt([]),At([])}),1e3),Qe(!1)}},children:"Yes"})," ","\xa0\xa0\xa0",Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(){vt([]),At([]),Qe(!1),Dt&&Ct(!1)},children:"No"})]})]}),Object(ee.jsx)(ae,{title:"Upload CSV File",isOpen:Be,onClose:function(){Pe(!1)},children:Object(ee.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(ee.jsxs)("form",{children:[Object(ee.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){An(!1),it([]),st(e.target.files[0]),e.target.files[0]&&(rt.onload=function(e){var t=e.target.result;wn(t)})}}),Object(ee.jsx)(k.a,{className:"Status-btn",style:{fontSize:"10px",color:"#ffffff",backgroundColor:"#e20092"},onClick:function(e){!function(e){if(console.log("abcd--anomalie--",ot),e.preventDefault(),ot)if(rt.onload=function(e){var t=e.target.result;wn(t)},rt.readAsText(ot),console.log("abcd--handleOnSubmit--",nt),nt.length>0)if(nt.filter((function(e){return void 0==e?nt.splice(nt.indexOf(e)):e.anomaly_id||e.networktype||e.anomaly_explanation||e.anomaly_score||e.anomaly_type||e.content_partner||e.device_platform||e.dts||e.errorcode||e.error_count||e.location_city||e.videoid||e.errorname?void 0:nt.splice(nt.indexOf(e))})),nt.length>0){var t=Object.keys(nt[0]);console.log(t,"missing Arrays ArrayObjkeys"),console.log(t.length,"check array"),console.log(typeof t);var a=["anomaly_id","anomaly_explanation","anomaly_score","anomaly_type","content_partner","device_platform","dts","errorcode","error_count","is_approved","location_city","videoid","errorname"].filter((function(e){return!t.includes(e)}));if(console.log(a,"missing Arrays"),a.length>0){a.includes("dts")&&(a[a.indexOf("dts")]="Date_Time");var n=a.join(",\r\n");G.NotificationManager.error("The following required colomns are missing in excel : ".concat(n),"",2e3)}else nt.filter((function(e){if(void 0==e.anomaly_id)return nt.splice(nt.indexOf(e))})),At(nt),Qe(!0),Pe(!1)}else G.NotificationManager.error("Valid data not found in CSV File","",2e3);else gn||G.NotificationManager.success("File takes time to convert from csv to json format ! Please wait for sometime","",3e3)}(e)},children:"UPLOAD CSV"})]})})})]})]})},St=["children","value","index"];function Dt(e){var t=e.children,a=e.value,n=e.index,i=Object(l.a)(e,St);return Object(ee.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ee.jsx)(o.a,{p:3,children:Object(ee.jsx)(p.a,{component:"div",children:t})})}))}function Ct(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var _t=function(){var e=i.a.useState(0),t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"issue-wraper",children:[Object(ee.jsxs)(r.a,{value:a,onChange:function(e,t){n(t)},"aria-label":"basic tabs example",children:[Object(ee.jsx)(d.a,Object(c.a)({label:"IN-SESSION"},Ct(0))),Object(ee.jsx)(d.a,Object(c.a)({label:"PLAYBACK FAILURE"},Ct(1)))]}),Object(ee.jsx)(Dt,{value:a,index:0,children:Object(ee.jsx)(ge,{})})]}),Object(ee.jsx)(Dt,{value:a,index:1,children:Object(ee.jsx)(yt,{})})]})},Nt=["children","value","index"];function wt(e){var t=e.children,a=e.value,n=e.index,i=Object(l.a)(e,Nt);return Object(ee.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(ee.jsx)(ee.Fragment,{children:t})}))}function kt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Tt(){var e=Object(z.c)(),t=Object(z.d)((function(e){return e.qoeReducer}));return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"mitigation-summary ecom-dashboard-wrapper",children:[Object(ee.jsx)(o.a,{className:"insightTabs",style:{marginBottom:"0px",background:"transparent"},children:Object(ee.jsx)(s.a,{container:!0,spacing:2,children:Object(ee.jsx)(s.a,{item:!0,xs:6,md:12,children:Object(ee.jsx)(o.a,{style:{background:"transparent",paddingBottom:"2px",marginBottom:"0px"},className:"tab-heading",children:Object(ee.jsxs)(r.a,{onChange:function(t,a){e(Object(P.Qd)(a))},value:null===t||void 0===t?void 0:t.tabValueExpert,className:"tabs",style:{alignItems:"start"},children:[Object(ee.jsx)(d.a,Object(c.a)({label:"DETECTED ANOMALIES"},kt(0))),Object(ee.jsx)(d.a,Object(c.a)({label:"ESTIMATED ROOT CAUSES"},kt(1))),Object(ee.jsx)(d.a,Object(c.a)({label:"CONFIGURE RCA"},kt(2))),Object(ee.jsx)(d.a,Object(c.a)({label:"CONFIGURE MITIGATION"},kt(3))),Object(ee.jsx)(d.a,Object(c.a)({label:"AI PIPELINE INSIGHT"},kt(4)))]})})})})}),Object(ee.jsx)(wt,{value:null===t||void 0===t?void 0:t.tabValueExpert,index:0,children:Object(ee.jsx)("div",{className:"anomalies-wraper",children:Object(ee.jsx)("div",{className:"detectedanomalies2",children:Object(ee.jsx)(_t,{})})})}),Object(ee.jsx)(wt,{value:null===t||void 0===t?void 0:t.tabValueExpert,index:1,children:Object(ee.jsx)("div",{className:"anomalies-wraper",children:Object(ee.jsx)("div",{className:"detectedanomalies",children:Object(ee.jsx)(le,{})})})}),Object(ee.jsx)(wt,{value:null===t||void 0===t?void 0:t.tabValueExpert,index:2,children:Object(ee.jsx)("div",{className:"anomalies-wraper",children:Object(ee.jsx)("div",{className:"detectedanomalies",children:Object(ee.jsx)(xt,{})})})}),Object(ee.jsx)(wt,{value:null===t||void 0===t?void 0:t.tabValueExpert,index:3,children:Object(ee.jsx)("div",{className:"anomalies-wraper",children:Object(ee.jsx)("div",{className:"detectedanomalies",children:Object(ee.jsx)(_e,{})})})}),Object(ee.jsx)(wt,{value:null===t||void 0===t?void 0:t.tabValueExpert,index:4,children:Object(ee.jsx)(vt,{})})]})})}function Mt(e){return Object(ee.jsx)("div",{className:"ecom-dashboard-wrapper 44",children:Object(ee.jsx)(Tt,{})})}}}]);
//# sourceMappingURL=12.68614cea.chunk.js.map