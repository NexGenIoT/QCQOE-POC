{"version":3,"sources":["Components/QualityExperience/UserEngagementMetrics.js","Routes/qoe/userengagement/index.js"],"names":["UserEngagementMetrics","dispatch","useDispatch","realdata","useSelector","state","qoeReducer","metric_type","metricType","metric_type_fullname","metricTypefulname","favorite","favoriteMetric","cdnVal","filters","cdn","contentTypeVal","content_type","contentPartnetVal","content_partner","locationVal","location","useState","metricsList","setMetricList","unit","setUnit","React","isLoadingData","setisLoadingData","setCdn","contentType","setContentType","contentPartner","setContentPartner","setLocation","metric","setMetric","metricHeader","setMetricHeader","aggregationInterval","setAggregationInterval","devicePlatform","setDevicePlatform","Math","floor","Date","getTime","fromDate","setFromDate","toDate","setToDate","updatedGraphData","setUpdatedGraphData","metricGraphPoints","setMetricGraphPoints","allGraphPoints","setAllGraphPoints","androidGraphPoints","setAndroidGraphPoints","iosGraphPoints","setIosGraphPoints","chromeGraphPoints","setChromeGraphPoints","tvGraphPoints","setTvGraphPoints","firestickGraphPoints","setFirestickGraphPoints","androidDataPoints","setAndroidDataPoints","iosDataPoints","setIosDataPoints","chromeDataPoints","setChromeDataPoints","tvDataPoints","setTvDataPoints","firestickDataPoints","setFirestickDataPoints","graphPointsUpdated","setGraphPointsUpdated","selectVal","setSelectVal","xAxis","setXAxis","setisMetricsListLoading","startDate","endDate","key","range","setRange","openModal","setModalOpen","setStartDate","setEndDate","refresh","setRefresh","androidDataReport","setAndroidDataReport","iosDataReport","setIosDataReport","webDataReport","setWebDataReport","firestickDataReport","setFirestickDataReport","totalDataReport","setTotalDataReport","AndroidSmartTvGraphPoints","setAndroidSmartTvGraphPoints","AndroidSmartTvDataPoints","setAndroidSmartTvDataPoints","AndroidSmartTvDataReport","setAndroidSmartTvDataReport","useEffect","user_metrices_name","device_platform","length","updatePlatformData","layout","itemsToRemove","dpl","j","i","splice","calculateDateRange","timestamp","sd","ts","moment","endOf","_d","getLocationWithoutState","val","temparray","forEach","element","push","split","userEngagementPageData","fetchTheRequest","getUserEngagementPage","fromDateInfo","undefined","Object","keys","datas","time","monthNames","all","total_minutes_watched","timestampArr","time_stamp","getMonth","getDate","format","getHours","getMinutes","getSeconds","androidData","iosData","chromeData","tvData","firestickData","AndroidSmartTvData","includes","find","item","Android","datasReport","iOS","Web","FireTV","rebuffering_percentage","Firestick","AndroidSmartTv","totalData","error","getUniqueFilters","getFavoriteMetrics","setMetricType","setMetricTypeFullName","interval","setInterval","clearInterval","timeGraphDataPoints","handle","useFullScreenHandle","settitle","fullCombinationGraphPoints","lengths","map","a","indexOf","max","className","Paper","TextField","onChange","e","fullData","target","value","data","filter","toLowerCase","id","placeholder","variant","fullWidth","LeftMenu","updateMetricHeader","updateParentMetric","leftMenuMetrics","updateMetric","metricName","Box","sx","width","bgcolor","style","fontSize","fontWeight","textTransform","Stack","direction","spacing","float","IconButton","color","onClick","node","document","querySelector","domtoimage","toPng","quality","then","dataUrl","createElement","href","download","createFileName","click","catch","console","Tooltip","title","placement","aa","d","index","f","heading","toString","replace","Platform","Timestamp","fileName","exportType","exportFromJSON","types","csv","enter","FormControl","InputLabel","Select","labelId","label","MenuItem","disabled","contentEditable","mx","Modal","isOpen","toggle","centered","ModalHeader","ModalBody","display","flexDirection","justifyContent","selection","ranges","editableDateInputs","moveRangeOnFirstSelection","maxDate","ModalFooter","Button","NotificationManager","marginLeft","FilterLayout","getCdn","getContentPartner","getContentType","getLocation","savePlatformData","AppliedFilters","attemptsData","videoStartFailuresData","exitBeforeVideoStartsData","succesfullPlaysData","removeDevicePlatform","platform","Array","isArray","localStorage","removeItem","final","removeContentPartner","type","removeContentType","removeLocation","handleReload","androidSmartTvDataPoints","androidSmartTvReport","timeGraphPoints","RctPageLoader","CrmUserEngagement","props"],"mappings":"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","file":"static/js/20.e2985726.chunk.js","sourcesContent":["/*eslint react-hooks/exhaustive-deps: \"off\"*/\r\nimport * as React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { createFileName } from \"use-react-screenshot\";\r\nimport LineChartComponent from \"./line-chart\";\r\nimport AppliedFilters from \"./AppliedFilters\";\r\nimport domtoimage from \"dom-to-image\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport FilterLayout from \"./FilterLayout\";\r\nimport LeftMenu from \"./LeftMenu\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport CameraAltOutlinedIcon from \"@mui/icons-material/CameraAltOutlined\";\r\nimport FileDownloadOutlinedIcon from \"@mui/icons-material/FileDownloadOutlined\";\r\nimport FullscreenOutlinedIcon from \"@mui/icons-material/FullscreenOutlined\";\r\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\r\nimport RctPageLoader from \"Components/RctPageLoader/RctPageLoader\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport moment from \"moment\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport {\r\n  getUserEngagementPage,\r\n  getUniqueFilters,\r\n  setMetricType,\r\n  getFavoriteMetrics,\r\n  setMetricTypeFullName,\r\n} from \"Store/Actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport \"react-date-range/dist/styles.css\";\r\nimport \"react-date-range/dist/theme/default.css\";\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport Button from \"@mui/material/Button\";\r\nimport exportFromJSON from \"export-from-json\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n\r\nconst UserEngagementMetrics = () => {\r\n  const dispatch = useDispatch();\r\n  const realdata = useSelector((state) => state.qoeReducer);\r\n  const metric_type = realdata?.metricType;\r\n  const metric_type_fullname = realdata?.metricTypefulname;\r\n  const favorite = realdata?.favoriteMetric;\r\n  const cdnVal = realdata?.filters?.cdn;\r\n  const contentTypeVal = realdata?.filters?.content_type;\r\n  const contentPartnetVal = realdata?.filters?.content_partner;\r\n  const locationVal = realdata?.filters?.location;\r\n  const [metricsList, setMetricList] = useState([]);\r\n  const [unit, setUnit] = useState(\"\");\r\n  const [isLoadingData, setisLoadingData] = React.useState(false);\r\n  const [cdn, setCdn] = useState([]);\r\n  const [contentType, setContentType] = useState([]);\r\n  const [contentPartner, setContentPartner] = useState([]);\r\n  const [location, setLocation] = useState([]);\r\n  const [metric, setMetric] = useState(\r\n    metric_type ? metric_type : \"average_percentage_completion\"\r\n  );\r\n  const [metricHeader, setMetricHeader] = useState(\r\n    metric_type_fullname ? metric_type_fullname : \"Average Percentage Completion\"\r\n  );\r\n  const [aggregationInterval, setAggregationInterval] = useState(\"1h\");\r\n  const [devicePlatform, setDevicePlatform] = useState([\"dummy\"]);\r\n  const [fromDate, setFromDate] = useState(\r\n    Math.floor(new Date().getTime() / 1000.0) - 24 * 3600\r\n  );\r\n  const [toDate, setToDate] = useState(\r\n    Math.floor(new Date().getTime() / 1000.0)\r\n  );\r\n  const [updatedGraphData, setUpdatedGraphData] = useState();\r\n  const [metricGraphPoints, setMetricGraphPoints] = useState();\r\n  const [allGraphPoints, setAllGraphPoints] = useState([]);\r\n  const [androidGraphPoints, setAndroidGraphPoints] = useState([]);\r\n  const [iosGraphPoints, setIosGraphPoints] = useState([]);\r\n  const [chromeGraphPoints, setChromeGraphPoints] = useState([]);\r\n  const [tvGraphPoints, setTvGraphPoints] = useState([]);\r\n  const [firestickGraphPoints, setFirestickGraphPoints] = useState([]);\r\n  const [androidDataPoints, setAndroidDataPoints] = useState();\r\n  const [iosDataPoints, setIosDataPoints] = useState();\r\n  const [chromeDataPoints, setChromeDataPoints] = useState();\r\n  const [tvDataPoints, setTvDataPoints] = useState();\r\n  const [firestickDataPoints, setFirestickDataPoints] = useState();\r\n  const [graphPointsUpdated, setGraphPointsUpdated] = useState(true);\r\n  const [selectVal, setSelectVal] = useState(\"1d\");\r\n  const [xAxis, setXAxis] = useState(\"hour\");\r\n  const [metricsListLoading, setisMetricsListLoading] = useState(false);\r\n  const [range, setRange] = useState([\r\n    {\r\n      startDate: new Date(),\r\n      endDate: new Date(),\r\n      key: \"selection\",\r\n    },\r\n  ]);\r\n  const [openModal, setModalOpen] = useState(false);\r\n  const [startDate, setStartDate] = useState();\r\n  const [endDate, setEndDate] = useState();\r\n  const [refresh, setRefresh] = useState(10);\r\n  const [tempLocation, setTempLocation] = useState([]);\r\n  //f0r drop down-------------------\r\n  const [androidDataReport, setAndroidDataReport] = useState();\r\n  const [iosDataReport, setIosDataReport] = useState();\r\n  const [webDataReport, setWebDataReport] = useState();\r\n  const [firestickDataReport, setFirestickDataReport] = useState();\r\n  const [totalDataReport, setTotalDataReport] = useState();\r\n  //-----------------------------------\r\n  const [AndroidSmartTvGraphPoints, setAndroidSmartTvGraphPoints] = useState([]);\r\n  const [AndroidSmartTvDataPoints, setAndroidSmartTvDataPoints] = useState([]);\r\n  const [AndroidSmartTvDataReport, setAndroidSmartTvDataReport] = useState([]);\r\n//--------------------------------------------\r\n\r\n  useEffect(() => {\r\n    if (realdata) {\r\n      setMetricList(realdata?.filters?.user_metrices_name);\r\n    }\r\n  }, [realdata?.filters?.user_metrices_name]);\r\n\r\n  useEffect(() => {\r\n    if (realdata?.device_platform.length > 0) {\r\n      setDevicePlatform(realdata?.device_platform);\r\n    }\r\n  }, [realdata?.device_platform]);\r\n\r\n  const getCdn = (val) => {\r\n    setCdn(val);\r\n  };\r\n  const getContentType = (val) => {\r\n    setContentType(val);\r\n  };\r\n  const getContentPartner = (val) => {\r\n    setContentPartner(val);\r\n  };\r\n  const getLocation = (val) => {\r\n    setLocation(val);\r\n  };\r\n  const updateMetricHeader = (data) => {\r\n    setMetricHeader(data)\r\n  }\r\n  const updateMetric = (metricName) => {\r\n    setXAxis(\"hour\");\r\n    setDevicePlatform(realdata?.device_platform);\r\n    setMetric(metricName);\r\n    setStartDate();\r\n    setEndDate();\r\n    setRange([\r\n      {\r\n        startDate: new Date(),\r\n        endDate: new Date(),\r\n        key: \"selection\",\r\n      },\r\n    ]);\r\n    setFromDate(Math.floor(new Date().getTime() / 1000.0) - 24 * 3600);\r\n    setToDate(Math.floor(new Date().getTime() / 1000.0));\r\n    setAggregationInterval(\"1h\")\r\n    setRefresh(10)\r\n    setSelectVal('1d')\r\n    setIosDataPoints([])\r\n    setAndroidDataPoints([])\r\n    setChromeDataPoints([])\r\n    setFirestickDataPoints([])\r\n    setTvDataPoints([])\r\n    setAndroidSmartTvDataPoints([])\r\n\r\n    //reprt---data--------------\r\n    setIosDataReport([]);\r\n    setAndroidDataReport([]);\r\n    setWebDataReport([]);\r\n    setFirestickDataReport([]);\r\n    setTotalDataReport([]);\r\n    setAndroidSmartTvDataReport([])\r\n    //------------------------------\r\n  };\r\n\r\n  const removeContentPartner = (type) => {\r\n    const data = contentPartner;\r\n    const final = data.filter((d) => d !== type);\r\n    setContentPartner(final);\r\n  };\r\n\r\n  const removeContentType = (type) => {\r\n    const dataType = contentType;\r\n    const final = dataType.filter((d) => d !== type);\r\n    setContentType(final);\r\n  };\r\n\r\n  const updatePlatformData = (layout, itemsToRemove) => {\r\n    let dpl = devicePlatform;\r\n\r\n    if (layout === \"AppliedFilters\") {\r\n      // remove the elemets you got\r\n      for (var j = 0; j < itemsToRemove.length; j++) {\r\n        for (var i = 0; i < dpl.length; i++) {\r\n          if (dpl[i] === itemsToRemove[j]) {\r\n            dpl.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      setDevicePlatform(dpl);\r\n    } else if (layout === \"FilterLayout\") {\r\n      // add the element you get\r\n    }\r\n  };\r\n\r\n  const savePlatformData = (val) => {\r\n    setDevicePlatform(val);\r\n  };\r\n\r\n  const removeLocation = (type) => {\r\n    if (Array.isArray(type)) {\r\n      setLocation([]);\r\n    }\r\n    else {\r\n      const dataType = location;\r\n      const final = dataType.filter((d) => d !== type);\r\n      setLocation(final);\r\n    }\r\n  };\r\n\r\n  const removeDevicePlatform = (platform) => {\r\n    if (Array.isArray(platform)) {\r\n      setDevicePlatform([]);\r\n      setContentPartner([]);\r\n      setContentType([]);\r\n      localStorage.removeItem(\"contentPartner\");\r\n    } else {\r\n      const dpa = devicePlatform;\r\n      const final = dpa.filter((d) => d !== platform);\r\n      setDevicePlatform(final);\r\n    }\r\n  };\r\n  const changeRefresh = (e) => {\r\n    setRefresh(e.target.value);\r\n  };\r\n  const setDataRange = (e) => {\r\n    setStartDate();\r\n    setEndDate();\r\n    setRange([\r\n      {\r\n        startDate: new Date(),\r\n        endDate: new Date(),\r\n        key: \"selection\",\r\n      },\r\n    ]);\r\n    setSelectVal(e.target.value);\r\n    let aggrInterval = \"\";\r\n    switch (e.target.value) {\r\n      case \"1min\": {\r\n        aggrInterval = \"10s\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"sec\");\r\n        calculateDateRange(\"1min\");\r\n        return;\r\n      }\r\n      case \"5min\": {\r\n        aggrInterval = \"10s\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"sec\");\r\n        calculateDateRange(\"5min\");\r\n        return;\r\n      }\r\n      case \"1h\": {\r\n        aggrInterval = \"1m\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"hour\");\r\n        calculateDateRange(\"1h\");\r\n        return;\r\n      }\r\n      case \"1d\": {\r\n        aggrInterval = \"1h\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"hour\");\r\n        calculateDateRange(\"1d\");\r\n        return;\r\n      }\r\n      case \"1w\": {\r\n        aggrInterval = \"1d\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"date\");\r\n        calculateDateRange(\"1w\");\r\n        return;\r\n      }\r\n      case \"1m\": {\r\n        aggrInterval = \"2d\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"date\");\r\n        calculateDateRange(\"1m\");\r\n        return;\r\n      }\r\n      case \"1y\": {\r\n        aggrInterval = \"30d\";\r\n        setAggregationInterval(aggrInterval);\r\n        setXAxis(\"date\");\r\n        calculateDateRange(\"1y\");\r\n        return;\r\n      }\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const calculateDateRange = (timestamp) => {\r\n    let sd = new Date(); //current system date\r\n    let toDate = Math.floor(sd.getTime() / 1000.0);\r\n    setToDate(toDate);\r\n    // let ts = Math.floor(new Date().getTime() / 1000);\r\n    let ts = Math.floor(moment().endOf(\"date\")._d.getTime() / 1000.0);\r\n    let fromDateRange;\r\n\r\n    switch (timestamp) {\r\n      // case \"1min\": {\r\n      // \tfromDateRange = ts - 60;\r\n      // \tsetFromDate(fromDateRange);\r\n      // \treturn;\r\n      // }\r\n      case \"5min\": {\r\n        fromDateRange = ts - 300;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      case \"1h\": {\r\n        fromDateRange = ts - 3600;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      case \"1d\": {\r\n        fromDateRange = ts - 24 * 3600;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      case \"1w\": {\r\n        fromDateRange = ts - 7 * 24 * 3600;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      case \"1m\": {\r\n        fromDateRange = ts - 30 * 24 * 3600;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      case \"1y\": {\r\n        fromDateRange = ts - 12 * 30 * 24 * 3600;\r\n        setFromDate(fromDateRange);\r\n        return;\r\n      }\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const getLocationWithoutState = (val) => {\r\n    let temparray = [];\r\n    val.forEach((element) => {\r\n      temparray.push(element.split(\"(\")[0]);\r\n    });\r\n    return temparray;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (realdata && realdata.userEngagementPageData) {\r\n      setisLoadingData(false);\r\n      setUpdatedGraphData(realdata.userEngagementPageData);\r\n    }\r\n  }, [realdata]);\r\n\r\n  const fetchTheRequest = (\r\n    cdn,\r\n    contentType,\r\n    contentPartner,\r\n    location,\r\n    metric,\r\n    toDate,\r\n    fromDate,\r\n    aggregationInterval,\r\n    devicePlatform\r\n  ) => {\r\n    setAndroidGraphPoints([]);\r\n    setIosGraphPoints([]);\r\n    setChromeGraphPoints([]);\r\n    setAllGraphPoints([]);\r\n    setTvGraphPoints([]);\r\n    setFirestickGraphPoints([]);\r\n    setAndroidSmartTvGraphPoints([])\r\n    setisLoadingData(true);\r\n    if (devicePlatform[0] === \"dummy\") {\r\n      return null;\r\n    }\r\n    dispatch(\r\n      getUserEngagementPage(\r\n        dispatch,\r\n        cdn,\r\n        contentType,\r\n        contentPartner,\r\n        getLocationWithoutState(location), //  location,\r\n        metric,\r\n        toDate,\r\n        fromDate,\r\n        aggregationInterval,\r\n        devicePlatform\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleReload = () => {\r\n    let ts = Math.floor(new Date().getTime() / 1000);\r\n    let fromDateInfo;\r\n    switch (selectVal) {\r\n      case \"1min\": {\r\n        fromDateInfo = ts - 60;\r\n        break;\r\n      }\r\n      case \"5min\": {\r\n        fromDateInfo = ts - 300;\r\n        break;\r\n      }\r\n      case \"1h\": {\r\n        fromDateInfo = ts - 3600;\r\n        break;\r\n      }\r\n      case \"1d\": {\r\n        fromDateInfo = ts - 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1w\": {\r\n        fromDateInfo = ts - 7 * 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1m\": {\r\n        fromDateInfo = ts - 30 * 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1y\": {\r\n        fromDateInfo = ts - 12 * 30 * 24 * 3600;\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n    fetchTheRequest(\r\n      cdn,\r\n      contentType,\r\n      contentPartner,\r\n      getLocationWithoutState(location), //  location,\r\n      metric,\r\n      startDate ? toDate : ts,\r\n      endDate ? fromDate : fromDateInfo,\r\n      aggregationInterval,\r\n      devicePlatform\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    let ts = Math.floor(new Date().getTime() / 1000);\r\n    let fromDateInfo;\r\n    switch (selectVal) {\r\n      case \"1min\": {\r\n        fromDateInfo = ts - 60;\r\n        break;\r\n      }\r\n      case \"5min\": {\r\n        fromDateInfo = ts - 300;\r\n        break;\r\n      }\r\n      case \"1h\": {\r\n        fromDateInfo = ts - 3600;\r\n        break;\r\n      }\r\n      case \"1d\": {\r\n        fromDateInfo = ts - 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1w\": {\r\n        fromDateInfo = ts - 7 * 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1m\": {\r\n        fromDateInfo = ts - 30 * 24 * 3600;\r\n        break;\r\n      }\r\n      case \"1y\": {\r\n        fromDateInfo = ts - 12 * 30 * 24 * 3600;\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n    fetchTheRequest(\r\n      cdn,\r\n      contentType,\r\n      contentPartner,\r\n      getLocationWithoutState(location), //  location,\r\n      metric,\r\n      toDate,\r\n      startDate && endDate ? fromDate : fromDateInfo,\r\n      aggregationInterval,\r\n      devicePlatform\r\n    );\r\n  }, [\r\n    cdn,\r\n    contentType,\r\n    contentPartner,\r\n    location,\r\n    metric,\r\n    toDate,\r\n    fromDate,\r\n    aggregationInterval,\r\n    devicePlatform,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (updatedGraphData == undefined || Object.keys(updatedGraphData).length === 0) {\r\n      return;\r\n    }\r\n\r\n\r\n    if (updatedGraphData) {\r\n      //   setisLoadingData(true);\r\n      let datas = [];\r\n      let time = [];\r\n      setGraphPointsUpdated(false);\r\n      const monthNames = [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n      ];\r\n      if (devicePlatform) {\r\n        if (devicePlatform.length === 0) {\r\n          datas =\r\n            metric && metric.length !== 0\r\n              ? updatedGraphData[0].all[metric]\r\n              : updatedGraphData[0].all.total_minutes_watched;\r\n          let timestampArr = updatedGraphData[0].all.time_stamp;\r\n          setUnit(updatedGraphData[0].all.unit);\r\n          for (let i = 0; i < timestampArr.length; i++) {\r\n            if (xAxis === \"hour\")\r\n              time.push(\r\n                monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                \" \" +\r\n                new Date(timestampArr[i]).getDate() +\r\n                \",\" +\r\n                moment(timestampArr[i]).format(\"hh:mm\")\r\n              );\r\n            else if (xAxis === \"date\")\r\n              time.push(\r\n                monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                \" \" +\r\n                new Date(timestampArr[i]).getDate()\r\n              );\r\n            else if (xAxis === \"sec\")\r\n              time.push(\r\n                monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                \" \" +\r\n                new Date(timestampArr[i]).getDate() +\r\n                \",\" +\r\n                new Date(timestampArr[i]).getHours() +\r\n                \":\" +\r\n                new Date(timestampArr[i]).getMinutes() +\r\n                \":\" +\r\n                new Date(timestampArr[i]).getSeconds()\r\n              );\r\n          }\r\n          setAllGraphPoints(time);\r\n          setMetricGraphPoints(datas);\r\n        } else {\r\n          let androidData;\r\n          let iosData;\r\n          let chromeData;\r\n          let tvData;\r\n          let firestickData;\r\n          let AndroidSmartTvData;\r\n          if (devicePlatform.includes(\"Android\")) {\r\n            androidData = updatedGraphData.find((item) => item.Android);\r\n            if (androidData) {\r\n              let datas = [];\r\n              let time = [];\r\n              //report data platform wise\r\n              let datasReport = 0;\r\n              datasReport =\r\n                metric && metric.length !== 0\r\n                  ? androidData.Android[\"total_sum\"]\r\n                  : androidData.Android.total_sum;\r\n              //report data platform wise\r\n\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? androidData.Android[metric]\r\n                  : androidData.Android.total_minutes_watched;\r\n              let timestampArr = androidData.Android.time_stamp;\r\n              setUnit(androidData.Android.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setAndroidGraphPoints(time);\r\n              setAndroidDataPoints(datas);\r\n              setAndroidDataReport(datasReport)\r\n            }\r\n          }\r\n          if (devicePlatform.includes(\"iOS\")) {\r\n            iosData = updatedGraphData.find((item) => item.iOS);\r\n            if (iosData) {\r\n              let datas = [];\r\n              let time = [];\r\n              //report data platform wise\r\n              let datasReport = 0;\r\n              datasReport =\r\n                metric && metric.length !== 0\r\n                  ? iosData.iOS[\"total_sum\"]\r\n                  : iosData.iOS.total_sum;\r\n              //report data platform wise\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? iosData.iOS[metric]\r\n                  : iosData.iOS.total_minutes_watched;\r\n              let timestampArr = iosData.iOS.time_stamp;\r\n              setUnit(iosData.iOS.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setIosGraphPoints(time);\r\n              setIosDataPoints(datas);\r\n              setIosDataReport(datasReport)\r\n            }\r\n          }\r\n          if (devicePlatform.includes(\"Web\")) {\r\n            chromeData = updatedGraphData.find((item) => item.Web);\r\n            if (chromeData) {\r\n              let datas = [];\r\n              let time = [];\r\n              //report data platform wise\r\n              let datasReport = 0;\r\n              datasReport =\r\n                metric && metric.length !== 0\r\n                  ? chromeData.Web[\"total_sum\"]\r\n                  : chromeData.Web.total_sum;\r\n              //report data platform wise\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? chromeData.Web[metric]\r\n                  : chromeData.Web.total_minutes_watched;\r\n              let timestampArr = chromeData.Web.time_stamp;\r\n              setUnit(chromeData.Web.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setChromeGraphPoints(time);\r\n              setChromeDataPoints(datas);\r\n              setWebDataReport(datasReport)\r\n            }\r\n          }\r\n          if (devicePlatform.includes(\"tv\")) {\r\n            tvData = updatedGraphData.find((item) => item.FireTV);\r\n            if (tvData) {\r\n              let datas = [];\r\n              let time = [];\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? tvData.FireTV[metric]\r\n                  : tvData.FireTV.rebuffering_percentage;\r\n              let timestampArr = tvData.FireTV.time_stamp;\r\n              setUnit(tvData.FireTV.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setTvGraphPoints(time);\r\n              setTvDataPoints(datas);\r\n            }\r\n          }\r\n          if (devicePlatform.includes(\"Firestick\")) {\r\n            firestickData = updatedGraphData.find((item) => item.Firestick);\r\n            if (firestickData) {\r\n              let datas = [];\r\n              let time = [];\r\n\r\n              //report data platform wise\r\n              let datasReport = 0;\r\n              datasReport =\r\n                metric && metric.length !== 0\r\n                  ? firestickData.Firestick[\"total_sum\"]\r\n                  : firestickData.Firestick.total_sum;\r\n              //report data platform wise\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? firestickData.Firestick[metric]\r\n                  : firestickData.Firestick.rebuffering_percentage;\r\n              let timestampArr = firestickData.Firestick.time_stamp;\r\n              setUnit(firestickData.Firestick.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setFirestickGraphPoints(time);\r\n              setFirestickDataPoints(datas);\r\n              setFirestickDataReport(datasReport)\r\n            }\r\n          }\r\n          if (devicePlatform.includes(\"AndroidSmartTv\")) {\r\n            AndroidSmartTvData = updatedGraphData.find((item) => item.AndroidSmartTv);\r\n            if (AndroidSmartTvData) {\r\n              let datas = [];\r\n              let time = [];\r\n              //report data platform wise\r\n              let datasReport = 0;\r\n              datasReport =\r\n                metric && metric.length !== 0\r\n                  ? AndroidSmartTvData.AndroidSmartTv[\"total_sum\"]\r\n                  : AndroidSmartTvData.AndroidSmartTv.total_sum;\r\n              //report data platform wise\r\n\r\n              datas =\r\n                metric && metric.length !== 0\r\n                  ? AndroidSmartTvData.AndroidSmartTv[metric]\r\n                  : AndroidSmartTvData.AndroidSmartTv.total_minutes_watched;\r\n              let timestampArr = AndroidSmartTvData.AndroidSmartTv.time_stamp;\r\n              setUnit(AndroidSmartTvData.AndroidSmartTv.unit);\r\n              for (let i = 0; i < timestampArr.length; i++) {\r\n                if (xAxis === \"hour\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    moment(timestampArr[i]).format(\"hh:mm\")\r\n                  );\r\n                else if (xAxis === \"date\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate()\r\n                  );\r\n                else if (xAxis === \"sec\")\r\n                  time.push(\r\n                    monthNames[new Date(timestampArr[i]).getMonth()] +\r\n                    \" \" +\r\n                    new Date(timestampArr[i]).getDate() +\r\n                    \",\" +\r\n                    new Date(timestampArr[i]).getHours() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getMinutes() +\r\n                    \":\" +\r\n                    new Date(timestampArr[i]).getSeconds()\r\n                  );\r\n              }\r\n              setAndroidSmartTvGraphPoints(time);\r\n              setAndroidSmartTvDataPoints(datas);\r\n              setAndroidSmartTvDataReport(datasReport)\r\n            }\r\n          }\r\n\r\n          try {\r\n            let totalData = updatedGraphData.find((item) => item.all);\r\n            //report data platform wise\r\n            let datasReport = 0;\r\n            datasReport =\r\n              metric && metric.length !== 0\r\n                ? totalData.all[\"total_sum\"]\r\n                : totalData.all.total_sum;\r\n            setTotalDataReport(datasReport)\r\n            //report data platform wise\r\n          } catch (error) {\r\n\r\n          }\r\n\r\n\r\n\r\n        }\r\n        setGraphPointsUpdated(true);\r\n      }\r\n    }\r\n  }, [updatedGraphData]);\r\n\r\n  useEffect(() => {\r\n    const isEmpty = Object.keys(realdata?.filters).length === 0;\r\n    if (isEmpty) {\r\n      setisMetricsListLoading(true);\r\n      dispatch(getUniqueFilters(dispatch));\r\n      setisMetricsListLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!favorite) {\r\n      dispatch(getFavoriteMetrics(dispatch));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(setMetricType(\"\"));\r\n      dispatch(setMetricTypeFullName(\"\"));\r\n\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      let ts = Math.floor(new Date().getTime() / 1000);\r\n      let fromDateInfo;\r\n      switch (selectVal) {\r\n        case \"1min\": {\r\n          fromDateInfo = ts - 60;\r\n          break;\r\n        }\r\n        case \"5min\": {\r\n          fromDateInfo = ts - 300;\r\n          break;\r\n        }\r\n        case \"1h\": {\r\n          fromDateInfo = ts - 3600;\r\n          break;\r\n        }\r\n        case \"1d\": {\r\n          fromDateInfo = ts - 24 * 3600;\r\n          break;\r\n        }\r\n        case \"1w\": {\r\n          fromDateInfo = ts - 7 * 24 * 3600;\r\n          break;\r\n        }\r\n        case \"1m\": {\r\n          fromDateInfo = ts - 30 * 24 * 3600;\r\n          break;\r\n        }\r\n        case \"1y\": {\r\n          fromDateInfo = ts - 12 * 30 * 24 * 3600;\r\n          break;\r\n        }\r\n        default:\r\n          break;\r\n      }\r\n      fetchTheRequest(\r\n        cdn,\r\n        contentType,\r\n        contentPartner,\r\n        getLocationWithoutState(location), //  location,\r\n        metric,\r\n        startDate ? toDate : ts,\r\n        endDate ? fromDate : fromDateInfo,\r\n        aggregationInterval,\r\n        devicePlatform\r\n      );\r\n    }, refresh * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [\r\n    refresh,\r\n    cdn,\r\n    contentType,\r\n    contentPartner,\r\n    location,\r\n    metric,\r\n    toDate,\r\n    fromDate,\r\n    aggregationInterval,\r\n    devicePlatform,\r\n  ]);\r\n\r\n  const handle = useFullScreenHandle();\r\n\r\n  // const gettitle = metric;\r\n  // var settitle = gettitle.replace(/_/g, \" \");\r\n  const gettitle = metricHeader;\r\n  var settitle = gettitle//.replace(/_/g, \" \");\r\n\r\n  let timeGraphDataPoints;\r\n  let fullCombinationGraphPoints = [];\r\n  fullCombinationGraphPoints.push(\r\n    androidGraphPoints,\r\n    iosGraphPoints,\r\n    chromeGraphPoints,\r\n    tvGraphPoints,\r\n    firestickGraphPoints,\r\n    AndroidSmartTvGraphPoints,\r\n    allGraphPoints\r\n  );\r\n  const lengths = fullCombinationGraphPoints.map((a) => a.length);\r\n  const index = lengths.indexOf(Math.max(...lengths));\r\n  timeGraphDataPoints = fullCombinationGraphPoints[index];\r\n\r\n  const getImage = () => {\r\n    var node = document.querySelector(\".take-screenshot\");\r\n    var options = {\r\n      quality: 1,\r\n      bgcolor: \"#ffffff\",\r\n    };\r\n    domtoimage\r\n      .toPng(node, options)\r\n      .then(function (dataUrl) {\r\n        const a = document.createElement(\"a\");\r\n        a.href = dataUrl;\r\n        a.download = createFileName(\r\n          \"png\",\r\n          `${metric}-${moment().format(\"DD/MM/YYYY\")}`\r\n        );\r\n        a.click();\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"oops, something went wrong!\", error);\r\n      });\r\n  };\r\n\r\n  const searchMetricName = (e) => {\r\n    const fullData = realdata?.filters?.user_metrices_name;\r\n    if (e.target.value !== \"\") {\r\n      const data = fullData.filter((a) =>\r\n        a.toLowerCase().includes(e.target.value.toLowerCase())\r\n      );\r\n      setMetricList(data);\r\n    } else {\r\n      setMetricList(fullData);\r\n    }\r\n  };\r\n\r\n  const getExcelDownload = () => {\r\n    const data = [];\r\n    realdata.userEngagementPageData.map((aa) => {\r\n      if (Object.keys(aa).includes(\"Android\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"iOS\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"Web\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"tv\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"Firestick\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"AndroidSmartTv\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else if (Object.keys(aa).includes(\"all\")) {\r\n        return aa[Object.keys(aa)[0]].time_stamp.map((d, index) => {\r\n          let key = Object.keys(aa[Object.keys(aa)[0]]).filter(\r\n            (f) => f === metric\r\n          );\r\n          const heading = key.toString().replace(/_/g, \" \");\r\n          return data.push({\r\n            Platform: Object.keys(aa)[0],\r\n            Timestamp: aa[Object.keys(aa)[0]].time_stamp[index],\r\n            [heading]: aa[Object.keys(aa)[0]][key][index],\r\n            Unit: aa[Object.keys(aa)[0]].unit,\r\n          });\r\n        });\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n    const fileName = createFileName(\r\n      \"csv\",\r\n      `${metric}-${moment().format(\"DD/MM/YYYY\")}`\r\n    );\r\n    const exportType = exportFromJSON.types.csv;\r\n    exportFromJSON({ data, fileName, exportType });\r\n  };\r\n  const submit = () => {\r\n    let diff = ((range[0].endDate - range[0].startDate) / (1000 * 60 * 60 * 24) + 1) % 365\r\n    if (diff > 31) {\r\n\t\t\tNotificationManager.error(\"To-Date and From-Date Should be of 31 days of Gap\", \"\", 2000)\r\n\t\t\treturn;\r\n\t\t}\r\n    setSelectVal(range[0])\r\n    setXAxis(\"date\");\r\n    setStartDate(range[0].startDate);\r\n    setEndDate(range[0].endDate);\r\n    setModalOpen(false);\r\n    setToDate(Math.floor(moment(range[0].endDate).endOf(\"date\")._d.getTime() / 1000.0));\r\n    setAggregationInterval(\"1d\");\r\n    setFromDate(Math.floor(range[0].startDate.getTime() / 1000.0));\r\n  };\r\n\r\n  const updateParentMetric = () => { };\r\n\r\n  return (\r\n    <>\r\n      <div className='row'>\r\n        <div className='col-md-3'>\r\n          <Paper className='SidePanel'>\r\n            <h3 className='left-menu-title'>USER ENGAGEMENT METRICS</h3>\r\n            <div className='analysisHeaderRight search-insight-container'>\r\n              <i className='zmdi zmdi-search'></i>\r\n              <TextField\r\n                onChange={searchMetricName}\r\n                id='outlined-basic'\r\n                className='search-insight'\r\n                placeholder='Search...'\r\n                variant='outlined'\r\n                fullWidth\r\n              />\r\n            </div>\r\n            {/* {!metricsListLoading && metricsList ? ( */}\r\n            <LeftMenu\r\n              updateMetricHeader={updateMetricHeader}\r\n              updateParentMetric={updateParentMetric}\r\n              favorite={favorite}\r\n              leftMenuMetrics={metricsList}\r\n              updateMetric={updateMetric}\r\n            />\r\n            {/* // ) : (\r\n            //   <RctPageLoader />\r\n            // )} */}\r\n          </Paper>\r\n        </div>\r\n        <div className='col-md-9 right-insight'>\r\n          <Box sx={{ width: \"100%\", bgcolor: \"background.paper\" }}>\r\n            <Paper>\r\n              <div className='graphcontentHead'>\r\n                <span\r\n                  style={{\r\n                    fontSize: \"18px\",\r\n                    fontWeight: 500,\r\n                    textTransform: \"capitalize\",\r\n                  }}\r\n                >\r\n                  {metricHeader}\r\n                </span>\r\n                <Stack direction='row' spacing={1} sx={{ float: \"right\" }}>\r\n                  <IconButton\r\n                    color='primary'\r\n                    aria-label='screenshot'\r\n                    onClick={getImage}\r\n                  >\r\n                    <Tooltip title=\"Take screenshot\" placement=\"bottom\">\r\n                      <CameraAltOutlinedIcon color='disabled' />\r\n                    </Tooltip>\r\n                  </IconButton>\r\n                  <IconButton\r\n                    color='secondary'\r\n                    aria-label='download'\r\n                    onClick={getExcelDownload}\r\n                  >\r\n                    <Tooltip title=\"Download File\" placement=\"bottom\">\r\n                      <FileDownloadOutlinedIcon color='disabled' />\r\n                    </Tooltip>\r\n                  </IconButton>\r\n                  <IconButton aria-label='fullscreen' onClick={handle.enter}>\r\n                    <Tooltip title=\"Full Screen\" placement=\"bottom\">\r\n                      <FullscreenOutlinedIcon color='disabled' />\r\n                    </Tooltip>\r\n                  </IconButton>\r\n                  <Box className='dropdownCont'>\r\n                    <FormControl fullWidth className='intervalSelect'>\r\n                      <InputLabel id='intervalSelect'>Interval</InputLabel>\r\n                      <Select\r\n                        labelId='intervalSelect'\r\n                        id='demo-simple-select'\r\n                        value={refresh}\r\n                        label='Interval'\r\n                        onChange={changeRefresh}\r\n                        className='interSelect'\r\n                      >\r\n                        <MenuItem value={10}>10s</MenuItem>\r\n                        <MenuItem value={20}>20s</MenuItem>\r\n                        <MenuItem value={30}>30s</MenuItem>\r\n                        <MenuItem value={40}>40s</MenuItem>\r\n                        <MenuItem value={50}>50s</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                    <FormControl fullWidth className='intervalSelect'>\r\n                      <InputLabel id='intervalSelect'>Interval</InputLabel>\r\n                      <Select\r\n                        labelId='intervalSelect'\r\n                        id='demo-simple-select'\r\n                        value={selectVal}\r\n                        label='Interval'\r\n                        onChange={setDataRange}\r\n                        className='interSelect'\r\n                      >\r\n                        <MenuItem value='5min'>5 Minute</MenuItem>\r\n                        <MenuItem value='1h'>1 Hour</MenuItem>\r\n                        <MenuItem value='1d'>Day</MenuItem>\r\n                        <MenuItem value='1w'>Week</MenuItem>\r\n                        <MenuItem value='1m'>Month</MenuItem>\r\n                        <MenuItem value='1y' disabled>Year</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n\r\n                    <div className='dateCont'>\r\n                      <span>Custom Date</span>\r\n                      <TextField\r\n                        onClick={() => setModalOpen(true)}\r\n                        contentEditable={false}\r\n                        value={\r\n                          startDate\r\n                            ? moment(startDate).format(\"DD/MM/YYYY\")\r\n                            : \"\"\r\n                        }\r\n                        placeholder='dd-mm-yyyy'\r\n                      />\r\n                      <Box sx={{ mx: 2 }}> to </Box>\r\n                      <TextField\r\n                        onClick={() => setModalOpen(true)}\r\n                        contentEditable={false}\r\n                        value={\r\n                          endDate ? moment(endDate).format(\"DD/MM/YYYY\") : \"\"\r\n                        }\r\n                        placeholder='dd-mm-yyyy'\r\n                      />\r\n                    </div>\r\n                    <Modal\r\n                      isOpen={openModal}\r\n                      toggle={() => setModalOpen(false)}\r\n                      centered\r\n                    >\r\n                      <ModalHeader>\r\n                        <h3>Date Picker</h3>\r\n                      </ModalHeader>\r\n                      <ModalBody>\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"row\",\r\n                            justifyContent: \"center\",\r\n                          }}\r\n                        >\r\n                          <DateRange\r\n                            onChange={(item) => setRange([item.selection])}\r\n                            ranges={range}\r\n                            editableDateInputs={true}\r\n                            moveRangeOnFirstSelection={false}\r\n                            maxDate={new Date()}\r\n                          />\r\n                        </div>\r\n                      </ModalBody>\r\n                      <ModalFooter>\r\n                        <div>\r\n                          <Button\r\n                            onClick={() => setModalOpen(false)}\r\n                            variant='contained'\r\n                            className='btn-danger text-white bg-danger'\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                          <Button\r\n                            onClick={submit}\r\n                            variant='contained'\r\n                            color='primary'\r\n                            className='text-white bg-primary'\r\n                            style={{ marginLeft: 10 }}\r\n                          >\r\n                            Submit\r\n                          </Button>\r\n\r\n                        </div>\r\n                      </ModalFooter>\r\n                    </Modal>\r\n                  </Box>\r\n                  <FilterLayout\r\n                    metric={metric}\r\n                    getCdn={getCdn}\r\n                    getContentPartner={getContentPartner}\r\n                    getContentType={getContentType}\r\n                    getLocation={getLocation}\r\n                    savePlatformData={savePlatformData}\r\n                    cdnVal={cdnVal}\r\n                    contentTypeVal={contentTypeVal}\r\n                    contentPartnetVal={contentPartnetVal}\r\n                    locationVal={locationVal}\r\n                    devicePlatform={devicePlatform}\r\n                    contentPartner={contentPartner}\r\n                    contentType={contentType}\r\n                    location={location}\r\n                    updatePlatformData={updatePlatformData}\r\n                  />\r\n                </Stack>\r\n              </div>\r\n              <div className='take-screenshot'>\r\n                <AppliedFilters\r\n                  attemptsData={[]}\r\n                  videoStartFailuresData={[]}\r\n                  exitBeforeVideoStartsData={[]}\r\n                  succesfullPlaysData={[]}\r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  metric={metric}\r\n                  removeDevicePlatform={removeDevicePlatform}\r\n                  removeContentPartner={removeContentPartner}\r\n                  removeContentType={removeContentType}\r\n                  removeLocation={removeLocation}\r\n                  devicePlatform={devicePlatform}\r\n                  updatePlatformData={updatePlatformData}\r\n                  handleReload={handleReload}\r\n                  contentPartner={contentPartner}\r\n                  contentType={contentType}\r\n                  location={location}\r\n                  selectVal={selectVal}\r\n                  androidDataPoints={\r\n                    devicePlatform?.includes(\"Android\")\r\n                      ? androidDataPoints\r\n                      : [0]\r\n                  }\r\n                  iosDataPoints={\r\n                    devicePlatform?.includes(\"iOS\") ? iosDataPoints : [0]\r\n                  }\r\n                  chromeDataPoints={\r\n                    devicePlatform?.includes(\"Web\") ? chromeDataPoints : [0]\r\n                  }\r\n                  tvDataPoints={\r\n                    devicePlatform?.includes(\"FireTV\") ? tvDataPoints : [0]\r\n                  }\r\n                  firestickDataPoints={\r\n                    devicePlatform?.includes(\"Firestick\")\r\n                      ? firestickDataPoints\r\n                      : [0]\r\n                  }\r\n                  androidSmartTvDataPoints={\r\n                    devicePlatform?.includes(\"AndroidSmartTv\") ? AndroidSmartTvDataPoints : [0]\r\n                  }\r\n                  androidDataReport={androidDataReport}\r\n                  iosDataReport={iosDataReport}\r\n                  firestickDataReport={firestickDataReport}\r\n                  webDataReport={webDataReport}\r\n                  totalDataReport={totalDataReport}\r\n                  androidSmartTvReport={AndroidSmartTvDataReport?AndroidSmartTvDataReport:0}\r\n\r\n                />\r\n                <FullScreen handle={handle}>\r\n                  <div className='chartCont'>\r\n                    {timeGraphDataPoints &&\r\n                      graphPointsUpdated &&\r\n                      !isLoadingData ? (\r\n                      <LineChartComponent\r\n                        selectVal={selectVal}\r\n                        timeGraphPoints={timeGraphDataPoints}\r\n                        metricGraphPoints={\r\n                          metricGraphPoints ? metricGraphPoints : []\r\n                        }\r\n                        androidDataPoints={androidDataPoints}\r\n                        iosDataPoints={iosDataPoints}\r\n                        chromeDataPoints={chromeDataPoints}\r\n                        tvDataPoints={tvDataPoints}\r\n                        firestickDataPoints={firestickDataPoints}\r\n                        graphPointsUpdated={graphPointsUpdated}\r\n                        isLoadingData={isLoadingData}\r\n                        settitle={settitle}\r\n                        unit={unit}\r\n                        devicePlatform={devicePlatform}\r\n                        androidSmartTvDataPoints={AndroidSmartTvDataPoints}\r\n                      />\r\n                    ) : (\r\n                      <RctPageLoader />\r\n                    )}\r\n                  </div>\r\n                </FullScreen>\r\n              </div>\r\n            </Paper>\r\n          </Box>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserEngagementMetrics;\r\n","import React from 'react'\r\n\r\nimport UserEngagementMetrics from 'Components/QualityExperience/UserEngagementMetrics'\r\nexport default function CrmUserEngagement(props) {\r\n\treturn (\r\n\t\t<div className=\"ecom-dashboard-wrapper 44\">\r\n\t\t\t<UserEngagementMetrics />\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"sourceRoot":""}