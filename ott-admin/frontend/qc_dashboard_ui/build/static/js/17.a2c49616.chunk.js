(this.webpackJsonpqoe=this.webpackJsonpqoe||[]).push([[17],{1659:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var c=n(24),r=n(25),i=n(9),o=n(8),a=n.n(o),d=n(1),l=n(1635),s=n(10),j=n(22),u=n(71),b=n(0);function v(e){var t,n,o=Object(j.c)(),v=Object(j.d)((function(e){return e.qoeReducer})),h=Object(d.useState)(!1),O=Object(i.a)(h,2),x=O[0],p=O[1],f=Object(d.useState)(!1),m=Object(i.a)(f,2),C=m[0],k=m[1],g=Object(d.useState)({}),y=Object(i.a)(g,2),S=y[0],w=y[1],N=Object(d.useState)([]),T=Object(i.a)(N,2),E=T[0],L=T[1],A=Object(d.useState)([]),I=Object(i.a)(A,2),M=I[0],H=I[1],R=Object(d.useState)([]),U=Object(i.a)(R,2),F=U[0],q=U[1],D=Object(d.useState)([]),J=Object(i.a)(D,2),P=J[0],W=J[1],Y=Object(l.d)({googleMapsApiKey:"AIzaSyDrr86JFplL6E731o7y_VMe5wIoHiWvnY4"}).isLoaded;Object(d.useEffect)((function(){var e={metric:"concurrent",operation:"count"},t={metric:"error",operation:"count"},n={metric:"concurrent",operation:"count"};o(Object(s.Yb)(o,e)),o(Object(s.U)(o,t)),o(Object(s.S)(o,t)),o(Object(s.Xb)(o,n));var c=setInterval((function(){window.location.href.includes("dashboard/crm/location")?(o(Object(s.Yb)(o,e)),o(Object(s.U)(o,t)),o(Object(s.S)(o,t)),o(Object(s.Xb)(o,n))):clearInterval(c)}),6e4);return function(){return clearInterval(c)}}),[]);var z=function(e){var t=[];return Object(r.a)(new Set(e.map((function(e){return e.provider})))).forEach((function(n){var c={provider:"",ios:"-",android:"-",firetv:"-",firestick:"-",web:"-"};e.forEach((function(e){var t;if(e.provider===n)switch(c.provider=e.provider,null===e||void 0===e||null===(t=e.platform)||void 0===t?void 0:t.toLowerCase()){case"ios":c.ios=e.concurrentplays;break;case"android":c.android=e.concurrentplays;break;case"firetv":c.firetv=e.concurrentplays;break;case"firestick":c.firestick=e.concurrentplays;break;case"web":c.web=e.concurrentplays}})),t.push(c)})),t},X=function(e){var t=[];return Object(r.a)(new Set(e.map((function(e){return e.provider})))).forEach((function(n){var c={provider:"",ios:"-",android:"-",firetv:"-",firestick:"-",web:"-"};e.forEach((function(e){var t;if(e.provider===n)switch(c.provider=e.provider,null===e||void 0===e||null===(t=e.platform)||void 0===t?void 0:t.toLowerCase()){case"ios":c.ios=e.count;break;case"android":c.android=e.count;break;case"firetv":c.firetv=e.count;break;case"firestick":c.firestick=e.count;break;case"web":c.web=e.count}})),t.push(c)})),t};Object(d.useEffect)(Object(c.a)(a.a.mark((function e(){var t,n,c,r,i,o,d,l,s,j,u,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("location--"),null!==v&&void 0!==v&&null!==(t=v.locationCoordinates)&&void 0!==t&&t.data&&(p(!1),o=null===v||void 0===v||null===(i=v.locationCoordinates)||void 0===i?void 0:i.data,d=[],o.forEach((function(e){var t={lat:e.latitude,lng:e.longitude,city:e.city,count:e.count};d.push(t)})),L(d)),null!==v&&void 0!==v&&null!==(n=v.errorLocationCoordinates)&&void 0!==n&&n.data&&(p(!1),s=null===v||void 0===v||null===(l=v.errorLocationCoordinates)||void 0===l?void 0:l.data,j=[],s.forEach((function(e){var t={lat:e.latitude,lng:e.longitude,city:e.city,count:e.count};j.push(t)})),H(j)),!((null===v||void 0===v||null===(c=v.conncurrentCount)||void 0===c?void 0:c.length)>0)){e.next=11;break}return p(!1),e.next=7,z(null===v||void 0===v?void 0:v.conncurrentCount);case 7:u=e.sent,q(u),e.next=12;break;case 11:q([]);case 12:if(!((null===v||void 0===v||null===(r=v.errorCount)||void 0===r?void 0:r.length)>0)){e.next=20;break}return p(!1),e.next=16,X(null===v||void 0===v?void 0:v.errorCount);case 16:b=e.sent,W(b),e.next=21;break;case 20:W([]);case 21:case"end":return e.stop()}}),e)}))),[null===v||void 0===v||null===(t=v.locationCoordinates)||void 0===t?void 0:t.data,null===v||void 0===v||null===(n=v.errorLocationCoordinates)||void 0===n?void 0:n.data,null===v||void 0===v?void 0:v.conncurrentCount,null===v||void 0===v?void 0:v.errorCount]);var K=function(e){w(e),k(!0)},V=function(){k(!1),w({})};return Y?x?Object(b.jsx)("div",{style:{height:"calc(100vh - 170px)",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(u.a,{})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"map",children:[Object(b.jsx)("h1",{children:"Location"}),Object(b.jsx)("div",{className:"detail-map",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-7 col-xl-7 location",children:[Object(b.jsxs)("div",{className:"bliper countTable",style:{marginLeft:"12px"},children:[Object(b.jsxs)("div",{children:["Concurrent Count ",Object(b.jsx)("br",{})," ",Object(b.jsx)("span",{className:"concurrentDotMarker"})]}),Object(b.jsxs)("div",{style:{marginLeft:"10px"},children:["Error Count",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"ssoDotMarker"})]})]}),Object(b.jsxs)(l.a,{mapContainerStyle:{width:"100%",height:"600px",marginLeft:"1rem"},center:{lat:22.9473,lng:79.1923},zoom:5,maxZoom:5,children:[(null===E||void 0===E?void 0:E.length)>0&&E.map((function(e){return Object(b.jsx)(l.c,{position:e,icon:"http://maps.google.com/mapfiles/ms/icons/pink-dot.png",onMouseOver:function(t){return K(e)},onClick:function(e){return V()}})})),(null===M||void 0===M?void 0:M.length)>0&&M.map((function(e){return Object(b.jsx)(l.c,{position:e,onMouseOver:function(t){return K(e)},onClick:function(e){return V()}})})),C&&Object(b.jsx)(l.b,{position:S,children:Object(b.jsxs)("div",{style:{background:"white",width:"auto",height:"55px"},children:[Object(b.jsx)("p",{children:S.city}),Object(b.jsx)("h1",{children:S.count})]})})]})]}),Object(b.jsxs)("div",{className:" countTable",style:{"margin-top":"24px"},children:[Object(b.jsx)("div",{className:" playCountTable",children:Object(b.jsxs)("table",{className:"table table-sm playTable",cellPadding:"0",cellSpacing:"0",children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{className:"playCountMainHeader",children:Object(b.jsx)("td",{colSpan:"6",children:"CONCURRENT COUNT"})}),Object(b.jsxs)("tr",{className:"playCountHeader",children:[Object(b.jsx)("th",{children:"Partner"}),Object(b.jsx)("th",{children:"IOS"}),Object(b.jsx)("th",{children:"Android"}),Object(b.jsx)("th",{children:"AndroidSmartTv"}),Object(b.jsx)("th",{children:"FireStick"}),Object(b.jsx)("th",{children:"Web"})]})]}),Object(b.jsx)("tbody",{children:(null===F||void 0===F?void 0:F.length)>0&&F.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"playCountSideHeader",children:null===e||void 0===e?void 0:e.provider}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.ios}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.android}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.AndroidSmartTv}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.firestick}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.web})]},t)}))})]})}),Object(b.jsx)("div",{className:" errorCountTable",children:Object(b.jsxs)("table",{className:"table table-sm errorTable",children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{className:"errorCountMainHeader",children:Object(b.jsx)("td",{colSpan:"6",children:"ERROR COUNT"})}),Object(b.jsxs)("tr",{className:"errorCountHeader",children:[Object(b.jsx)("th",{children:"Partner"}),Object(b.jsx)("th",{children:"IOS"}),Object(b.jsx)("th",{children:"Android"}),Object(b.jsx)("th",{children:"AndroidSmartTv"}),Object(b.jsx)("th",{children:"FireStick"}),Object(b.jsx)("th",{children:"Web"})]})]}),Object(b.jsx)("tbody",{children:(null===P||void 0===P?void 0:P.length)>0&&P.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"errorCountSideHeader",children:e.provider}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.ios}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.android}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.AndroidSmartTv}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.firestick}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.web})]},t)}))})]})})]})]})})]})}):Object(b.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=17.a2c49616.chunk.js.map